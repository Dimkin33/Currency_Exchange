2025-04-13 12:01:40,669 - INFO - Инициализация базы данных
2025-04-13 12:01:40,670 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:01:40,670 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:01:52,773 - INFO - Получение списка валют
2025-04-13 12:04:31,716 - INFO - Инициализация базы данных
2025-04-13 12:04:31,717 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:04:31,718 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:04:41,984 - INFO - Получение списка валют
2025-04-13 12:04:55,835 - INFO - Получение списка валют
2025-04-13 12:05:03,467 - INFO - Получение валюты по коду
2025-04-13 12:05:03,498 - INFO - Получение валюты по коду: USD
2025-04-13 12:05:03,652 - INFO - Валюта найдена: (2, 'USD', 'Доллар США', '$')
2025-04-13 12:05:03,684 - INFO - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 12:05:20,515 - INFO - Получение списка валют
2025-04-13 12:05:28,769 - INFO - Получение валюты по коду
2025-04-13 12:05:28,799 - INFO - Получение валюты по коду: USD
2025-04-13 12:05:28,939 - INFO - Валюта найдена: (2, 'USD', 'Доллар США', '$')
2025-04-13 12:05:28,971 - INFO - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 12:08:08,026 - INFO - Завершение работы сервера
2025-04-13 12:08:09,366 - INFO - Инициализация базы данных
2025-04-13 12:08:09,367 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:08:09,367 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:08:12,898 - INFO - Получение списка валют
2025-04-13 12:09:45,629 - INFO - Завершение работы сервера
2025-04-13 12:10:27,776 - INFO - Инициализация базы данных
2025-04-13 12:10:27,777 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:10:27,778 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:10:32,306 - INFO - Получение списка валют
2025-04-13 12:13:21,084 - INFO - Завершение работы сервера
2025-04-13 12:13:22,632 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:13:22,632 - INFO - Инициализация базы данных
2025-04-13 12:13:22,633 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:13:22,633 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:13:50,906 - INFO - Получение списка валют
2025-04-13 12:14:31,571 - INFO - Получение валюты по коду
2025-04-13 12:14:31,602 - INFO - Получение валюты по коду: EUR
2025-04-13 12:14:31,739 - INFO - Валюта найдена: (3, 'EUR', 'Евро', '€')
2025-04-13 12:14:31,770 - INFO - Валюта найдена: {'id': 3, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-13 12:15:32,705 - INFO - Добавление новой валюты
2025-04-13 12:15:32,736 - INFO - Добавление валюты: KHR, ៛, Камбоджийский риель
2025-04-13 12:15:32,877 - INFO - Валюта KHR успешно добавлена в базу данных
2025-04-13 12:15:32,922 - INFO - Валюта KHR успешно добавлена
2025-04-13 12:15:32,952 - INFO - Получение валюты по коду: KHR
2025-04-13 12:15:33,107 - INFO - Валюта найдена: (16, 'KHR', '៛', 'Камбоджийский риель')
2025-04-13 12:17:49,001 - INFO - Получение валюты по коду
2025-04-13 12:17:49,032 - INFO - Получение валюты по коду: EUR
2025-04-13 12:17:49,126 - INFO - Валюта найдена: (3, 'EUR', 'Евро', '€')
2025-04-13 12:17:49,156 - INFO - Валюта найдена: {'id': 3, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-13 12:19:41,561 - INFO - Завершение работы сервера
2025-04-13 12:19:42,827 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:19:42,827 - INFO - Инициализация базы данных
2025-04-13 12:19:42,828 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:19:42,829 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:19:56,209 - INFO - Получение валюты по коду
2025-04-13 12:19:56,225 - INFO - Получение валюты по коду: EUR
2025-04-13 12:19:56,363 - INFO - Валюта найдена: (3, 'EUR', 'Евро', '€')
2025-04-13 12:19:56,395 - INFO - Валюта найдена: {'id': 3, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-13 12:26:12,006 - INFO - Завершение работы сервера
2025-04-13 12:26:14,064 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:26:14,064 - INFO - Инициализация базы данных
2025-04-13 12:26:14,065 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:26:14,066 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:26:20,063 - INFO - Получение списка валют
2025-04-13 12:34:25,438 - INFO - Завершение работы сервера
2025-04-13 12:34:27,353 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:34:27,353 - INFO - Инициализация базы данных
2025-04-13 12:34:27,353 - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 12:34:27,354 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:34:27,355 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:34:52,813 - INFO - Получение списка валют
2025-04-13 12:35:01,948 - INFO - Получение валюты по коду
2025-04-13 12:35:01,978 - INFO - Получение валюты по коду: EUR
2025-04-13 12:35:02,132 - INFO - Валюта найдена: (3, 'EUR', 'Евро', '€')
2025-04-13 12:35:02,163 - INFO - Валюта найдена: {'id': 3, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-13 12:35:56,743 - INFO - Завершение работы сервера
2025-04-13 12:35:58,315 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:35:58,315 - INFO - Инициализация базы данных
2025-04-13 12:35:58,315 - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 12:35:58,316 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:35:58,316 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:36:12,087 - INFO - Получение списка валют
2025-04-13 12:44:58,928 - INFO - Завершение работы сервера
2025-04-13 12:45:00,728 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:45:00,728 - INFO - Инициализация базы данных
2025-04-13 12:45:00,728 - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 12:45:00,729 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:45:00,730 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:45:07,030 - INFO - Получение списка валют
2025-04-13 12:49:46,731 - INFO - Завершение работы сервера
2025-04-13 12:49:48,117 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:49:48,184 - INFO - Инициализация базы данных
2025-04-13 12:49:48,184 - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 12:49:48,185 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:49:48,185 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:49:55,297 - INFO - Получение списка валют
2025-04-13 12:50:11,842 - INFO - Получение валюты по коду
2025-04-13 12:50:11,872 - INFO - Получение валюты по коду: EUR
2025-04-13 12:50:12,044 - INFO - Валюта найдена: (3, 'EUR', 'Евро', '€')
2025-04-13 12:50:12,075 - INFO - Валюта найдена: {'id': 3, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-13 12:52:18,631 - INFO - Завершение работы сервера
2025-04-13 12:52:53,765 - INFO - Инициализация базы данных
2025-04-13 12:52:53,765 - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 12:52:53,766 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:52:53,767 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:53:14,372 - INFO - Получение списка валют
2025-04-13 12:53:27,056 - INFO - Получение валюты по коду
2025-04-13 12:53:27,086 - INFO - Получение валюты по коду: USD
2025-04-13 12:53:27,225 - INFO - Валюта найдена: (2, 'USD', 'Доллар США', '$')
2025-04-13 12:53:27,255 - INFO - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 12:53:53,734 - INFO - Завершение работы сервера
2025-04-13 12:53:55,117 - DEBUG - Это тестовое сообщение уровня DEBUG
2025-04-13 12:53:55,185 - INFO - Инициализация базы данных
2025-04-13 12:53:55,185 - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 12:53:55,186 - INFO - Запуск сервера в отдельном потоке
2025-04-13 12:53:55,187 - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 12:53:58,236 - INFO - Получение списка валют
2025-04-13 13:10:02,036 - INFO - Получение списка валют
2025-04-13 13:10:09,550 - INFO - Добавление новой валюты
2025-04-13 13:10:09,580 - INFO - Добавление валюты: EUR, €, Евро
2025-04-13 13:10:09,686 - WARNING - Валюта EUR уже существует в базе данных
2025-04-13 13:10:09,734 - ERROR - Ошибка при добавлении валюты: Currency already exists
2025-04-13 13:10:19,649 - INFO - Добавление новой валюты
2025-04-13 13:10:29,143 - INFO - Добавление новой валюты
2025-04-13 13:10:29,173 - INFO - Добавление валюты: IRR, ﷼, Иранский риал
2025-04-13 13:10:29,266 - WARNING - Валюта IRR уже существует в базе данных
2025-04-13 13:10:29,314 - ERROR - Ошибка при добавлении валюты: Currency already exists
2025-04-13 13:11:01,930 - INFO - Добавление новой валюты
2025-04-13 13:11:02,671 - INFO - Добавление новой валюты
2025-04-13 13:13:01,229 - INFO - Добавление новой валюты
2025-04-13 13:13:01,261 - INFO - Добавление валюты: HUF, Ft, Венгерский форинт
2025-04-13 13:13:01,383 - INFO - Валюта HUF успешно добавлена в базу данных
2025-04-13 13:13:01,430 - INFO - Валюта HUF успешно добавлена
2025-04-13 13:13:01,461 - INFO - Получение валюты по коду: HUF
2025-04-13 13:13:01,554 - INFO - Валюта найдена: (17, 'HUF', 'Ft', 'Венгерский форинт')
2025-04-13 13:13:49,844 - INFO - Добавление новой валюты
2025-04-13 13:13:50,573 - INFO - Добавление новой валюты
2025-04-13 13:14:09,309 - INFO - Добавление новой валюты
2025-04-13 13:14:09,340 - INFO - Добавление валюты: ISK, kr, Исландская крона
2025-04-13 13:14:09,448 - INFO - Валюта ISK успешно добавлена в базу данных
2025-04-13 13:14:09,495 - INFO - Валюта ISK успешно добавлена
2025-04-13 13:14:09,526 - INFO - Получение валюты по коду: ISK
2025-04-13 13:14:09,726 - INFO - Валюта найдена: (18, 'ISK', 'kr', 'Исландская крона')
2025-04-13 13:25:48,128 - INFO - Завершение работы сервера
2025-04-13 13:26:09,234 - root - INFO - Инициализация базы данных
2025-04-13 13:26:09,234 - model - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 13:26:09,235 - root - INFO - Запуск сервера в отдельном потоке
2025-04-13 13:26:09,236 - app_server - INFO - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 13:26:09,236 - root - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 13:29:20,609 - INFO - Добавление новой валюты
2025-04-13 13:29:20,639 - INFO - Добавление валюты: ISK, kr, Исландская крона
2025-04-13 13:29:20,732 - WARNING - Валюта ISK уже существует в базе данных
2025-04-13 13:29:20,780 - ERROR - Ошибка при добавлении валюты: Currency already exists
2025-04-13 13:29:27,742 - INFO - Получение списка валют
2025-04-13 13:29:36,699 - INFO - Получение валюты по коду
2025-04-13 13:29:36,728 - INFO - Получение валюты по коду: USD
2025-04-13 13:29:36,867 - INFO - Валюта найдена: (2, 'USD', 'Доллар США', '$')
2025-04-13 13:29:36,898 - INFO - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 13:29:57,250 - INFO - Получение валюты по коду: RUB
2025-04-13 13:29:57,388 - INFO - Валюта найдена: (5, 'RUB', 'Российский рубль', '₽')
2025-04-13 13:36:53,319 - root - INFO - Завершение работы сервера
2025-04-13 13:37:28,920 - root - INFO - Инициализация базы данных
2025-04-13 13:37:28,920 - model - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 13:37:28,921 - root - INFO - Запуск сервера в отдельном потоке
2025-04-13 13:37:28,922 - app_server - INFO - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 13:37:28,922 - root - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 13:38:20,541 - INFO - Получение списка валют
2025-04-13 13:38:34,055 - root - INFO - Завершение работы сервера
2025-04-13 13:42:40,118 - root - INFO - Инициализация базы данных
2025-04-13 13:42:40,118 - model - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 13:42:40,120 - root - INFO - Запуск сервера в отдельном потоке
2025-04-13 13:42:40,121 - app_server - INFO - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 13:42:40,121 - root - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 13:42:53,606 - INFO - Получение валюты по коду
2025-04-13 13:42:53,622 - INFO - Получение валюты по коду: ISK
2025-04-13 13:42:53,745 - INFO - Валюта найдена: (18, 'ISK', 'kr', 'Исландская крона')
2025-04-13 13:42:53,775 - INFO - Валюта найдена: {'id': 18, 'code': 'ISK', 'name': 'kr', 'sign': 'Исландская крона'}
2025-04-13 13:42:56,357 - INFO - Получение валюты по коду
2025-04-13 13:42:56,387 - INFO - Получение валюты по коду: ISK
2025-04-13 13:42:56,511 - INFO - Валюта найдена: (18, 'ISK', 'kr', 'Исландская крона')
2025-04-13 13:42:56,542 - INFO - Валюта найдена: {'id': 18, 'code': 'ISK', 'name': 'kr', 'sign': 'Исландская крона'}
2025-04-13 13:43:01,512 - root - INFO - Завершение работы сервера
2025-04-13 13:50:13,681 - __main__ - DEBUG - Тестовое сообщение уровня DEBUG
2025-04-13 13:50:13,681 - __main__ - INFO - Инициализация базы данных
2025-04-13 13:50:13,681 - model - INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 13:50:13,682 - __main__ - INFO - Запуск сервера в отдельном потоке
2025-04-13 13:50:13,683 - app_server - INFO - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 13:50:13,683 - __main__ - INFO - Сервер запущен. Ожидание запросов.
2025-04-13 13:50:29,289 - INFO - Получение валюты по коду: RUB
2025-04-13 13:50:29,429 - INFO - Валюта найдена: (5, 'RUB', 'Российский рубль', '₽')
2025-04-13 13:51:20,894 - INFO - Получение списка валют
2025-04-13 13:53:53,452 - __main__ - INFO - Завершение работы сервера
2025-04-13 13:53:55,554 - __main__ -    DEBUG - Тестовое сообщение уровня DEBUG
2025-04-13 13:53:55,555 - __main__ -     INFO - Инициализация базы данных
2025-04-13 13:53:55,555 -    model -     INFO - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 13:53:55,556 - __main__ -     INFO - Запуск сервера в отдельном потоке
2025-04-13 13:53:55,556 - app_server -     INFO - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 13:53:55,557 - __main__ -     INFO - Сервер запущен. Ожидание запросов.
2025-04-13 13:54:24,347 - __main__ -     INFO - Завершение работы сервера
2025-04-13 13:54:25,640 - __main__ - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 13:54:25,640 - __main__ - INFO     - Инициализация базы данных
2025-04-13 13:54:25,640 - model    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 13:54:25,641 - __main__ - INFO     - Запуск сервера в отдельном потоке
2025-04-13 13:54:25,642 - app_server - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 13:54:25,642 - __main__ - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 13:54:37,975 - __main__ - INFO     - Завершение работы сервера
2025-04-13 13:54:39,080 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 13:54:39,080 - __main__     - INFO     - Инициализация базы данных
2025-04-13 13:54:39,080 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 13:54:39,081 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 13:54:39,082 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 13:54:39,082 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 13:57:11,610 - INFO - Получение списка валют
2025-04-13 13:58:53,348 - INFO - Получение валюты по коду
2025-04-13 13:58:53,378 - INFO - Получение валюты по коду: ISK
2025-04-13 13:58:53,487 - INFO - Валюта найдена: (18, 'ISK', 'kr', 'Исландская крона')
2025-04-13 13:58:53,517 - INFO - Валюта найдена: {'id': 18, 'code': 'ISK', 'name': 'kr', 'sign': 'Исландская крона'}
2025-04-13 14:03:16,327 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:03:18,310 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:03:18,310 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:03:18,310 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:03:18,311 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:03:18,312 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:03:18,312 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:03:23,743 - INFO - Получение списка валют
2025-04-13 14:04:18,924 - INFO - Получение списка валют
2025-04-13 14:04:21,796 - INFO - Получение списка валют
2025-04-13 14:04:36,039 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:04:42,714 - INFO - Получение списка валют
2025-04-13 14:05:14,913 - INFO - Завершение работы сервера
2025-04-13 14:05:48,695 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:05:48,695 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:05:48,695 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:48,696 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:05:48,697 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:05:48,697 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:05:56,659 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:05:56,690 - router       - INFO     - Инициализация Router
2025-04-13 14:05:56,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,752 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,783 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,814 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,844 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,876 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,906 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,937 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:56,967 - router       - INFO     - Маршрутизация запроса: GET /currencies
2025-04-13 14:05:56,999 - router       - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 14:05:57,029 - controller   - INFO     - Получение списка валют
2025-04-13 14:05:57,452 - controller   - DEBUG    - Список валют: [{'id': 1, 'code': 'GEL', 'name': 'Грузинский лари', 'sign': '₾'}, {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 3, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 4, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 5, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 6, 'code': 'KWD', 'name': 'Кувейтский динар', 'sign': 'د.ك'}, {'id': 7, 'code': 'KZT', 'name': 'Казахстанский тенге', 'sign': '₸'}, {'id': 8, 'code': 'KES', 'name': 'Кенийский шиллинг', 'sign': 'KSh'}, {'id': 9, 'code': 'IRR', 'name': 'Иранский риал', 'sign': '﷼'}, {'id': 10, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 11, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, {'id': 12, 'code': 'BYN', 'name': 'Белорусский рубль', 'sign': 'Br'}, {'id': 13, 'code': 'BBD', 'name': 'Bds$', 'sign': 'Барбадосский доллар'}, {'id': 14, 'code': 'JOD', 'name': 'د.ا', 'sign': 'Иорданский динар'}, {'id': 15, 'code': 'AWG', 'name': 'ƒ', 'sign': 'Арубанский флорин'}, {'id': 16, 'code': 'KHR', 'name': '៛', 'sign': 'Камбоджийский риель'}, {'id': 17, 'code': 'HUF', 'name': 'Ft', 'sign': 'Венгерский форинт'}, {'id': 18, 'code': 'ISK', 'name': 'kr', 'sign': 'Исландская крона'}]
2025-04-13 14:05:57,479 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:05:57,511 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'GEL', 'name': 'Грузинский лари', 'sign': '₾'}, {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 3, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 4, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 5, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 6, 'code': 'KWD', 'name': 'Кувейтский динар', 'sign': 'د.ك'}, {'id': 7, 'code': 'KZT', 'name': 'Казахстанский тенге', 'sign': '₸'}, {'id': 8, 'code': 'KES', 'name': 'Кенийский шиллинг', 'sign': 'KSh'}, {'id': 9, 'code': 'IRR', 'name': 'Иранский риал', 'sign': '﷼'}, {'id': 10, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 11, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, {'id': 12, 'code': 'BYN', 'name': 'Белорусский рубль', 'sign': 'Br'}, {'id': 13, 'code': 'BBD', 'name': 'Bds$', 'sign': 'Барбадосский доллар'}, {'id': 14, 'code': 'JOD', 'name': 'د.ا', 'sign': 'Иорданский динар'}, {'id': 15, 'code': 'AWG', 'name': 'ƒ', 'sign': 'Арубанский флорин'}, {'id': 16, 'code': 'KHR', 'name': '៛', 'sign': 'Камбоджийский риель'}, {'id': 17, 'code': 'HUF', 'name': 'Ft', 'sign': 'Венгерский форинт'}, {'id': 18, 'code': 'ISK', 'name': 'kr', 'sign': 'Исландская крона'}]
2025-04-13 14:05:58,009 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:05:58,039 - router       - INFO     - Инициализация Router
2025-04-13 14:05:58,070 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,102 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,132 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,163 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,195 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,225 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,257 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,288 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:05:58,318 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:05:58,350 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:05:58,382 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:05:58,412 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:10:23,017 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:10:23,047 - router       - INFO     - Инициализация Router
2025-04-13 14:10:23,078 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,108 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,139 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,171 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,201 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,231 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,262 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,292 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:23,325 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:10:23,355 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:10:23,386 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:10:23,416 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:10:27,486 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:10:27,517 - router       - INFO     - Инициализация Router
2025-04-13 14:10:27,548 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,595 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,626 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,657 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,689 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,751 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,782 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:27,812 - router       - INFO     - Маршрутизация запроса: GET /currency
2025-04-13 14:10:27,844 - router       - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 14:10:27,876 - controller   - INFO     - Получение валюты по коду
2025-04-13 14:10:27,906 - controller   - DEBUG    - Код валюты из запроса: USD
2025-04-13 14:10:27,936 - root         - INFO     - Получение валюты по коду: USD
2025-04-13 14:10:28,029 - root         - DEBUG    - Результат запроса: (2, 'USD', 'Доллар США', '$')
2025-04-13 14:10:28,075 - controller   - INFO     - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:10:28,106 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:10:28,137 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:10:28,911 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:10:28,942 - router       - INFO     - Инициализация Router
2025-04-13 14:10:28,973 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,004 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,035 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,066 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,097 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,127 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,157 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,188 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:10:29,219 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:10:29,249 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:10:29,281 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:10:29,312 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:13:14,170 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:13:14,201 - router       - INFO     - Инициализация Router
2025-04-13 14:13:14,232 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,262 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,293 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,325 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,355 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,386 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,402 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,433 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:13:14,479 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:13:14,509 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:13:14,540 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:13:14,571 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:15:24,575 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:15:24,605 - router       - INFO     - Инициализация Router
2025-04-13 14:15:24,636 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,667 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,698 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,730 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,761 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,791 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,807 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,837 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:24,868 - router       - INFO     - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:15:24,899 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:15:25,069 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:15:25,518 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:15:25,549 - router       - INFO     - Инициализация Router
2025-04-13 14:15:25,581 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,611 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,642 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,673 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,703 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,733 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,765 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,795 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:25,826 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:15:25,856 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:15:25,887 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:15:25,918 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:15:34,580 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:15:34,610 - router       - INFO     - Инициализация Router
2025-04-13 14:15:34,642 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,672 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,704 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,734 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,766 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,798 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,828 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,859 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:34,891 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:15:34,921 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:15:34,951 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:15:34,983 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:15:49,673 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:15:49,705 - router       - INFO     - Инициализация Router
2025-04-13 14:15:49,735 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,766 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,798 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,828 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,859 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,891 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,921 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,952 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:49,983 - router       - INFO     - Маршрутизация запроса: GET /exchangeRates
2025-04-13 14:15:50,013 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 14:15:50,043 - root         - INFO     - Получение курсов обмена валют
2025-04-13 14:15:50,888 - root         - DEBUG    - Результаты запроса: [(1, 'GEL', 'RUB', 1.6), (2, 'GEL', 'RUB', 1.6), (3, 'GEL', 'RUB', 1.6), (4, 'RUB', 'GEL', 1.6), (5, 'RUB', 'EUR', 1.6), (6, 'RUB', 'EUR', 1.6), (7, 'RUB', 'EUR', 1.6), (8, 'RUB', 'EUR', 1.6), (9, 'RUB', 'EUR', 1.6), (10, 'RUB', 'EUR', 1.6), (11, 'RUB', 'EUR', 1.6), (12, 'RUB', 'EUR', 1.6), (13, 'RUB', 'EUR', 1.6), (14, 'RUB', 'EUR', 1.6), (15, 'RUB', 'EUR', 1.6), (16, 'RUB', 'EUR', 1.6), (17, 'RUB', 'EUR', 1.6), (18, 'RUB', 'EUR', 1.6), (19, 'RUB', 'EUR', 1.6), (20, 'RUB', 'EUR', 1.6), (21, 'RUB', 'EUR', 1.6), (22, 'RUB', 'EUR', 1.6), (23, 'RUB', 'EUR', 1.6), (24, 'RUB', 'EUR', 1.6), (25, 'RUB', 'EUR', 1.6), (26, 'EUR', 'USD', 1.6), (27, 'USD', 'EUR', 1.3), (28, 'USD', 'ALL', 1.4), (29, 'USD', 'IDR', 1.3), (30, 'ZAR', 'ALL', 1.4), (31, 'ZAR', 'EUR', 1.4), (32, 'ZAR', 'USD', 1.4), (33, 'ZAR', 'RUB', 1.4), (34, 'EUR', 'ZAR', 1.4), (35, 'USD', 'ZAR', 1.3), (36, 'RUB', 'ZAR', 1.3), (37, 'USD', 'ZAR', 1.3), (38, 'USD', 'ZAR', 1.3), (39, 'USD', 'ZAR', 1.3), (40, 'USD', 'ZAR', 1.3), (41, 'USD', 'ZAR', 1.3), (42, 'USD', 'ZAR', 1.3), (43, 'USD', 'ZAR', 1.3), (44, 'USD', 'ALL', 1.4), (45, 'USD', 'ALL', 1.4), (46, 'USD', 'ALL', 1.4), (47, 'USD', 'ISK', 45367.0), (48, 'USD', 'ISK', 45367.0), (49, 'USD', 'ISK', 45367.0), (50, 'EUR', 'ZAR', 1.3)]
2025-04-13 14:15:50,934 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:15:50,965 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': 'GEL', 'to': 'RUB', 'rate': 1.6}, {'id': 2, 'from': 'GEL', 'to': 'RUB', 'rate': 1.6}, {'id': 3, 'from': 'GEL', 'to': 'RUB', 'rate': 1.6}, {'id': 4, 'from': 'RUB', 'to': 'GEL', 'rate': 1.6}, {'id': 5, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 6, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 7, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 8, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 9, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 10, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 11, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 12, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 13, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 14, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 15, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 16, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 17, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 18, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 19, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 20, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 21, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 22, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 23, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 24, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 25, 'from': 'RUB', 'to': 'EUR', 'rate': 1.6}, {'id': 26, 'from': 'EUR', 'to': 'USD', 'rate': 1.6}, {'id': 27, 'from': 'USD', 'to': 'EUR', 'rate': 1.3}, {'id': 28, 'from': 'USD', 'to': 'ALL', 'rate': 1.4}, {'id': 29, 'from': 'USD', 'to': 'IDR', 'rate': 1.3}, {'id': 30, 'from': 'ZAR', 'to': 'ALL', 'rate': 1.4}, {'id': 31, 'from': 'ZAR', 'to': 'EUR', 'rate': 1.4}, {'id': 32, 'from': 'ZAR', 'to': 'USD', 'rate': 1.4}, {'id': 33, 'from': 'ZAR', 'to': 'RUB', 'rate': 1.4}, {'id': 34, 'from': 'EUR', 'to': 'ZAR', 'rate': 1.4}, {'id': 35, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 36, 'from': 'RUB', 'to': 'ZAR', 'rate': 1.3}, {'id': 37, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 38, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 39, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 40, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 41, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 42, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 43, 'from': 'USD', 'to': 'ZAR', 'rate': 1.3}, {'id': 44, 'from': 'USD', 'to': 'ALL', 'rate': 1.4}, {'id': 45, 'from': 'USD', 'to': 'ALL', 'rate': 1.4}, {'id': 46, 'from': 'USD', 'to': 'ALL', 'rate': 1.4}, {'id': 47, 'from': 'USD', 'to': 'ISK', 'rate': 45367.0}, {'id': 48, 'from': 'USD', 'to': 'ISK', 'rate': 45367.0}, {'id': 49, 'from': 'USD', 'to': 'ISK', 'rate': 45367.0}, {'id': 50, 'from': 'EUR', 'to': 'ZAR', 'rate': 1.3}]
2025-04-13 14:15:51,751 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:15:51,781 - router       - INFO     - Инициализация Router
2025-04-13 14:15:51,812 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:51,842 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:51,873 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:51,904 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:51,935 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:51,966 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:51,996 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:52,026 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:15:52,056 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:15:52,088 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:15:52,119 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:15:52,149 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:16:29,558 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:16:29,589 - router       - INFO     - Инициализация Router
2025-04-13 14:16:29,621 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,652 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,683 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,714 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,745 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,776 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,807 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,838 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:29,869 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:29,901 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:29,931 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:16:29,962 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:16:49,149 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:16:49,179 - router       - INFO     - Инициализация Router
2025-04-13 14:16:49,211 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,242 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,272 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,303 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,334 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,364 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,394 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,426 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:49,457 - router       - INFO     - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:16:49,488 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:16:49,641 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:16:50,070 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:16:50,101 - router       - INFO     - Инициализация Router
2025-04-13 14:16:50,132 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,163 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,195 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,225 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,256 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,287 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,318 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,348 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:50,379 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:50,410 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:50,442 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:16:50,473 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:16:54,567 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:16:54,598 - router       - INFO     - Инициализация Router
2025-04-13 14:16:54,628 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,660 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,690 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,752 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,783 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,815 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,846 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:54,877 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:54,908 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:54,939 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:16:54,970 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:16:55,871 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:16:55,902 - router       - INFO     - Инициализация Router
2025-04-13 14:16:55,933 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:55,964 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:55,996 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:56,026 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:56,057 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:56,088 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:56,119 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:56,150 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:56,195 - router       - INFO     - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:16:56,227 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:16:56,414 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:16:57,158 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:16:57,190 - router       - INFO     - Инициализация Router
2025-04-13 14:16:57,221 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,251 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,282 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,314 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,344 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,374 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,405 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,435 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:16:57,466 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:57,497 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:16:57,529 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:16:57,559 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:17:05,788 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:17:05,818 - router       - INFO     - Инициализация Router
2025-04-13 14:17:05,849 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:05,880 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:05,911 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:05,942 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:05,972 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:06,004 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:06,034 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:06,064 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:06,096 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:17:06,126 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:17:06,157 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:17:06,188 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:17:13,635 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:17:13,665 - router       - INFO     - Инициализация Router
2025-04-13 14:17:13,697 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,729 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,759 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,790 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,822 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,852 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,884 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,915 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:13,946 - router       - INFO     - Маршрутизация запроса: GET /currency
2025-04-13 14:17:13,976 - router       - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 14:17:14,008 - controller   - INFO     - Получение валюты по коду
2025-04-13 14:17:14,038 - controller   - DEBUG    - Код валюты из запроса: USD
2025-04-13 14:17:14,069 - root         - INFO     - Получение валюты по коду: USD
2025-04-13 14:17:14,161 - root         - DEBUG    - Результат запроса: (2, 'USD', 'Доллар США', '$')
2025-04-13 14:17:14,209 - controller   - INFO     - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:17:14,240 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:17:14,271 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:17:14,689 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:17:14,721 - router       - INFO     - Инициализация Router
2025-04-13 14:17:14,751 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,781 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,812 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,842 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,873 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,904 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,936 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,966 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:17:14,996 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:17:15,028 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:17:15,058 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:17:15,088 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:18:28,726 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:25:43,867 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:25:43,867 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:25:43,867 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:43,868 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:25:43,869 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:25:43,869 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:25:56,148 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:25:56,179 - router       - INFO     - Инициализация Router
2025-04-13 14:25:56,209 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,241 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,271 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,304 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,334 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,366 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,396 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,427 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:25:56,457 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:25:56,489 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:25:56,521 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:25:56,551 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:30:54,558 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:30:54,589 - router       - INFO     - Инициализация Router
2025-04-13 14:30:54,620 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,651 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,681 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,712 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,743 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,759 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,789 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,821 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:54,851 - router       - INFO     - Маршрутизация запроса: GET /currency
2025-04-13 14:30:54,881 - router       - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 14:30:54,912 - controller   - INFO     - Получение валюты по коду
2025-04-13 14:30:54,943 - controller   - DEBUG    - Код валюты из запроса: USD
2025-04-13 14:30:54,973 - root         - INFO     - Получение валюты по коду: USD
2025-04-13 14:30:55,067 - root         - DEBUG    - Результат запроса: (2, 'USD', 'Доллар США', '$')
2025-04-13 14:30:55,114 - controller   - INFO     - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:30:55,145 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:30:55,176 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:30:55,933 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:30:55,964 - router       - INFO     - Инициализация Router
2025-04-13 14:30:55,994 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,025 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,055 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,086 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,118 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,150 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,179 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,212 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:30:56,242 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:30:56,274 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:30:56,304 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:30:56,335 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:31:10,275 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:31:10,306 - router       - INFO     - Инициализация Router
2025-04-13 14:31:10,338 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,368 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,400 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,431 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,461 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,493 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,525 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,555 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:10,587 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:10,617 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:10,649 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:31:10,681 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:31:11,594 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:31:11,625 - router       - INFO     - Инициализация Router
2025-04-13 14:31:11,656 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,686 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,716 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,747 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,779 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,810 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,840 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,871 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:11,902 - router       - INFO     - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:31:11,933 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:31:12,072 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:31:12,827 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:31:12,858 - router       - INFO     - Инициализация Router
2025-04-13 14:31:12,889 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:12,921 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:12,952 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:12,983 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:13,013 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:13,045 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:13,091 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:13,122 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:13,152 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:13,184 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:13,215 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:31:13,247 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:31:23,389 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:31:23,421 - router       - INFO     - Инициализация Router
2025-04-13 14:31:23,451 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,482 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,513 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,544 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,575 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,606 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,637 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,668 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:23,699 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:23,746 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:23,777 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:31:23,807 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:31:36,721 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:31:36,751 - router       - INFO     - Инициализация Router
2025-04-13 14:31:36,782 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:36,813 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:36,844 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:36,875 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:36,905 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:36,936 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:36,966 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:36,997 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:37,028 - router       - INFO     - Маршрутизация запроса: GET /currency
2025-04-13 14:31:37,058 - router       - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 14:31:37,089 - controller   - INFO     - Получение валюты по коду
2025-04-13 14:31:37,120 - controller   - DEBUG    - Код валюты из запроса: USD
2025-04-13 14:31:37,151 - root         - INFO     - Получение валюты по коду: USD
2025-04-13 14:31:37,259 - root         - DEBUG    - Результат запроса: (2, 'USD', 'Доллар США', '$')
2025-04-13 14:31:37,305 - controller   - INFO     - Валюта найдена: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:31:37,336 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:31:37,366 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 14:31:37,802 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:31:37,832 - router       - INFO     - Инициализация Router
2025-04-13 14:31:37,862 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:37,892 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:37,923 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:37,955 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:37,985 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:38,016 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:38,048 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:38,078 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:38,109 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:38,140 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:38,170 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:31:38,201 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:31:39,979 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:31:40,011 - router       - INFO     - Инициализация Router
2025-04-13 14:31:40,041 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,073 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,103 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,135 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,165 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,197 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,229 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,259 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:40,291 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:40,321 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:40,353 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:31:40,383 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:31:41,446 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:31:41,476 - router       - INFO     - Инициализация Router
2025-04-13 14:31:41,507 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,539 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,570 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,600 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,630 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,661 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,691 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:41,752 - router       - INFO     - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:31:41,783 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:31:41,954 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:31:42,691 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:31:42,722 - router       - INFO     - Инициализация Router
2025-04-13 14:31:42,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,784 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,800 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,831 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,861 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,892 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,922 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,953 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:31:42,983 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:43,014 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:31:43,045 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:31:43,076 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:34:47,872 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:34:47,903 - router       - INFO     - Инициализация Router
2025-04-13 14:34:47,934 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:47,965 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:47,997 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:48,028 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:48,059 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:48,090 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:48,121 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:48,152 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:48,184 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:34:48,215 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:34:48,246 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:34:48,277 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:34:49,829 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:34:49,860 - router       - INFO     - Инициализация Router
2025-04-13 14:34:49,892 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:49,923 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:49,954 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:49,985 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:50,016 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:50,047 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:50,078 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:50,109 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:50,139 - router       - INFO     - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:34:50,170 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:34:50,338 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:34:51,114 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:34:51,144 - router       - INFO     - Инициализация Router
2025-04-13 14:34:51,176 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,207 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,237 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,267 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,299 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,329 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,361 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,391 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:34:51,423 - router       - INFO     - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:34:51,453 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:34:51,485 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:34:51,517 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:45:58,071 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:45:59,756 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:45:59,756 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:45:59,756 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:45:59,758 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:45:59,758 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:45:59,758 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:46:04,764 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:46:04,795 - router       - INFO     - Инициализация Router
2025-04-13 14:46:04,826 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:04,856 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:04,887 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:04,919 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:04,949 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:04,981 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:05,012 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:05,042 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:05,074 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:46:05,105 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:46:05,137 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:46:05,167 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:46:08,936 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:46:08,966 - router       - INFO     - Инициализация Router
2025-04-13 14:46:08,998 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,030 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,060 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,090 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,121 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,151 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,183 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,214 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:09,246 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:46:09,276 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000022AC18F3BD0>>
2025-04-13 14:46:09,506 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:46:10,262 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:46:10,293 - router       - INFO     - Инициализация Router
2025-04-13 14:46:10,325 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,356 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,387 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,417 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,448 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,478 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,510 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,541 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:46:10,571 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:46:10,602 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:46:10,633 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:46:10,664 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:48:24,379 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:48:29,818 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:48:29,819 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:48:29,819 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:29,820 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:48:29,821 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:48:29,821 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:48:33,132 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:48:33,162 - router       - INFO     - Инициализация Router
2025-04-13 14:48:33,194 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,224 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,256 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,286 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,318 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,348 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,379 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,411 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,441 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,473 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,505 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,535 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,567 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,597 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,628 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:33,658 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:33,688 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:48:33,719 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:48:33,749 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:48:33,796 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:48:34,799 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:48:34,829 - router       - INFO     - Инициализация Router
2025-04-13 14:48:34,860 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:34,891 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:34,922 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:34,952 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:34,984 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:35,014 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:35,045 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:35,075 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:35,106 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:35,136 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:35,167 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:35,199 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:35,229 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:35,261 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:35,293 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:35,322 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:35,355 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:48:35,385 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000014BBE25BE70>>
2025-04-13 14:48:35,416 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 14:48:35,447 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:48:35,586 - controller   - INFO     - Курс обмена EUR -> ZAR успешно добавлен
2025-04-13 14:48:35,617 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:48:36,357 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:48:36,387 - router       - INFO     - Инициализация Router
2025-04-13 14:48:36,419 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,450 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,481 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,512 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,543 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,573 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,605 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,636 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,667 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,699 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,728 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,758 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,790 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,821 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,852 - controller   - INFO     - Инициализация Controller
2025-04-13 14:48:36,883 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:48:36,915 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:48:36,944 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:48:36,975 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:48:37,006 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:50:29,504 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:50:30,761 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:50:30,762 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:50:30,762 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:30,763 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:50:30,764 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:50:30,764 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:50:34,179 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:50:34,209 - router       - INFO     - Инициализация Router
2025-04-13 14:50:34,240 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,270 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,301 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,332 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,364 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,394 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,441 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,472 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,503 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,533 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,564 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,594 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,625 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,656 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,687 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:34,717 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:34,749 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:50:35,582 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:50:35,611 - router       - INFO     - Инициализация Router
2025-04-13 14:50:35,643 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:35,674 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:35,704 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:35,734 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:35,750 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:35,780 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:35,812 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:35,844 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:35,874 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:35,904 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:35,936 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:35,966 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:35,998 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:36,029 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:36,061 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:36,091 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:36,123 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:50:36,154 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 14:50:36,185 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 14:50:36,215 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:50:36,337 - controller   - INFO     - Курс обмена EUR -> ZAR успешно добавлен
2025-04-13 14:50:36,367 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:50:37,125 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:50:37,156 - router       - INFO     - Инициализация Router
2025-04-13 14:50:37,188 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,219 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,250 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,281 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,311 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,343 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,374 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,405 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,435 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,466 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,497 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,528 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,559 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,590 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,621 - controller   - INFO     - Инициализация Controller
2025-04-13 14:50:37,652 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:50:37,683 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:51:14,862 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:51:16,101 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:51:16,101 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:51:16,101 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:16,103 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:51:16,103 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:51:16,103 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:51:19,895 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:51:19,926 - router       - INFO     - Инициализация Router
2025-04-13 14:51:19,957 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:19,988 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,019 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:20,049 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,080 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:20,111 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,142 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:20,174 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,204 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:20,234 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,265 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:20,296 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,328 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:20,358 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,389 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:20,420 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:20,452 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:51:20,482 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:51:20,513 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:51:20,544 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:51:21,306 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:51:21,337 - router       - INFO     - Инициализация Router
2025-04-13 14:51:21,369 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,399 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,430 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,460 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,491 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,522 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,553 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,584 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,614 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,646 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,677 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,707 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,737 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,768 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,799 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:21,830 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:21,860 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:51:21,891 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 14:51:21,922 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 14:51:21,952 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:51:22,120 - controller   - INFO     - Курс обмена EUR -> ZAR успешно добавлен
2025-04-13 14:51:22,150 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:51:22,937 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:51:22,968 - router       - INFO     - Инициализация Router
2025-04-13 14:51:22,998 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,030 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,061 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,092 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,123 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,153 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,185 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,215 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,247 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,279 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,309 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,341 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,372 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,402 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,432 - controller   - INFO     - Инициализация Controller
2025-04-13 14:51:23,463 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:51:23,495 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:51:23,525 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:51:23,556 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:51:23,588 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:52:24,227 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:52:24,258 - router       - INFO     - Инициализация Router
2025-04-13 14:52:24,289 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,320 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,351 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,381 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,411 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,442 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,472 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,503 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,534 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,565 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,597 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,628 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,658 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,690 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,720 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:24,751 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:24,782 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:52:24,812 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:52:24,843 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:52:24,874 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:52:26,406 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:52:26,436 - router       - INFO     - Инициализация Router
2025-04-13 14:52:26,466 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,497 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,527 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,557 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,589 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,620 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,650 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,682 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,712 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,742 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,773 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,805 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,835 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,865 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,896 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:26,926 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:26,956 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:52:26,988 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 14:52:27,018 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 14:52:27,050 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:52:27,190 - controller   - INFO     - Курс обмена EUR -> ZAR успешно добавлен
2025-04-13 14:52:27,221 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:52:28,005 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:52:28,035 - router       - INFO     - Инициализация Router
2025-04-13 14:52:28,067 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,098 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,129 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,159 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,190 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,220 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,251 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,282 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,314 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,344 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,375 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,407 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,437 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,469 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,501 - controller   - INFO     - Инициализация Controller
2025-04-13 14:52:28,531 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:52:28,563 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:52:28,594 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:52:28,624 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:52:28,656 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:53:42,740 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:53:44,442 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:53:44,442 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:53:44,444 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:53:44,445 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:53:44,445 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:53:47,969 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:53:47,998 - router       - INFO     - Инициализация Router
2025-04-13 14:53:48,046 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:53:48,076 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:53:48,107 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:53:48,138 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:53:50,603 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:53:50,634 - router       - INFO     - Инициализация Router
2025-04-13 14:53:50,664 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:53:50,694 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 14:53:50,725 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 14:53:50,755 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:53:50,942 - controller   - INFO     - Курс обмена EUR -> ZAR успешно добавлен
2025-04-13 14:53:50,972 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:53:51,710 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:53:51,742 - router       - INFO     - Инициализация Router
2025-04-13 14:53:51,772 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:53:51,801 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:53:51,833 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:53:51,863 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:57:32,033 - __main__     - INFO     - Завершение работы сервера
2025-04-13 14:57:33,596 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 14:57:33,597 - __main__     - INFO     - Инициализация базы данных
2025-04-13 14:57:33,597 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:33,597 - model        - INFO     - Инициализация базы данных
2025-04-13 14:57:33,599 - model        - INFO     - База данных успешно инициализирована
2025-04-13 14:57:33,599 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 14:57:33,599 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 14:57:33,599 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 14:57:36,473 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:57:36,504 - router       - INFO     - Инициализация Router
2025-04-13 14:57:36,534 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,564 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,596 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,626 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,656 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,686 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,717 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,747 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:36,778 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:57:36,808 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:57:36,839 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:57:36,869 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 14:57:38,045 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 14:57:38,074 - router       - INFO     - Инициализация Router
2025-04-13 14:57:38,106 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,136 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,166 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,197 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,228 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,257 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,289 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,321 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:38,351 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 14:57:38,382 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 14:57:38,415 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 14:57:38,446 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:57:38,477 - model        - INFO     - Добавление курса обмена: EUR -> ZAR = 1.3
2025-04-13 14:57:38,632 - model        - DEBUG    - Курс обмена EUR -> ZAR успешно добавлен
2025-04-13 14:57:38,679 - controller   - INFO     - Курс обмена EUR -> ZAR успешно добавлен
2025-04-13 14:57:38,710 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'EUR', 'to': 'ZAR', 'rate': '1.3'}
2025-04-13 14:57:39,436 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 14:57:39,467 - router       - INFO     - Инициализация Router
2025-04-13 14:57:39,498 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,544 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,576 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,608 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,638 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,668 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,699 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,729 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 14:57:39,776 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 14:57:39,807 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 14:57:39,838 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 14:57:39,869 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:01:09,772 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:01:11,334 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:01:11,335 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:01:11,335 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:11,335 - model        - INFO     - Инициализация базы данных
2025-04-13 15:01:11,354 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:01:11,354 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:01:11,355 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:01:11,355 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:01:15,918 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:01:15,948 - router       - INFO     - Инициализация Router
2025-04-13 15:01:15,979 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,010 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,040 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,071 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,072 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,072 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,087 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,103 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:16,134 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:01:16,165 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:01:16,195 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:01:16,227 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:01:18,825 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:01:18,855 - router       - INFO     - Инициализация Router
2025-04-13 15:01:18,885 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:18,917 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:18,947 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:18,979 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:19,009 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:19,039 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:19,069 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:19,102 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:19,132 - router       - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 15:01:19,164 - router       - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 15:01:19,194 - controller   - INFO     - Получение списка валют
2025-04-13 15:01:19,226 - model        - INFO     - Получение списка всех валют
2025-04-13 15:01:19,320 - model        - DEBUG    - Список валют: []
2025-04-13 15:01:19,366 - controller   - DEBUG    - Список валют: []
2025-04-13 15:01:19,397 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:01:19,428 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: []
2025-04-13 15:01:20,140 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:01:20,170 - router       - INFO     - Инициализация Router
2025-04-13 15:01:20,200 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,231 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,261 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,291 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,322 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,337 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,369 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,400 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:20,431 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:01:20,462 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:01:20,492 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:01:20,523 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:01:21,388 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:01:21,420 - router       - INFO     - Инициализация Router
2025-04-13 15:01:21,450 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,482 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,513 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,543 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,575 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,606 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,636 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,668 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:21,698 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:01:21,728 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:01:21,760 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:01:21,791 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:01:26,834 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:01:26,866 - router       - INFO     - Инициализация Router
2025-04-13 15:01:26,897 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:26,929 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:26,959 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:26,989 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,019 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,051 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,081 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,113 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,143 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:01:27,173 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:01:27,205 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:01:27,235 - controller   - DEBUG    - Данные запроса: {'code': 'USD', 'name': 'Dollar'}
2025-04-13 15:01:27,265 - controller   - WARNING  - Отсутствуют обязательные поля для добавления валюты
2025-04-13 15:01:27,296 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:01:27,669 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:01:27,700 - router       - INFO     - Инициализация Router
2025-04-13 15:01:27,730 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,761 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,792 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,822 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,853 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,883 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,915 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,945 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:27,975 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:01:28,006 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:01:28,037 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:01:28,068 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:01:31,284 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:01:31,315 - router       - INFO     - Инициализация Router
2025-04-13 15:01:31,346 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,377 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,407 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,438 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,468 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,499 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,530 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,561 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:31,592 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:01:31,622 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:01:31,653 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:01:31,683 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:01:47,871 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:01:47,902 - router       - INFO     - Инициализация Router
2025-04-13 15:01:47,933 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:47,964 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:47,995 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:48,026 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:48,057 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:48,088 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:48,119 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:48,150 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:48,180 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:01:48,212 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:01:48,242 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:01:48,274 - controller   - DEBUG    - Данные запроса: {'code': 'USD', 'name': 'Dollar'}
2025-04-13 15:01:48,305 - controller   - WARNING  - Отсутствуют обязательные поля для добавления валюты
2025-04-13 15:01:48,337 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:01:49,094 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:01:49,126 - router       - INFO     - Инициализация Router
2025-04-13 15:01:49,156 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,187 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,218 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,249 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,280 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,313 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,345 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,375 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:01:49,405 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:01:49,437 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:01:49,469 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:01:49,499 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:02:48,836 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:02:50,108 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:02:50,109 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:02:50,109 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:50,109 - model        - INFO     - Инициализация базы данных
2025-04-13 15:02:50,110 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:02:50,110 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:02:50,110 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:02:50,110 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:02:53,981 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:02:54,011 - router       - INFO     - Инициализация Router
2025-04-13 15:02:54,042 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,072 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,103 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,134 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,164 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,195 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,226 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,258 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:54,288 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:02:54,319 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:02:54,350 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:02:54,381 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:02:55,188 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:02:55,220 - router       - INFO     - Инициализация Router
2025-04-13 15:02:55,251 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,282 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,312 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,343 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,373 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,405 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,437 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,467 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:55,497 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:02:55,528 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:02:55,574 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:02:55,604 - controller   - DEBUG    - Данные запроса: {'code': 'USD', 'name': 'Dollar'}
2025-04-13 15:02:55,636 - controller   - WARNING  - Отсутствуют обязательные поля для добавления валюты
2025-04-13 15:02:55,666 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:02:56,435 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:02:56,465 - router       - INFO     - Инициализация Router
2025-04-13 15:02:56,496 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,527 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,558 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,588 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,618 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,648 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,679 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,709 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:02:56,741 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:02:56,771 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:02:56,801 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:02:56,831 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:02:59,924 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:02:59,955 - router       - INFO     - Инициализация Router
2025-04-13 15:02:59,986 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,016 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,047 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,077 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,108 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,140 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,170 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,201 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:00,231 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:03:00,262 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:03:00,293 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:03:00,324 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:03:40,995 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:03:42,174 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:03:42,174 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:03:42,174 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:42,174 - model        - INFO     - Инициализация базы данных
2025-04-13 15:03:42,175 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:03:42,175 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:03:42,176 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:03:42,176 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:03:44,994 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:03:45,025 - router       - INFO     - Инициализация Router
2025-04-13 15:03:45,056 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,086 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,117 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,147 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,178 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,209 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,241 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,272 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:45,303 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:03:45,333 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:03:45,364 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:03:45,394 - controller   - DEBUG    - Данные запроса: {'code': 'USD', 'name': 'Dollar'}
2025-04-13 15:03:45,425 - model        - INFO     - Добавление валюты: USD, Dollar, None
2025-04-13 15:03:45,518 - model        - WARNING  - Валюта USD уже существует в базе данных
2025-04-13 15:03:45,564 - controller   - ERROR    - Ошибка при добавлении валюты USD: Currency already exists
2025-04-13 15:03:45,594 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency already exists'}
2025-04-13 15:03:46,043 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:03:46,073 - router       - INFO     - Инициализация Router
2025-04-13 15:03:46,104 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,135 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,166 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,196 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,227 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,258 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,258 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,288 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:46,319 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:03:46,349 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:03:46,380 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:03:46,411 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:03:49,218 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:03:49,248 - router       - INFO     - Инициализация Router
2025-04-13 15:03:49,279 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,310 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,342 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,373 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,404 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,435 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,466 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,497 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:49,527 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:03:49,558 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:03:49,589 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:03:49,620 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:03:50,525 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:03:50,557 - router       - INFO     - Инициализация Router
2025-04-13 15:03:50,587 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,618 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,648 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,678 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,710 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,741 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,771 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,802 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:50,833 - router       - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 15:03:50,864 - router       - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 15:03:50,894 - controller   - INFO     - Получение списка валют
2025-04-13 15:03:50,926 - model        - INFO     - Получение списка всех валют
2025-04-13 15:03:51,018 - model        - DEBUG    - Список валют: []
2025-04-13 15:03:51,065 - controller   - DEBUG    - Список валют: []
2025-04-13 15:03:51,096 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:03:51,127 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: []
2025-04-13 15:03:51,866 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:03:51,898 - router       - INFO     - Инициализация Router
2025-04-13 15:03:51,928 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:51,960 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:51,990 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:52,020 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:52,051 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:52,081 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:52,111 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:52,141 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:52,171 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:03:52,202 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:03:52,232 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:03:52,263 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:03:56,877 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:03:56,906 - router       - INFO     - Инициализация Router
2025-04-13 15:03:56,937 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:56,969 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:56,999 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:57,030 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:57,060 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:57,091 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:57,121 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:57,152 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:03:57,183 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:03:57,214 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:03:57,244 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:03:57,276 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:04:05,918 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:04:05,950 - router       - INFO     - Инициализация Router
2025-04-13 15:04:05,981 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,011 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,058 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,088 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,119 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,149 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,180 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,210 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,242 - router       - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 15:04:06,274 - router       - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 15:04:06,304 - controller   - INFO     - Обработка HTML-страницы
2025-04-13 15:04:06,443 - controller   - DEBUG    - HTML-страница успешно загружена
2025-04-13 15:04:06,504 - viewer       - INFO     - Рендеринг HTML-страницы
2025-04-13 15:04:06,843 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:04:06,874 - router       - INFO     - Инициализация Router
2025-04-13 15:04:06,905 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,936 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,968 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:06,999 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:07,030 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:07,061 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:07,092 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:07,123 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:07,155 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:04:07,186 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:04:07,217 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:04:07,248 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:04:14,820 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:04:14,850 - router       - INFO     - Инициализация Router
2025-04-13 15:04:14,880 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:14,910 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:14,940 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:14,971 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,002 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,032 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,063 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,094 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,126 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:04:15,157 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:04:15,188 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:04:15,218 - controller   - DEBUG    - Данные запроса: {'code': 'USD', 'name': 'Dollar'}
2025-04-13 15:04:15,248 - model        - INFO     - Добавление валюты: USD, Dollar, None
2025-04-13 15:04:15,354 - model        - WARNING  - Валюта USD уже существует в базе данных
2025-04-13 15:04:15,401 - controller   - ERROR    - Ошибка при добавлении валюты USD: Currency already exists
2025-04-13 15:04:15,432 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency already exists'}
2025-04-13 15:04:15,802 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:04:15,832 - router       - INFO     - Инициализация Router
2025-04-13 15:04:15,863 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,894 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,925 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,956 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:15,986 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:16,016 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:16,046 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:16,077 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:04:16,107 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:04:16,138 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:04:16,170 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:04:16,201 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:05:56,238 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:05:57,387 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:05:57,387 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:05:57,387 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:05:57,387 - model        - INFO     - Инициализация базы данных
2025-04-13 15:05:57,388 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:05:57,388 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:05:57,389 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:05:57,389 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:06:00,503 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:00,535 - router       - INFO     - Инициализация Router
2025-04-13 15:06:00,565 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,597 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,629 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,659 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,691 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,722 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,784 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:00,816 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:00,846 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:00,876 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:00,907 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:01,649 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:06:01,678 - router       - INFO     - Инициализация Router
2025-04-13 15:06:01,710 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,741 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,771 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,801 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,832 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,863 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,895 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,926 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:01,957 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:06:01,988 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:06:02,019 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:06:02,049 - controller   - DEBUG    - Данные запроса: {'code': 'USD', 'name': 'Dollar'}
2025-04-13 15:06:02,080 - model        - INFO     - Добавление валюты: USD, Доллар США, $
2025-04-13 15:06:02,249 - model        - DEBUG    - Валюта USD успешно добавлена в базу данных
2025-04-13 15:06:02,311 - controller   - INFO     - Валюта USD успешно добавлена
2025-04-13 15:06:02,341 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:06:02,466 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:06:02,514 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 15:06:03,255 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:03,286 - router       - INFO     - Инициализация Router
2025-04-13 15:06:03,317 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,348 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,379 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,411 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,442 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,473 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,504 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,535 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:03,566 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:03,598 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:03,629 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:03,675 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:05,418 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:05,449 - router       - INFO     - Инициализация Router
2025-04-13 15:06:05,480 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,511 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,542 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,572 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,602 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,633 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,663 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,694 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:05,725 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:05,755 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:05,786 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:05,817 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:11,233 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:06:11,263 - router       - INFO     - Инициализация Router
2025-04-13 15:06:11,293 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,323 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,354 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,385 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,417 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,447 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,477 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,509 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:11,539 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:06:11,571 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:06:11,602 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:06:11,634 - controller   - DEBUG    - Данные запроса: {'code': 'EUR', 'name': 'Dollar'}
2025-04-13 15:06:11,664 - model        - INFO     - Добавление валюты: EUR, Евро, €
2025-04-13 15:06:11,821 - model        - DEBUG    - Валюта EUR успешно добавлена в базу данных
2025-04-13 15:06:11,867 - controller   - INFO     - Валюта EUR успешно добавлена
2025-04-13 15:06:11,898 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:06:12,007 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:06:12,070 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-13 15:06:12,457 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:12,487 - router       - INFO     - Инициализация Router
2025-04-13 15:06:12,519 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,550 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,581 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,612 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,643 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,674 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,705 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,736 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:12,767 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:12,798 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:12,829 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:12,860 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:14,274 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:14,304 - router       - INFO     - Инициализация Router
2025-04-13 15:06:14,335 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,365 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,395 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,426 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,457 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,487 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,519 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,549 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:14,579 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:14,610 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:14,641 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:14,672 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:29,341 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:06:29,371 - router       - INFO     - Инициализация Router
2025-04-13 15:06:29,401 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,432 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,463 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,493 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,524 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,554 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,586 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,618 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:29,648 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:06:29,678 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:06:29,709 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:06:29,740 - controller   - DEBUG    - Данные запроса: {'code': 'ALL', 'name': 'Dollar'}
2025-04-13 15:06:29,771 - model        - INFO     - Добавление валюты: ALL, Албанский лек, L
2025-04-13 15:06:29,878 - model        - DEBUG    - Валюта ALL успешно добавлена в базу данных
2025-04-13 15:06:29,925 - controller   - INFO     - Валюта ALL успешно добавлена
2025-04-13 15:06:29,955 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:06:30,078 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:06:30,124 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}
2025-04-13 15:06:30,879 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:30,910 - router       - INFO     - Инициализация Router
2025-04-13 15:06:30,941 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:30,971 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:31,003 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:31,035 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:31,065 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:31,065 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:31,112 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:31,143 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:31,174 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:31,206 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:31,237 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:31,268 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:32,031 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:32,062 - router       - INFO     - Инициализация Router
2025-04-13 15:06:32,093 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,124 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,154 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,185 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,216 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,246 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,276 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,306 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:32,337 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:32,369 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:32,400 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:32,431 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:36,782 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:06:36,813 - router       - INFO     - Инициализация Router
2025-04-13 15:06:36,843 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:36,873 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:36,904 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:36,935 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:36,950 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:36,981 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:37,013 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:37,043 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:37,074 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 15:06:37,105 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 15:06:37,136 - controller   - INFO     - Добавление новой валюты
2025-04-13 15:06:37,167 - controller   - DEBUG    - Данные запроса: {'code': 'RUB', 'name': 'Dollar'}
2025-04-13 15:06:37,198 - model        - INFO     - Добавление валюты: RUB, Российский рубль, ₽
2025-04-13 15:06:37,368 - model        - DEBUG    - Валюта RUB успешно добавлена в базу данных
2025-04-13 15:06:37,416 - controller   - INFO     - Валюта RUB успешно добавлена
2025-04-13 15:06:37,446 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:06:37,583 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:06:37,647 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 15:06:38,034 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:38,064 - router       - INFO     - Инициализация Router
2025-04-13 15:06:38,096 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,128 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,158 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,190 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,220 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,251 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,282 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,313 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:38,344 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:38,375 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:38,405 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:38,436 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:41,074 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:41,104 - router       - INFO     - Инициализация Router
2025-04-13 15:06:41,135 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,181 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,213 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,245 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,275 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,306 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,338 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,368 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:41,399 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:41,431 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:41,461 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:41,493 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:42,154 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:42,185 - router       - INFO     - Инициализация Router
2025-04-13 15:06:42,216 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,246 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,276 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,306 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,337 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,368 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,399 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,430 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:42,460 - router       - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 15:06:42,491 - router       - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 15:06:42,522 - controller   - INFO     - Получение списка валют
2025-04-13 15:06:42,553 - model        - INFO     - Получение списка всех валют
2025-04-13 15:06:42,783 - model        - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽')]
2025-04-13 15:06:42,830 - controller   - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 15:06:42,860 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:42,890 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 15:06:43,583 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:43,614 - router       - INFO     - Инициализация Router
2025-04-13 15:06:43,645 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,675 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,706 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,739 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,769 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,800 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,831 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,861 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:43,891 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:43,923 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:43,953 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:43,983 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:44,725 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:44,755 - router       - INFO     - Инициализация Router
2025-04-13 15:06:44,787 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:44,818 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:44,848 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:44,880 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:44,910 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:44,941 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:44,972 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:45,002 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:45,034 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:45,064 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:45,096 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:45,126 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:47,403 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:47,435 - router       - INFO     - Инициализация Router
2025-04-13 15:06:47,465 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,497 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,528 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,558 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,590 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,621 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,653 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,683 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:47,714 - router       - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 15:06:47,746 - router       - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 15:06:47,776 - controller   - INFO     - Получение списка валют
2025-04-13 15:06:47,807 - model        - INFO     - Получение списка всех валют
2025-04-13 15:06:48,084 - model        - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽')]
2025-04-13 15:06:48,130 - controller   - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 15:06:48,161 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:48,192 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 15:06:48,565 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:48,596 - router       - INFO     - Инициализация Router
2025-04-13 15:06:48,627 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,658 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,689 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,719 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,749 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,781 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,811 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,842 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:48,873 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:48,904 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:48,935 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:48,966 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:06:52,900 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:06:52,931 - router       - INFO     - Инициализация Router
2025-04-13 15:06:52,961 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:52,991 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:53,024 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:53,054 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:53,084 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:53,116 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:53,146 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:53,177 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:06:53,208 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:06:53,239 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:06:53,269 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:06:53,300 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:07:07,614 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:07:07,645 - router       - INFO     - Инициализация Router
2025-04-13 15:07:07,675 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,706 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,752 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,783 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,813 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,845 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,875 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,907 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:07,939 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:07:07,969 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:07:08,001 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:07:08,032 - controller   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'RUB', 'rate': '0.01'}
2025-04-13 15:07:08,062 - model        - INFO     - Добавление курса обмена: USD -> RUB = 0.01
2025-04-13 15:07:08,202 - model        - DEBUG    - Курс обмена USD -> RUB успешно добавлен
2025-04-13 15:07:08,250 - controller   - INFO     - Курс обмена USD -> RUB успешно добавлен
2025-04-13 15:07:08,280 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'from': 'USD', 'to': 'RUB', 'rate': '0.01'}
2025-04-13 15:07:09,039 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:07:09,069 - router       - INFO     - Инициализация Router
2025-04-13 15:07:09,101 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,132 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,163 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,193 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,208 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,240 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,270 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,301 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:09,331 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:07:09,361 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:07:09,393 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:07:09,423 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:07:19,709 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:07:19,741 - router       - INFO     - Инициализация Router
2025-04-13 15:07:19,772 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:19,802 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:19,833 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:19,863 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:19,894 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:19,925 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:19,956 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:19,987 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:20,018 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:07:20,049 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:07:20,080 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:07:20,111 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:07:22,033 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:07:22,064 - router       - INFO     - Инициализация Router
2025-04-13 15:07:22,095 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,125 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,156 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,187 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,218 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,250 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,280 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,312 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:22,344 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:07:22,374 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:07:22,406 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:07:22,437 - controller   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'RUB', 'rate': '0.01'}
2025-04-13 15:07:22,467 - model        - INFO     - Добавление курса обмена: USD -> RUB = 0.01
2025-04-13 15:07:22,545 - model        - WARNING  - Курс обмена USD -> RUB уже существует
2025-04-13 15:07:22,591 - controller   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-13 15:07:22,621 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-13 15:07:23,039 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:07:23,069 - router       - INFO     - Инициализация Router
2025-04-13 15:07:23,101 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,131 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,162 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,193 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,224 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,255 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,286 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,317 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:23,348 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:07:23,380 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:07:23,411 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:07:23,442 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:07:27,796 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:07:27,827 - router       - INFO     - Инициализация Router
2025-04-13 15:07:27,858 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:27,888 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:27,919 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:27,949 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:27,979 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:28,009 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:28,041 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:28,071 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:07:28,102 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:07:28,132 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:07:28,163 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:07:28,194 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:15:57,259 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:15:57,290 - router       - INFO     - Инициализация Router
2025-04-13 15:15:57,320 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,352 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,382 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,413 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,443 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,474 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,504 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,535 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:15:57,567 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:15:57,597 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:15:57,629 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:15:57,660 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:16:00,693 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:16:00,724 - router       - INFO     - Инициализация Router
2025-04-13 15:16:00,754 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,786 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,817 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,849 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,879 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,911 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,943 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,973 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:00,989 - router       - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-13 15:16:01,020 - router       - DEBUG    - Обработчик для маршрута GET /currency/RUB: None
2025-04-13 15:16:01,051 - controller   - INFO     - Получение валюты по коду (динамический метод)
2025-04-13 15:16:01,081 - controller   - DEBUG    - Код валюты из запроса: RUB
2025-04-13 15:16:01,112 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:16:01,234 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:16:01,281 - controller   - INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 15:16:01,312 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:16:01,342 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 15:16:02,116 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:16:02,146 - router       - INFO     - Инициализация Router
2025-04-13 15:16:02,178 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,208 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,239 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,271 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,301 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,332 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,362 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,394 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:02,425 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:16:02,455 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:16:02,487 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:16:02,518 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:16:05,329 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:16:05,359 - router       - INFO     - Инициализация Router
2025-04-13 15:16:05,389 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,421 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,453 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,483 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,514 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,545 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,576 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,606 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:05,637 - router       - DEBUG    - Маршрутизация запроса: GET /currency/RU
2025-04-13 15:16:05,667 - router       - DEBUG    - Обработчик для маршрута GET /currency/RU: None
2025-04-13 15:16:05,699 - controller   - INFO     - Получение валюты по коду (динамический метод)
2025-04-13 15:16:05,729 - controller   - DEBUG    - Код валюты из запроса: RU
2025-04-13 15:16:05,761 - model        - INFO     - Получение валюты по коду: RU
2025-04-13 15:16:05,853 - model        - WARNING  - Валюта с кодом RU не найдена
2025-04-13 15:16:05,899 - controller   - WARNING  - Валюта с кодом RU не найдена
2025-04-13 15:16:05,930 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:16:05,961 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-13 15:16:06,687 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:16:06,718 - router       - INFO     - Инициализация Router
2025-04-13 15:16:06,749 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,779 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,811 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,841 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,872 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,903 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,933 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,964 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:16:06,996 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:16:07,026 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:16:07,056 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:16:07,086 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:18:22,449 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:18:23,891 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:18:23,892 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:18:23,892 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:23,892 - model        - INFO     - Инициализация базы данных
2025-04-13 15:18:23,893 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:18:23,893 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:18:23,893 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:18:23,894 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:18:27,491 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:18:27,522 - router       - INFO     - Инициализация Router
2025-04-13 15:18:27,553 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,599 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,630 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,661 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,692 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,722 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,783 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:27,814 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:18:27,845 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:18:27,877 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:18:27,907 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:18:30,294 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:18:30,324 - router       - INFO     - Инициализация Router
2025-04-13 15:18:30,355 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,387 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,417 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,449 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,479 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,509 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,540 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,570 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:30,601 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:18:30,631 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:18:30,662 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:18:30,693 - controller   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'RUB', 'rate': '0.01'}
2025-04-13 15:18:30,723 - model        - INFO     - Добавление курса обмена: USD -> RUB = 0.01
2025-04-13 15:18:30,815 - model        - WARNING  - Курс обмена USD -> RUB уже существует
2025-04-13 15:18:30,861 - controller   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-13 15:18:30,891 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-13 15:18:31,629 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:18:31,660 - router       - INFO     - Инициализация Router
2025-04-13 15:18:31,691 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,737 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,769 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,799 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,830 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,860 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,892 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,922 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:31,952 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:18:31,984 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:18:32,014 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:18:32,044 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:18:35,738 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:18:35,768 - router       - INFO     - Инициализация Router
2025-04-13 15:18:35,799 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:35,830 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:35,860 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:35,891 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:35,922 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:35,952 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:35,984 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:36,014 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:36,044 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:18:36,074 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:18:36,105 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:18:36,135 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:18:46,948 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:18:46,980 - router       - INFO     - Инициализация Router
2025-04-13 15:18:47,010 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,042 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,072 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,104 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,134 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,166 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,196 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,227 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:47,257 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:18:47,289 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:18:47,319 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:18:47,351 - controller   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '0.92'}
2025-04-13 15:18:47,382 - model        - INFO     - Добавление курса обмена: USD -> EUR = 0.92
2025-04-13 15:18:47,507 - model        - DEBUG    - Курс обмена USD -> EUR успешно добавлен
2025-04-13 15:18:47,552 - controller   - INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-13 15:18:47,583 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: ('USD', 'EUR', '0.92')
2025-04-13 15:18:47,950 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:18:47,980 - router       - INFO     - Инициализация Router
2025-04-13 15:18:48,011 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,041 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,072 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,103 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,134 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,165 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,195 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,226 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:18:48,256 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:18:48,288 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:18:48,319 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:18:48,350 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:19:50,120 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:19:51,260 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:19:51,261 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:19:51,261 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:51,261 - model        - INFO     - Инициализация базы данных
2025-04-13 15:19:51,262 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:19:51,263 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:19:51,263 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:19:51,263 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:19:56,535 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:19:56,566 - router       - INFO     - Инициализация Router
2025-04-13 15:19:56,596 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,627 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,658 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,689 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,737 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,738 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,738 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:19:56,738 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:19:56,752 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:19:56,783 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:19:56,815 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:20:10,489 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:20:10,520 - router       - INFO     - Инициализация Router
2025-04-13 15:20:10,551 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,583 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,613 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,644 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,675 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,705 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,736 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,751 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:10,782 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:20:10,812 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:20:10,843 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:20:10,874 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'USD', 'rate': '1.09'}
2025-04-13 15:20:10,905 - model        - INFO     - Добавление курса обмена: EUR -> USD = 1.09
2025-04-13 15:20:11,075 - model        - DEBUG    - Курс обмена EUR -> USD успешно добавлен
2025-04-13 15:20:11,122 - controller   - INFO     - Курс обмена EUR -> USD успешно добавлен
2025-04-13 15:20:11,152 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:20:11,247 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:20:11,292 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'USD', '1.09')
2025-04-13 15:20:12,204 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:20:12,236 - router       - INFO     - Инициализация Router
2025-04-13 15:20:12,266 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,296 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,327 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,357 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,389 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,419 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,451 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,481 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:12,512 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:20:12,544 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:20:12,574 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:20:12,605 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:20:37,377 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:20:39,065 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:20:39,065 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:20:39,065 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:39,066 - model        - INFO     - Инициализация базы данных
2025-04-13 15:20:39,066 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:20:39,066 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:20:39,067 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:20:39,067 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:20:41,517 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:20:41,548 - router       - INFO     - Инициализация Router
2025-04-13 15:20:41,578 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,610 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,641 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,671 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,701 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,731 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,761 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,792 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:41,824 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:20:41,855 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:20:41,886 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:20:41,916 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:20:51,306 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:20:51,337 - router       - INFO     - Инициализация Router
2025-04-13 15:20:51,368 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,399 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,430 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,460 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,491 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,521 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,553 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,584 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:51,615 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:20:51,647 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:20:51,678 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:20:51,709 - controller   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'RUB', 'rate': '101'}
2025-04-13 15:20:51,740 - model        - INFO     - Добавление курса обмена: EUR -> RUB = 101.0
2025-04-13 15:20:51,896 - model        - DEBUG    - Курс обмена EUR -> RUB успешно добавлен
2025-04-13 15:20:51,942 - controller   - INFO     - Курс обмена EUR -> RUB успешно добавлен
2025-04-13 15:20:51,974 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:20:52,083 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:20:52,128 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:20:52,284 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:20:52,330 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, '101')
2025-04-13 15:20:53,086 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:20:53,116 - router       - INFO     - Инициализация Router
2025-04-13 15:20:53,148 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,195 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,226 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,257 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,288 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,319 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,351 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,366 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:20:53,381 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:20:53,412 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:20:53,443 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:20:53,474 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:22:39,829 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:22:41,021 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:22:41,022 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:22:41,022 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:41,022 - model        - INFO     - Инициализация базы данных
2025-04-13 15:22:41,023 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:22:41,023 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:22:41,023 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:22:41,023 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:22:45,302 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:22:45,333 - router       - INFO     - Инициализация Router
2025-04-13 15:22:45,363 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,394 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,425 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,472 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,504 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,534 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,564 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,595 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:22:45,625 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:22:45,657 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:22:45,688 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:22:45,734 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:23:00,733 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:23:00,764 - router       - INFO     - Инициализация Router
2025-04-13 15:23:00,797 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:00,827 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:00,859 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:00,889 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:00,921 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:00,951 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:00,983 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:01,014 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:01,044 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:23:01,075 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:23:01,107 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:23:01,137 - controller   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'RUB', 'rate': '88'}
2025-04-13 15:23:01,168 - model        - INFO     - Добавление курса обмена: USD -> RUB = 88.0
2025-04-13 15:23:01,261 - model        - WARNING  - Курс обмена USD -> RUB уже существует
2025-04-13 15:23:01,308 - controller   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-13 15:23:01,339 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-13 15:23:02,069 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:23:02,101 - router       - INFO     - Инициализация Router
2025-04-13 15:23:02,132 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,162 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,193 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,224 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,254 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,285 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,315 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,346 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:02,377 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:23:02,407 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:23:02,437 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:23:02,468 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:23:04,446 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:23:04,476 - router       - INFO     - Инициализация Router
2025-04-13 15:23:04,507 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,537 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,569 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,601 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,631 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,661 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,691 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,722 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:04,753 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:23:04,784 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:23:04,816 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:23:04,846 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:23:13,751 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:23:13,783 - router       - INFO     - Инициализация Router
2025-04-13 15:23:13,814 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:13,844 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:13,875 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:13,906 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:13,936 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:13,966 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:13,998 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:14,030 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:14,060 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:23:14,091 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:23:14,123 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:23:14,153 - controller   - DEBUG    - Данные запроса: {'from': 'ALL', 'to': 'RUB', 'rate': '44'}
2025-04-13 15:23:14,185 - model        - INFO     - Добавление курса обмена: ALL -> RUB = 44.0
2025-04-13 15:23:14,309 - model        - DEBUG    - Курс обмена ALL -> RUB успешно добавлен
2025-04-13 15:23:14,355 - controller   - INFO     - Курс обмена ALL -> RUB успешно добавлен
2025-04-13 15:23:14,385 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:23:14,510 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:23:14,556 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:23:14,726 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:23:14,772 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate = 44')
2025-04-13 15:23:15,144 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:23:15,176 - router       - INFO     - Инициализация Router
2025-04-13 15:23:15,206 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,238 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,268 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,300 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,331 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,362 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,393 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,423 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:23:15,453 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:23:15,483 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:23:15,515 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:23:15,545 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:24:57,680 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:24:58,756 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:24:58,756 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:24:58,756 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:24:58,756 - model        - INFO     - Инициализация базы данных
2025-04-13 15:24:58,757 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:24:58,757 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:24:58,757 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:24:58,757 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:25:04,567 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:25:04,599 - router       - INFO     - Инициализация Router
2025-04-13 15:25:04,629 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,661 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,691 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,752 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:04,767 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:25:04,798 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:25:04,829 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:25:04,860 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:25:13,455 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:25:13,485 - router       - INFO     - Инициализация Router
2025-04-13 15:25:13,515 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,545 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,576 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,606 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,638 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,667 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,700 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,730 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:13,761 - router       - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 15:25:13,791 - router       - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 15:25:13,821 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:25:13,852 - controller   - DEBUG    - Данные запроса: {'from': 'RUB', 'to': 'ALL', 'rate': '0.33'}
2025-04-13 15:25:13,884 - model        - INFO     - Добавление курса обмена: RUB -> ALL = 0.33
2025-04-13 15:25:14,022 - model        - DEBUG    - Курс обмена RUB -> ALL успешно добавлен
2025-04-13 15:25:14,070 - controller   - INFO     - Курс обмена RUB -> ALL успешно добавлен
2025-04-13 15:25:14,100 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:25:14,240 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:25:14,286 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:25:14,408 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:25:14,456 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate = ', '0.33')
2025-04-13 15:25:15,443 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:25:15,474 - router       - INFO     - Инициализация Router
2025-04-13 15:25:15,505 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,535 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,566 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,597 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,628 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,660 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,690 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:25:15,751 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:25:15,781 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:25:15,811 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:25:15,841 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:27:55,628 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:27:55,659 - router       - INFO     - Инициализация Router
2025-04-13 15:27:55,690 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,751 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,782 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,814 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,844 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,874 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,904 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:55,935 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:27:55,966 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:27:55,998 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:27:56,029 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:27:58,978 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:27:59,008 - router       - INFO     - Инициализация Router
2025-04-13 15:27:59,039 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,070 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,101 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,132 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,162 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,193 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,223 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,254 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:27:59,284 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:27:59,316 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 15:27:59,346 - controller   - INFO     - Получение курсов обмена валют
2025-04-13 15:27:59,377 - model        - INFO     - Получение курсов обмена валют
2025-04-13 15:27:59,514 - model        - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 15:27:59,560 - controller   - DEBUG    - Курсы обмена: [{'id': 1, 'from': 'USD', 'to': 'RUB', 'rate': 0.01}, {'id': 2, 'from': 'USD', 'to': 'EUR', 'rate': 0.92}, {'id': 3, 'from': 'EUR', 'to': 'USD', 'rate': 1.09}, {'id': 4, 'from': 'EUR', 'to': 'RUB', 'rate': 101.0}, {'id': 5, 'from': 'ALL', 'to': 'RUB', 'rate': 44.0}, {'id': 6, 'from': 'RUB', 'to': 'ALL', 'rate': 0.33}]
2025-04-13 15:27:59,591 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:27:59,622 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': 'USD', 'to': 'RUB', 'rate': 0.01}, {'id': 2, 'from': 'USD', 'to': 'EUR', 'rate': 0.92}, {'id': 3, 'from': 'EUR', 'to': 'USD', 'rate': 1.09}, {'id': 4, 'from': 'EUR', 'to': 'RUB', 'rate': 101.0}, {'id': 5, 'from': 'ALL', 'to': 'RUB', 'rate': 44.0}, {'id': 6, 'from': 'RUB', 'to': 'ALL', 'rate': 0.33}]
2025-04-13 15:28:00,367 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:28:00,398 - router       - INFO     - Инициализация Router
2025-04-13 15:28:00,430 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,460 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,491 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,523 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,553 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,585 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,616 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,646 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:00,679 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:28:00,708 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:28:00,739 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:28:00,770 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:28:06,512 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:28:06,544 - router       - INFO     - Инициализация Router
2025-04-13 15:28:06,574 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,605 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,637 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,667 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,699 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,731 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,761 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,793 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:06,824 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:28:06,854 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:28:06,886 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:28:06,918 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:28:45,035 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:28:45,065 - router       - INFO     - Инициализация Router
2025-04-13 15:28:45,097 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,128 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,159 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,189 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,220 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,252 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,282 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,314 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:45,346 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:28:45,377 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 15:28:45,407 - controller   - INFO     - Получение курсов обмена валют
2025-04-13 15:28:45,439 - model        - INFO     - Получение курсов обмена валют
2025-04-13 15:28:45,607 - model        - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 15:28:45,655 - controller   - DEBUG    - Курсы обмена: [{'id': 1, 'from': 'USD', 'to': 'RUB', 'rate': 0.01}, {'id': 2, 'from': 'USD', 'to': 'EUR', 'rate': 0.92}, {'id': 3, 'from': 'EUR', 'to': 'USD', 'rate': 1.09}, {'id': 4, 'from': 'EUR', 'to': 'RUB', 'rate': 101.0}, {'id': 5, 'from': 'ALL', 'to': 'RUB', 'rate': 44.0}, {'id': 6, 'from': 'RUB', 'to': 'ALL', 'rate': 0.33}]
2025-04-13 15:28:45,685 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:28:45,716 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': 'USD', 'to': 'RUB', 'rate': 0.01}, {'id': 2, 'from': 'USD', 'to': 'EUR', 'rate': 0.92}, {'id': 3, 'from': 'EUR', 'to': 'USD', 'rate': 1.09}, {'id': 4, 'from': 'EUR', 'to': 'RUB', 'rate': 101.0}, {'id': 5, 'from': 'ALL', 'to': 'RUB', 'rate': 44.0}, {'id': 6, 'from': 'RUB', 'to': 'ALL', 'rate': 0.33}]
2025-04-13 15:28:46,133 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:28:46,164 - router       - INFO     - Инициализация Router
2025-04-13 15:28:46,195 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,226 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,257 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,288 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,318 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,349 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,381 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,412 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:46,442 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:28:46,473 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:28:46,503 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:28:46,535 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:28:51,608 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:28:51,639 - router       - INFO     - Инициализация Router
2025-04-13 15:28:51,669 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,701 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,732 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,762 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,793 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,824 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,855 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,886 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:28:51,916 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:28:51,946 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:28:51,977 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:28:52,008 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:30:38,195 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:30:39,554 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:30:39,554 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:30:39,554 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:39,555 - model        - INFO     - Инициализация базы данных
2025-04-13 15:30:39,555 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:30:39,555 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:30:39,556 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:30:39,556 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:30:45,582 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:30:45,613 - router       - INFO     - Инициализация Router
2025-04-13 15:30:45,643 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,673 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,704 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,735 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,766 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,797 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,827 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,842 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:45,873 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:30:45,920 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 15:30:45,951 - controller   - INFO     - Получение курсов обмена валют
2025-04-13 15:30:45,983 - model        - INFO     - Получение курсов обмена валют
2025-04-13 15:30:46,215 - model        - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 15:30:46,245 - model        - ERROR    - Ошибка при получении курсов обмена: name 'get_currency_by_code' is not defined
2025-04-13 15:30:46,307 - controller   - ERROR    - Ошибка при получении курсов обмена: name 'get_currency_by_code' is not defined
2025-04-13 15:30:46,337 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:30:46,367 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Failed to retrieve exchange rates'}
2025-04-13 15:30:47,128 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:30:47,158 - router       - INFO     - Инициализация Router
2025-04-13 15:30:47,189 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,220 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,251 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,283 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,314 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,345 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,375 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,406 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:30:47,437 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:30:47,469 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:30:47,500 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:30:47,531 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:31:13,084 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:31:14,138 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:31:14,138 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:31:14,138 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:14,138 - model        - INFO     - Инициализация базы данных
2025-04-13 15:31:14,139 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:31:14,139 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:31:14,140 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:31:14,140 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:31:16,549 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:31:16,580 - router       - INFO     - Инициализация Router
2025-04-13 15:31:16,613 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,642 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,674 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,706 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,736 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,766 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,797 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,827 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:16,860 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:31:16,890 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:31:16,922 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:31:16,953 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:31:17,649 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:31:17,681 - router       - INFO     - Инициализация Router
2025-04-13 15:31:17,712 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,743 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,774 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,805 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,836 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,866 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,898 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,929 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:17,959 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:31:17,989 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 15:31:18,019 - controller   - INFO     - Получение курсов обмена валют
2025-04-13 15:31:18,050 - model        - INFO     - Получение курсов обмена валют
2025-04-13 15:31:18,283 - model        - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 15:31:18,315 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:31:18,409 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:31:18,455 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:31:18,562 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:31:18,610 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:31:18,733 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:31:18,780 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:31:18,887 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:31:18,933 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:31:19,071 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:31:19,134 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:31:19,243 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:31:19,290 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:31:19,414 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:31:19,461 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:31:19,600 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:31:19,646 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:31:19,786 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:31:19,848 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:31:20,003 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:31:20,049 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:31:20,206 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:31:20,252 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:31:20,422 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:31:20,484 - controller   - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:31:20,530 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:31:20,562 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:31:21,347 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:31:21,377 - router       - INFO     - Инициализация Router
2025-04-13 15:31:21,409 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,440 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,471 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,502 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,533 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,563 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,594 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,625 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:31:21,656 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:31:21,687 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:31:21,719 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:31:21,750 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:33:45,020 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:33:45,052 - router       - INFO     - Инициализация Router
2025-04-13 15:33:45,083 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,114 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,145 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,176 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,207 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,223 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,238 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,269 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:33:45,300 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:33:45,332 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:33:45,363 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:33:45,394 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:36:32,523 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:36:32,553 - router       - INFO     - Инициализация Router
2025-04-13 15:36:32,584 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,616 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,646 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,678 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,709 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,740 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,771 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,803 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:32,834 - router       - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 15:36:32,865 - router       - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 15:36:32,896 - controller   - INFO     - Обработка HTML-страницы
2025-04-13 15:36:33,021 - controller   - DEBUG    - HTML-страница успешно загружена
2025-04-13 15:36:33,081 - viewer       - INFO     - Рендеринг HTML-страницы
2025-04-13 15:36:33,714 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:36:33,743 - router       - INFO     - Инициализация Router
2025-04-13 15:36:33,773 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:33,805 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:33,835 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:33,865 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:33,896 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:33,927 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:33,958 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:33,988 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:36:34,021 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:36:34,050 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:36:34,082 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:36:34,114 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:37:02,404 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:37:02,434 - router       - INFO     - Инициализация Router
2025-04-13 15:37:02,465 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,480 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,496 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,496 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,526 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,558 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,588 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,618 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:02,649 - router       - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 15:37:02,679 - router       - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 15:37:02,711 - controller   - INFO     - Обработка HTML-страницы
2025-04-13 15:37:02,848 - controller   - DEBUG    - HTML-страница успешно загружена
2025-04-13 15:37:02,910 - viewer       - INFO     - Рендеринг HTML-страницы
2025-04-13 15:37:03,277 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:37:03,308 - router       - INFO     - Инициализация Router
2025-04-13 15:37:03,339 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,371 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,402 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,433 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,463 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,493 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,525 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,555 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:37:03,586 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:37:03,617 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:37:03,648 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:37:03,678 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:38:47,425 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:38:47,456 - router       - INFO     - Инициализация Router
2025-04-13 15:38:47,471 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,487 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,517 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,547 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,578 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,608 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,640 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,671 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:47,702 - router       - DEBUG    - Маршрутизация запроса: POST /clearRates
2025-04-13 15:38:47,732 - router       - DEBUG    - Обработчик для маршрута POST /clearRates: None
2025-04-13 15:38:47,762 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:38:48,195 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:38:48,226 - router       - INFO     - Инициализация Router
2025-04-13 15:38:48,258 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,288 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,320 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,350 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,382 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,412 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,444 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,474 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:38:48,506 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:38:48,536 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:38:48,568 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:38:48,598 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:39:52,466 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:39:53,501 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:39:53,501 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:39:53,502 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:53,502 - model        - INFO     - Инициализация базы данных
2025-04-13 15:39:53,502 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:39:53,503 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:39:53,503 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:39:53,503 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:39:56,471 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:39:56,502 - router       - INFO     - Инициализация Router
2025-04-13 15:39:56,532 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,564 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,595 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,641 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,671 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,702 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,733 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,764 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,795 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:39:56,826 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:39:56,856 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:39:56,888 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:39:56,919 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:42:44,841 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:42:44,872 - router       - INFO     - Инициализация Router
2025-04-13 15:42:44,902 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:44,932 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:44,962 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:44,993 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,025 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,055 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,087 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,117 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,149 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,180 - router       - DEBUG    - Маршрутизация запроса: POST /clearRates
2025-04-13 15:42:45,210 - router       - DEBUG    - Обработчик для маршрута POST /clearRates: None
2025-04-13 15:42:45,242 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:42:45,704 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:42:45,736 - router       - INFO     - Инициализация Router
2025-04-13 15:42:45,766 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,797 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,828 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,858 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,890 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,922 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,952 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:45,984 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:46,014 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:42:46,046 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:42:46,076 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:42:46,108 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:42:46,140 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:43:05,003 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:43:06,239 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:43:06,240 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:43:06,240 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:06,240 - model        - INFO     - Инициализация базы данных
2025-04-13 15:43:06,241 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:43:06,241 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:43:06,241 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:43:06,241 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:43:09,282 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:43:09,314 - router       - INFO     - Инициализация Router
2025-04-13 15:43:09,346 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,376 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,406 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,437 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,468 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,498 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,544 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,575 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,606 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:09,637 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:43:09,668 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:43:09,699 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:43:09,729 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:43:10,551 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:43:10,581 - router       - INFO     - Инициализация Router
2025-04-13 15:43:10,611 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,642 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,672 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,704 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,736 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,767 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,798 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,830 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,861 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:10,891 - router       - DEBUG    - Маршрутизация запроса: POST /clearRates
2025-04-13 15:43:10,921 - router       - DEBUG    - Обработчик для маршрута POST /clearRates: None
2025-04-13 15:43:10,952 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:43:11,676 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:43:11,706 - router       - INFO     - Инициализация Router
2025-04-13 15:43:11,737 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,768 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,798 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,828 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,859 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,890 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,922 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,953 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:11,983 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:12,014 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:43:12,045 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:43:12,076 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:43:12,107 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:43:58,385 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:43:58,416 - router       - INFO     - Инициализация Router
2025-04-13 15:43:58,447 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,477 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,508 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,539 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,570 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,600 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,632 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,662 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,694 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:43:58,724 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:43:58,755 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:43:58,770 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:43:58,801 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:03,355 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 15:44:03,385 - router       - INFO     - Инициализация Router
2025-04-13 15:44:03,417 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,448 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,478 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,510 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,557 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,588 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,619 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,649 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,680 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:03,711 - router       - DEBUG    - Маршрутизация запроса: POST /clearRates
2025-04-13 15:44:03,743 - router       - DEBUG    - Обработчик для маршрута POST /clearRates: None
2025-04-13 15:44:03,774 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:04,209 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:04,239 - router       - INFO     - Инициализация Router
2025-04-13 15:44:04,269 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,300 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,331 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,363 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,393 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,424 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,455 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,485 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,516 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:04,547 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:04,578 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:04,609 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:04,640 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:18,189 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:18,219 - router       - INFO     - Инициализация Router
2025-04-13 15:44:18,249 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,280 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,311 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,343 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,374 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,405 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,436 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,467 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,498 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:18,529 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:18,560 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:18,591 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:18,622 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:19,135 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:19,166 - router       - INFO     - Инициализация Router
2025-04-13 15:44:19,196 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,226 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,258 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,288 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,318 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,349 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,381 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,411 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,443 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:19,475 - router       - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 15:44:19,505 - router       - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 15:44:19,536 - controller   - INFO     - Обработка HTML-страницы
2025-04-13 15:44:19,675 - controller   - DEBUG    - HTML-страница успешно загружена
2025-04-13 15:44:19,737 - viewer       - INFO     - Рендеринг HTML-страницы
2025-04-13 15:44:20,412 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:20,444 - router       - INFO     - Инициализация Router
2025-04-13 15:44:20,475 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,505 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,536 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,567 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,598 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,628 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,660 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,691 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,722 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:20,752 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:20,783 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:20,814 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:20,845 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:28,122 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:28,152 - router       - INFO     - Инициализация Router
2025-04-13 15:44:28,183 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,214 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,245 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,276 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,307 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,338 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,369 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,399 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,430 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:28,462 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:44:28,493 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rate
2025-04-13 15:44:28,523 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:44:28,553 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:44:28,583 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:44:28,614 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:28,645 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:44:29,343 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:29,373 - router       - INFO     - Инициализация Router
2025-04-13 15:44:29,404 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,435 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,466 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,496 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,528 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,560 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,590 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,621 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,652 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:29,684 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:29,714 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:29,746 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:29,778 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:31,900 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:31,930 - router       - INFO     - Инициализация Router
2025-04-13 15:44:31,962 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:31,993 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,024 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,055 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,086 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,117 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,149 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,180 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,210 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:32,241 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:32,271 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:32,302 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:32,332 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:49,308 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:49,340 - router       - INFO     - Инициализация Router
2025-04-13 15:44:49,370 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,402 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,432 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,464 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,494 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,526 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,556 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,588 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,618 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:49,650 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:44:49,682 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rate
2025-04-13 15:44:49,712 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:44:49,744 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:44:49,775 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:44:49,805 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:49,835 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:44:50,254 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:50,284 - router       - INFO     - Инициализация Router
2025-04-13 15:44:50,316 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,346 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,378 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,408 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,438 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,469 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,500 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,531 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,564 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:50,594 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:50,626 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:50,656 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:50,686 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:54,230 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:54,261 - router       - INFO     - Инициализация Router
2025-04-13 15:44:54,293 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,323 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,355 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,387 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,417 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,448 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,480 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,511 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,542 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:54,573 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:54,603 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:54,635 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:54,667 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:56,039 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:56,071 - router       - INFO     - Инициализация Router
2025-04-13 15:44:56,102 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,133 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,164 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,195 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,226 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,258 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,288 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,319 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,350 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:56,381 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:44:56,411 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rate
2025-04-13 15:44:56,442 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:44:56,473 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:44:56,503 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:44:56,534 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:56,566 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:44:57,309 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:57,340 - router       - INFO     - Инициализация Router
2025-04-13 15:44:57,371 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,417 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,449 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,481 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,511 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,543 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,575 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,605 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,636 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:57,667 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:57,697 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:57,727 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:57,759 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:44:59,040 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:44:59,071 - router       - INFO     - Инициализация Router
2025-04-13 15:44:59,102 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,133 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,163 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,194 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,224 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,255 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,286 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,316 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,346 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:44:59,377 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:44:59,407 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:44:59,438 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:44:59,470 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:03,237 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:03,268 - router       - INFO     - Инициализация Router
2025-04-13 15:45:03,299 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,330 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,361 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,392 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,424 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,455 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,486 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,517 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,548 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:03,580 - router       - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 15:45:03,610 - router       - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 15:45:03,641 - controller   - INFO     - Получение списка валют
2025-04-13 15:45:03,673 - model        - INFO     - Получение списка всех валют
2025-04-13 15:45:03,797 - model        - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽')]
2025-04-13 15:45:03,844 - controller   - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 15:45:03,876 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:03,907 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 15:45:04,279 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:04,309 - router       - INFO     - Инициализация Router
2025-04-13 15:45:04,341 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,372 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,402 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,432 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,464 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,495 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,526 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,556 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,587 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:04,618 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:04,648 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:04,679 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:04,709 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:06,096 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:06,126 - router       - INFO     - Инициализация Router
2025-04-13 15:45:06,158 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,190 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,220 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,250 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,282 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,312 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,344 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,375 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,405 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:06,437 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:06,467 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:06,497 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:06,527 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:08,280 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:08,310 - router       - INFO     - Инициализация Router
2025-04-13 15:45:08,341 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,373 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,403 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,434 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,464 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,494 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,525 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,556 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,586 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:08,618 - router       - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 15:45:08,648 - router       - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-13 15:45:08,678 - controller   - INFO     - Получение валюты по коду
2025-04-13 15:45:08,708 - controller   - DEBUG    - Код валюты из запроса: USD
2025-04-13 15:45:08,738 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:45:08,861 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:45:08,908 - controller   - INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 15:45:08,939 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:08,971 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 15:45:09,693 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:09,723 - router       - INFO     - Инициализация Router
2025-04-13 15:45:09,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,784 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,814 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,845 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,875 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,905 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,936 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,967 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:09,999 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:10,029 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:10,060 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:10,092 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:10,122 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:10,791 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:10,821 - router       - INFO     - Инициализация Router
2025-04-13 15:45:10,852 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:10,883 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:10,914 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:10,945 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:10,976 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:11,007 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:11,038 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:11,070 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:11,101 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:11,131 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:11,161 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:11,177 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:11,207 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:13,830 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:13,861 - router       - INFO     - Инициализация Router
2025-04-13 15:45:13,892 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:13,923 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:13,953 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:13,985 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,015 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,047 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,077 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,108 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,138 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,170 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:45:14,202 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rate
2025-04-13 15:45:14,232 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:45:14,263 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:45:14,295 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:45:14,326 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:14,356 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:45:14,729 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:14,759 - router       - INFO     - Инициализация Router
2025-04-13 15:45:14,806 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,837 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,868 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,899 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,929 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,961 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:14,992 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:15,023 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:15,054 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:15,086 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:15,117 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:15,132 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:15,162 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:16,895 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:16,925 - router       - INFO     - Инициализация Router
2025-04-13 15:45:16,956 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:16,987 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,017 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,048 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,080 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,111 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,142 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,157 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,189 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,220 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:17,250 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:17,282 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:17,312 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:17,698 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:17,729 - router       - INFO     - Инициализация Router
2025-04-13 15:45:17,760 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,791 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,821 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,851 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,883 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,914 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,945 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:17,975 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:18,006 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:18,036 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:45:18,068 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rate
2025-04-13 15:45:18,099 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:45:18,129 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:45:18,159 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:45:18,190 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:18,221 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:45:18,931 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:18,977 - router       - INFO     - Инициализация Router
2025-04-13 15:45:19,007 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,039 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,070 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,101 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,132 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,147 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,179 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,209 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,240 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:19,270 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:19,301 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:19,332 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:19,363 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:45:25,951 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:45:25,982 - router       - INFO     - Инициализация Router
2025-04-13 15:45:26,012 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,044 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,074 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,106 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,136 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,169 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,200 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,230 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,262 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:45:26,293 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:45:26,324 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:45:26,355 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:45:26,387 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:47:01,554 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:47:01,585 - router       - INFO     - Инициализация Router
2025-04-13 15:47:01,616 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,647 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,678 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,709 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,710 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,710 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,740 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,771 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,802 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:01,833 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:47:01,864 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rate
2025-04-13 15:47:01,894 - controller   - INFO     - Добавление нового курса обмена
2025-04-13 15:47:01,925 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:47:01,956 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:47:01,986 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:47:02,017 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:47:02,583 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:47:02,614 - router       - INFO     - Инициализация Router
2025-04-13 15:47:02,644 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,675 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,706 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,738 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,768 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,799 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,830 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,860 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,891 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:02,922 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:47:02,952 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:47:02,983 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:47:03,015 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:47:11,628 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:47:11,658 - router       - INFO     - Инициализация Router
2025-04-13 15:47:11,690 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,751 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,783 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,815 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,845 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,877 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,907 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,939 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:47:11,969 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:47:12,000 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:47:12,031 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:47:12,062 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:48:41,667 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:48:42,857 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:48:42,857 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:48:42,857 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:42,857 - model        - INFO     - Инициализация базы данных
2025-04-13 15:48:42,858 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:48:42,858 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:48:42,859 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:48:42,859 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:48:46,635 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:48:46,666 - router       - INFO     - Инициализация Router
2025-04-13 15:48:46,698 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,728 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,760 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,791 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,821 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,852 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,882 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,913 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,944 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:46,976 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:48:47,006 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 15:48:47,022 - controller   - INFO     - Получение курсов обмена валют
2025-04-13 15:48:47,053 - model        - INFO     - Получение курсов обмена валют
2025-04-13 15:48:47,163 - model        - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 15:48:47,193 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:48:47,364 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:48:47,424 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:48:47,532 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:48:47,578 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:48:47,687 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:48:47,733 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:48:47,826 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:48:47,874 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:48:48,027 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:48:48,074 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:48:48,198 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:48:48,261 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:48:48,354 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:48:48,400 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:48:48,508 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:48:48,554 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:48:48,678 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:48:48,723 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:48:48,831 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:48:48,877 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:48:49,030 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:48:49,076 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:48:49,199 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:48:49,277 - controller   - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:48:49,308 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:48:49,338 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:48:50,144 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:48:50,175 - router       - INFO     - Инициализация Router
2025-04-13 15:48:50,205 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,236 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,268 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,298 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,329 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,360 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,390 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,421 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,452 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:48:50,483 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:48:50,514 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:48:50,544 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:48:50,575 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:49:03,560 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:49:03,591 - router       - INFO     - Инициализация Router
2025-04-13 15:49:03,623 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,653 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,684 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,715 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,746 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,778 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,808 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,839 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,870 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:03,900 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:49:03,932 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:49:03,964 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:49:03,994 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:49:05,898 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:49:05,928 - router       - INFO     - Инициализация Router
2025-04-13 15:49:05,958 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:05,989 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,019 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,050 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,080 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,111 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,142 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,174 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,204 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:06,235 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:49:06,266 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 15:49:06,311 - controller   - INFO     - Получение курсов обмена валют
2025-04-13 15:49:06,341 - model        - INFO     - Получение курсов обмена валют
2025-04-13 15:49:06,541 - model        - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 15:49:06,572 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:49:06,711 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:49:06,756 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:49:06,895 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:49:06,942 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:49:07,051 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:49:07,098 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:49:07,238 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:49:07,284 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:49:07,409 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:49:07,455 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:49:07,581 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:49:07,627 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:49:07,750 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:49:07,796 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:49:07,965 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:49:08,011 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:49:08,149 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:49:08,194 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:49:08,332 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:49:08,379 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:49:08,503 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:49:08,550 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:49:08,675 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:49:08,737 - controller   - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:49:08,768 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:49:08,798 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:49:09,527 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:49:09,558 - router       - INFO     - Инициализация Router
2025-04-13 15:49:09,589 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,620 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,650 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,681 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,712 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,742 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,758 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,789 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,819 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:09,849 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:49:09,881 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:49:09,911 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:49:09,943 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:49:15,480 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:49:15,510 - router       - INFO     - Инициализация Router
2025-04-13 15:49:15,541 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,572 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,602 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,634 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,664 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,695 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,725 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,757 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,788 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:49:15,818 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:49:15,848 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:49:15,880 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:49:15,910 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:50:32,532 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:50:32,562 - router       - INFO     - Инициализация Router
2025-04-13 15:50:32,593 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,624 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,655 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,686 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,717 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,748 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,780 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,811 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,842 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:32,873 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 15:50:32,903 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 15:50:32,934 - controller   - INFO     - Получение курсов обмена валют
2025-04-13 15:50:32,965 - model        - INFO     - Получение курсов обмена валют
2025-04-13 15:50:33,245 - model        - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 15:50:33,276 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:50:33,414 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:50:33,460 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:50:33,599 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:50:33,645 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:50:33,799 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:50:33,845 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:50:33,937 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:50:33,983 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:50:34,092 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:50:34,139 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:50:34,261 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:50:34,307 - model        - INFO     - Получение валюты по коду: EUR
2025-04-13 15:50:34,415 - model        - DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 15:50:34,460 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:50:34,583 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:50:34,630 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:50:34,752 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:50:34,799 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:50:34,904 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:50:34,950 - model        - INFO     - Получение валюты по коду: RUB
2025-04-13 15:50:35,059 - model        - DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 15:50:35,105 - model        - INFO     - Получение валюты по коду: ALL
2025-04-13 15:50:35,258 - model        - DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 15:50:35,319 - controller   - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:50:35,351 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:50:35,381 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 15:50:35,841 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:50:35,871 - router       - INFO     - Инициализация Router
2025-04-13 15:50:35,902 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:35,932 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:35,964 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:35,996 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:36,026 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:36,057 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:36,087 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:36,119 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:36,149 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:50:36,181 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:50:36,213 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:50:36,243 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:50:36,290 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:52:14,553 - __main__     - INFO     - Завершение работы сервера
2025-04-13 15:52:15,792 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 15:52:15,792 - __main__     - INFO     - Инициализация базы данных
2025-04-13 15:52:15,792 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:15,792 - model        - INFO     - Инициализация базы данных
2025-04-13 15:52:15,793 - model        - INFO     - База данных успешно инициализирована
2025-04-13 15:52:15,793 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 15:52:15,794 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 15:52:15,794 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 15:52:18,926 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:52:18,957 - router       - INFO     - Инициализация Router
2025-04-13 15:52:18,988 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,019 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,050 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,081 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,112 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,159 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,189 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,219 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,251 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,281 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:52:19,311 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:52:19,342 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:52:19,374 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:52:19,511 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:52:19,542 - router       - INFO     - Инициализация Router
2025-04-13 15:52:19,573 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,604 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,635 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,665 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,695 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,726 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,756 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,787 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,818 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:19,850 - router       - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 15:52:19,881 - router       - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 15:52:19,911 - controller   - INFO     - Обработка HTML-страницы
2025-04-13 15:52:20,066 - controller   - DEBUG    - HTML-страница успешно загружена
2025-04-13 15:52:20,127 - viewer       - INFO     - Рендеринг HTML-страницы
2025-04-13 15:52:20,888 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:52:20,918 - router       - INFO     - Инициализация Router
2025-04-13 15:52:20,949 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:20,980 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,011 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,043 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,074 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,104 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,136 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,166 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,197 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:52:21,227 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:52:21,258 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:52:21,289 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:52:21,321 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:53:17,270 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:53:17,301 - router       - INFO     - Инициализация Router
2025-04-13 15:53:17,316 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,331 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,362 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,394 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,424 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,456 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,486 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,517 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,548 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:17,578 - router       - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 15:53:17,609 - router       - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 15:53:17,639 - controller   - INFO     - Обработка HTML-страницы
2025-04-13 15:53:17,780 - controller   - DEBUG    - HTML-страница успешно загружена
2025-04-13 15:53:17,842 - viewer       - INFO     - Рендеринг HTML-страницы
2025-04-13 15:53:18,593 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:53:18,623 - router       - INFO     - Инициализация Router
2025-04-13 15:53:18,655 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,687 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,717 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,762 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,778 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,808 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,840 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,871 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,902 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:18,932 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:53:18,963 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:53:18,993 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:53:19,025 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:53:21,855 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:53:21,887 - router       - INFO     - Инициализация Router
2025-04-13 15:53:21,917 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:21,949 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:21,981 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:22,011 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:22,042 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:22,089 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:22,120 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:22,151 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:22,182 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:22,213 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 15:53:22,243 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 15:53:22,274 - controller   - INFO     - Просмотр курса обмена
2025-04-13 15:53:22,304 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:53:22,335 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:53:22,366 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:53:22,397 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:53:23,110 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:53:23,141 - router       - INFO     - Инициализация Router
2025-04-13 15:53:23,172 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,203 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,233 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,264 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,295 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,326 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,357 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,388 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,419 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:53:23,450 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:53:23,481 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:53:23,512 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:53:23,543 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:55:50,626 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:55:50,657 - router       - INFO     - Инициализация Router
2025-04-13 15:55:50,688 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,719 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,750 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,780 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,811 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,842 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,873 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,903 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,934 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:50,965 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:55:50,996 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:55:51,027 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:55:51,057 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:55:57,812 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:55:57,843 - router       - INFO     - Инициализация Router
2025-04-13 15:55:57,873 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:57,904 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:57,934 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:57,964 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:57,995 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:58,026 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:58,057 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:58,088 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:58,118 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:58,149 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 15:55:58,179 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 15:55:58,210 - controller   - INFO     - Просмотр курса обмена
2025-04-13 15:55:58,242 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:55:58,272 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:55:58,303 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:55:58,334 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:55:59,058 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:55:59,089 - router       - INFO     - Инициализация Router
2025-04-13 15:55:59,120 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,150 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,180 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,211 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,242 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,272 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,303 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,335 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,365 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:55:59,395 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:55:59,426 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:55:59,456 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:55:59,487 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:57:51,123 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:57:51,155 - router       - INFO     - Инициализация Router
2025-04-13 15:57:51,186 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,217 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,248 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,294 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,326 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,357 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,388 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,419 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,449 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:51,481 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:57:51,511 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:57:51,542 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:57:51,574 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:57:54,070 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:57:54,101 - router       - INFO     - Инициализация Router
2025-04-13 15:57:54,131 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,162 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,193 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,224 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,255 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,286 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,317 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,349 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,380 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:54,411 - router       - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 15:57:54,441 - router       - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-13 15:57:54,472 - controller   - INFO     - Получение валюты по коду
2025-04-13 15:57:54,503 - controller   - DEBUG    - Код валюты из запроса: USD
2025-04-13 15:57:54,534 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 15:57:54,673 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 15:57:54,719 - controller   - INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 15:57:54,750 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:57:54,780 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 15:57:55,538 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:57:55,568 - router       - INFO     - Инициализация Router
2025-04-13 15:57:55,599 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,630 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,661 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,692 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,722 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,752 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,783 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,814 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,844 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:57:55,876 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:57:55,906 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:57:55,936 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:57:55,967 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:58:34,835 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:58:34,851 - router       - INFO     - Инициализация Router
2025-04-13 15:58:34,882 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:34,912 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:34,943 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:34,974 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:35,005 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:35,036 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:35,066 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:35,097 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:35,128 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:35,159 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:58:35,191 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:58:35,221 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:58:35,252 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 15:58:36,889 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:58:36,920 - router       - INFO     - Инициализация Router
2025-04-13 15:58:36,950 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:36,981 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,011 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,042 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,073 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,104 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,135 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,165 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,196 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,227 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 15:58:37,257 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 15:58:37,289 - controller   - INFO     - Просмотр курса обмена
2025-04-13 15:58:37,320 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 15:58:37,351 - controller   - WARNING  - Отсутствуют обязательные поля для добавления курса обмена
2025-04-13 15:58:37,382 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:58:37,413 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 15:58:37,832 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 15:58:37,878 - router       - INFO     - Инициализация Router
2025-04-13 15:58:37,909 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,940 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:37,970 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:38,001 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:38,032 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:38,062 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:38,093 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:38,124 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:38,154 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 15:58:38,185 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 15:58:38,215 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 15:58:38,247 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 15:58:38,277 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:00:11,586 - __main__     - INFO     - Завершение работы сервера
2025-04-13 16:00:12,674 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:00:12,674 - __main__     - INFO     - Инициализация базы данных
2025-04-13 16:00:12,674 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:12,674 - model        - INFO     - Инициализация базы данных
2025-04-13 16:00:12,675 - model        - INFO     - База данных успешно инициализирована
2025-04-13 16:00:12,675 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:00:12,676 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:00:12,676 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:00:15,108 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:00:15,139 - router       - INFO     - Инициализация Router
2025-04-13 16:00:15,170 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,200 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,232 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,262 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,293 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,325 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,355 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,370 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,402 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:15,433 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:00:15,463 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:00:15,494 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:00:15,525 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:00:19,214 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:00:19,243 - router       - INFO     - Инициализация Router
2025-04-13 16:00:19,273 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,304 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,335 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,365 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,396 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,428 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,458 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,488 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,520 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:19,550 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:00:19,580 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:00:19,611 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:00:19,643 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 16:00:19,673 - controller   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:00:19,703 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:00:19,734 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:00:20,490 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:00:20,522 - router       - INFO     - Инициализация Router
2025-04-13 16:00:20,552 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,583 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,613 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,643 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,674 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,705 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,736 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,766 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,796 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:00:20,827 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:00:20,858 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:00:20,889 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:00:20,920 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:05:51,052 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:05:51,082 - router       - INFO     - Инициализация Router
2025-04-13 16:05:51,112 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,143 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,174 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,204 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,220 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,250 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,281 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,312 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,344 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:51,374 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:05:51,404 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:05:51,435 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:05:51,465 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 16:05:51,497 - controller   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:05:51,529 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:05:51,559 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:05:51,976 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:05:52,006 - router       - INFO     - Инициализация Router
2025-04-13 16:05:52,036 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,067 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,098 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,129 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,159 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,190 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,221 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,236 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,267 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:52,297 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:05:52,328 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:05:52,358 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:05:52,390 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:05:53,977 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:05:54,007 - router       - INFO     - Инициализация Router
2025-04-13 16:05:54,038 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,069 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,100 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,131 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,161 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,193 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,223 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,254 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,285 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:05:54,316 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:05:54,346 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:05:54,377 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:05:54,407 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:08:13,666 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:08:13,696 - router       - INFO     - Инициализация Router
2025-04-13 16:08:13,727 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,759 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,790 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,820 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,851 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,882 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,912 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,943 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:13,975 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:14,006 - router       - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 16:08:14,036 - router       - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 16:08:14,066 - controller   - INFO     - Обработка HTML-страницы
2025-04-13 16:08:14,189 - controller   - DEBUG    - HTML-страница успешно загружена
2025-04-13 16:08:14,251 - viewer       - INFO     - Рендеринг HTML-страницы
2025-04-13 16:08:14,916 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:08:14,946 - router       - INFO     - Инициализация Router
2025-04-13 16:08:14,978 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,008 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,038 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,070 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,100 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,130 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,162 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,194 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,225 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:15,257 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:08:15,287 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:08:15,319 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:08:15,349 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:08:21,994 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:08:22,025 - router       - INFO     - Инициализация Router
2025-04-13 16:08:22,057 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,088 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,119 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,149 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,180 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,211 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,241 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,272 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,303 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,333 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:08:22,364 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:08:22,395 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:08:22,426 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 16:08:22,457 - controller   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:08:22,488 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:08:22,519 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:08:22,890 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:08:22,921 - router       - INFO     - Инициализация Router
2025-04-13 16:08:22,951 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:22,982 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,013 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,044 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,076 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,106 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,137 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,170 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,200 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:23,231 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:08:23,261 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:08:23,293 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:08:23,323 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:08:27,818 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:08:27,849 - router       - INFO     - Инициализация Router
2025-04-13 16:08:27,881 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:27,911 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:27,942 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:27,973 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:28,004 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:28,035 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:28,067 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:28,098 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:28,128 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:08:28,158 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:08:28,189 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:08:28,220 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:08:28,250 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:09:40,098 - app_server   - INFO     - Обработка POST-запроса
2025-04-13 16:09:40,128 - router       - INFO     - Инициализация Router
2025-04-13 16:09:40,160 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,191 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,223 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,253 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,284 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,316 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,346 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,394 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,425 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:40,455 - router       - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 16:09:40,487 - router       - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 16:09:40,518 - controller   - INFO     - Добавление новой валюты
2025-04-13 16:09:40,549 - controller   - DEBUG    - Данные запроса: {'code': 'USD', 'name': 'Dollar'}
2025-04-13 16:09:40,580 - model        - INFO     - Добавление валюты: USD, Доллар США, $
2025-04-13 16:09:40,688 - model        - WARNING  - Валюта USD уже существует в базе данных
2025-04-13 16:09:40,735 - controller   - ERROR    - Ошибка при добавлении валюты USD: Currency already exists
2025-04-13 16:09:40,766 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency already exists'}
2025-04-13 16:09:41,200 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:09:41,230 - router       - INFO     - Инициализация Router
2025-04-13 16:09:41,261 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,293 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,324 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,355 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,402 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,434 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,464 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,495 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,525 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:09:41,557 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:09:41,588 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:09:41,620 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:09:41,650 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:10:03,295 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:10:03,326 - router       - INFO     - Инициализация Router
2025-04-13 16:10:03,357 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,388 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,419 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,449 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,480 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,511 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,541 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,571 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,604 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:03,634 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:10:03,666 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:10:03,696 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:10:03,728 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:10:08,075 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:10:08,122 - router       - INFO     - Инициализация Router
2025-04-13 16:10:08,153 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,184 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,216 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,246 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,277 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,308 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,339 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,370 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,400 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:08,431 - router       - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 16:10:08,462 - router       - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-13 16:10:08,494 - controller   - INFO     - Получение валюты по коду
2025-04-13 16:10:08,525 - controller   - DEBUG    - Код валюты из запроса: USD
2025-04-13 16:10:08,555 - model        - INFO     - Получение валюты по коду: USD
2025-04-13 16:10:08,679 - model        - DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:10:08,725 - controller   - INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:10:08,756 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:10:08,786 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:10:09,528 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:10:09,559 - router       - INFO     - Инициализация Router
2025-04-13 16:10:09,589 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,621 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,651 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,683 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,714 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,745 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,775 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,806 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,837 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:10:09,868 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:10:09,898 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:10:09,929 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:10:09,960 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:11:35,359 - __main__     - INFO     - Завершение работы сервера
2025-04-13 16:11:36,860 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:11:36,860 - __main__     - INFO     - Инициализация базы данных
2025-04-13 16:11:36,861 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:36,861 - model        - INFO     - Инициализация базы данных
2025-04-13 16:11:36,861 - model        - INFO     - База данных успешно инициализирована
2025-04-13 16:11:36,861 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:11:36,862 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:11:36,862 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:11:39,646 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:11:39,676 - router       - INFO     - Инициализация Router
2025-04-13 16:11:39,707 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,738 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,769 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,800 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,831 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,862 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,893 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,924 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,956 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:39,987 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:11:40,018 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:11:40,050 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:11:40,080 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:11:40,111 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:11:40,141 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:11:40,172 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:11:40,203 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:11:40,234 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:11:40,265 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:11:40,296 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:11:40,326 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:11:40,357 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:11:40,388 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:11:40,419 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:11:40,451 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:11:40,481 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:11:40,512 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:11:40,545 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:11:40,575 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:11:40,605 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:11:40,635 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:11:40,667 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:11:40,699 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:11:42,527 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:11:42,558 - router       - INFO     - Инициализация Router
2025-04-13 16:11:42,588 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,620 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,651 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,681 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,711 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,741 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,772 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,802 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,833 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:42,865 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:11:42,895 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:11:42,927 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:11:42,957 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:11:42,988 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:11:43,019 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:11:43,050 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:11:43,080 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:11:43,112 - controller   - DEBUG    - Данные запроса: {}
2025-04-13 16:11:43,143 - controller   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:11:43,174 - router       - DEBUG    - Ответ DTO: {'error': 'Missing required fields'}
2025-04-13 16:11:43,205 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:11:43,235 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:11:43,994 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:11:44,023 - router       - INFO     - Инициализация Router
2025-04-13 16:11:44,055 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,085 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,115 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,146 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,177 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,208 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,240 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,271 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,302 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:11:44,333 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:11:44,364 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:11:44,395 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:11:44,427 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/exchangeRate?from=USD&to=EUR', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:11:44,458 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:11:44,489 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:11:44,520 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:11:44,551 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:11:44,582 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:11:44,613 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:11:44,645 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:11:44,676 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:11:44,707 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:11:44,738 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:11:44,769 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:11:44,800 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:11:44,832 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:11:44,863 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:11:44,893 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:11:44,924 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:11:44,954 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:11:44,984 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:11:45,014 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:11:45,045 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:15:46,469 - __main__     - INFO     - Завершение работы сервера
2025-04-13 16:16:07,367 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:16:07,367 - __main__     - INFO     - Инициализация базы данных
2025-04-13 16:16:07,367 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:07,367 - model        - INFO     - Инициализация базы данных
2025-04-13 16:16:07,368 - model        - INFO     - База данных успешно инициализирована
2025-04-13 16:16:07,368 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:16:07,368 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:16:07,369 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:16:10,808 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:16:10,840 - router       - INFO     - Инициализация Router
2025-04-13 16:16:10,870 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:10,902 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:10,932 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:10,963 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:10,993 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:11,024 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:11,054 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:11,086 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:11,116 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:11,146 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:16:11,177 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:16:11,209 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:16:11,239 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:16:11,270 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:16:11,300 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:16:11,332 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:16:11,362 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:16:11,392 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:16:11,423 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:16:11,453 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:16:11,483 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:16:11,514 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:16:11,546 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:16:11,576 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:16:11,608 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:16:11,639 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:16:11,670 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:16:11,700 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:16:11,731 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:16:11,761 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:16:11,793 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:16:11,825 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:16:11,855 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:16:14,081 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:16:14,113 - router       - INFO     - Инициализация Router
2025-04-13 16:16:14,145 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,175 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,207 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,238 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,268 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,300 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,330 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,362 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,392 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:14,423 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:16:14,453 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:16:14,483 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:14,515 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:16:14,547 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:16:14,577 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:16:14,607 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:16:14,637 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:16:14,667 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:14,699 - model        - INFO     - Получение курса обмена: ['USD'] -> ['EUR']
2025-04-13 16:16:14,760 - model        - ERROR    - Ошибка при получении курса обмена ['USD'] -> ['EUR']: Error binding parameter 1: type 'list' is not supported
2025-04-13 16:16:16,161 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:16:16,190 - router       - INFO     - Инициализация Router
2025-04-13 16:16:16,222 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,222 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,253 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,284 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,314 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,345 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,376 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,407 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,439 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:16,469 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:16:16,500 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:16:16,531 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:16,562 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:16:16,593 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:16:16,625 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:16:16,656 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:16:16,686 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:16:16,716 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:16,747 - model        - INFO     - Получение курса обмена: ['USD'] -> ['EUR']
2025-04-13 16:16:16,810 - model        - ERROR    - Ошибка при получении курса обмена ['USD'] -> ['EUR']: Error binding parameter 1: type 'list' is not supported
2025-04-13 16:16:18,243 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:16:18,273 - router       - INFO     - Инициализация Router
2025-04-13 16:16:18,303 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,335 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,365 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,395 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,426 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,456 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,488 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,518 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,550 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:18,580 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:16:18,610 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:16:18,641 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:18,671 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:16:18,703 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:16:18,735 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:16:18,765 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:16:18,796 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:16:18,827 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:18,857 - model        - INFO     - Получение курса обмена: ['USD'] -> ['EUR']
2025-04-13 16:16:18,918 - model        - ERROR    - Ошибка при получении курса обмена ['USD'] -> ['EUR']: Error binding parameter 1: type 'list' is not supported
2025-04-13 16:16:19,660 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:16:19,690 - router       - INFO     - Инициализация Router
2025-04-13 16:16:19,721 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,753 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,783 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,814 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,844 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,875 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,906 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,938 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:19,984 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:20,014 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:16:20,044 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:16:20,075 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:20,106 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:16:20,137 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:16:20,168 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:16:20,199 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:16:20,230 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:16:20,261 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:20,292 - model        - INFO     - Получение курса обмена: ['USD'] -> ['EUR']
2025-04-13 16:16:20,355 - model        - ERROR    - Ошибка при получении курса обмена ['USD'] -> ['EUR']: Error binding parameter 1: type 'list' is not supported
2025-04-13 16:16:25,785 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:16:25,817 - router       - INFO     - Инициализация Router
2025-04-13 16:16:25,848 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:25,879 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:25,910 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:25,941 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:25,972 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:26,003 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:26,033 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:26,063 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:26,094 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:26,126 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:16:26,157 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:16:26,188 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:26,218 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:16:26,249 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:16:26,279 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:16:26,310 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:16:26,342 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:16:26,373 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:26,404 - model        - INFO     - Получение курса обмена: ['USD'] -> ['EUR']
2025-04-13 16:16:26,466 - model        - ERROR    - Ошибка при получении курса обмена ['USD'] -> ['EUR']: Error binding parameter 1: type 'list' is not supported
2025-04-13 16:16:27,211 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:16:27,243 - router       - INFO     - Инициализация Router
2025-04-13 16:16:27,274 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,304 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,336 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,367 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,398 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,429 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,460 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,491 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,523 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:16:27,554 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:16:27,585 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:16:27,617 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:27,633 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:16:27,665 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:16:27,695 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:16:27,725 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:16:27,757 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:16:27,787 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:16:27,819 - model        - INFO     - Получение курса обмена: ['USD'] -> ['EUR']
2025-04-13 16:16:27,881 - model        - ERROR    - Ошибка при получении курса обмена ['USD'] -> ['EUR']: Error binding parameter 1: type 'list' is not supported
2025-04-13 16:16:29,308 - __main__     - INFO     - Завершение работы сервера
2025-04-13 16:17:56,094 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:17:56,094 - __main__     - INFO     - Инициализация базы данных
2025-04-13 16:17:56,094 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:56,094 - model        - INFO     - Инициализация базы данных
2025-04-13 16:17:56,095 - model        - INFO     - База данных успешно инициализирована
2025-04-13 16:17:56,095 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:17:56,095 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:17:56,095 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:17:59,353 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:17:59,384 - router       - INFO     - Инициализация Router
2025-04-13 16:17:59,415 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,446 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,477 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,509 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,539 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,570 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,600 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,631 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,661 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:17:59,692 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:17:59,723 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:17:59,754 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:17:59,799 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:17:59,829 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:17:59,859 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:17:59,891 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:17:59,922 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:17:59,952 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:17:59,982 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:18:00,014 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:18:00,045 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:18:00,075 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:18:00,106 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:18:00,136 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:18:00,168 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:18:00,199 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:18:00,231 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:18:00,261 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:18:00,291 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:18:00,323 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:18:00,353 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:18:00,384 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:18:00,416 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:18:01,569 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:18:01,600 - router       - INFO     - Инициализация Router
2025-04-13 16:18:01,631 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,662 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,694 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,725 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,755 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,787 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,818 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,848 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,879 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:01,910 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:18:01,941 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:18:01,971 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:18:02,003 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:18:02,033 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:18:02,063 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:18:02,094 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:18:02,125 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:18:02,155 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:18:02,187 - controller   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:18:02,218 - router       - DEBUG    - Ответ DTO: {'error': 'Missing required fields'}
2025-04-13 16:18:02,249 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:18:02,280 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:18:03,021 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:18:03,051 - router       - INFO     - Инициализация Router
2025-04-13 16:18:03,081 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,112 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,143 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,175 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,206 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,237 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,268 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,300 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,331 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:18:03,362 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:18:03,393 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:18:03,424 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:18:03,455 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/exchangeRate?from=USD&to=EUR', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:18:03,486 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:18:03,518 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:18:03,549 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:18:03,580 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:18:03,611 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:18:03,642 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:18:03,673 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:18:03,720 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:18:03,750 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:18:03,782 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:18:03,814 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:18:03,844 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:18:03,876 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:18:03,907 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:18:03,937 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:18:03,969 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:18:03,999 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:18:04,030 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:18:04,060 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:18:04,091 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:22:59,862 - __main__     - INFO     - Завершение работы сервера
2025-04-13 16:23:01,004 - __main__     - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:23:01,004 - __main__     - INFO     - Инициализация базы данных
2025-04-13 16:23:01,004 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:01,005 - model        - INFO     - Инициализация базы данных
2025-04-13 16:23:01,005 - model        - INFO     - База данных успешно инициализирована
2025-04-13 16:23:01,005 - __main__     - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:23:01,006 - app_server   - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:23:01,006 - __main__     - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:23:07,021 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:23:07,050 - router       - INFO     - Инициализация Router
2025-04-13 16:23:07,081 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,112 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,142 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,173 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,204 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,235 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,266 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,296 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,327 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:07,358 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:23:07,389 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:23:07,421 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:23:07,452 - router       - INFO     - Парсинг тела запроса
2025-04-13 16:23:07,483 - router       - DEBUG    - Тело запроса пустое
2025-04-13 16:23:07,515 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:23:07,546 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:23:07,577 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:23:07,608 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:23:07,639 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:23:07,669 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:23:07,700 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:23:07,731 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:23:07,762 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:23:07,793 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:23:07,824 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:23:07,855 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:23:07,886 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:23:07,917 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:23:07,947 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:23:07,963 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:23:07,994 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:23:08,026 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:23:08,056 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:23:08,086 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:23:08,117 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:23:08,890 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:23:08,921 - router       - INFO     - Инициализация Router
2025-04-13 16:23:08,951 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:08,984 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,015 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,045 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,076 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,107 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,138 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,169 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,199 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:09,230 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:23:09,261 - router       - INFO     - Обработка запроса: GET /currencies?
2025-04-13 16:23:09,291 - router       - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 16:23:09,322 - router       - INFO     - Парсинг тела запроса
2025-04-13 16:23:09,352 - router       - DEBUG    - Тело запроса пустое
2025-04-13 16:23:09,384 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:23:09,416 - router       - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 16:23:09,447 - router       - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 16:23:09,477 - router       - INFO     - Маршрут найден: GET /currencies
2025-04-13 16:23:09,509 - controller   - INFO     - Получение списка валют
2025-04-13 16:23:09,539 - model        - INFO     - Получение списка всех валют
2025-04-13 16:23:09,756 - model        - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽')]
2025-04-13 16:23:09,801 - controller   - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:23:09,832 - router       - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:23:09,863 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:23:09,895 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:23:10,673 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:23:10,704 - router       - INFO     - Инициализация Router
2025-04-13 16:23:10,735 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,766 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,796 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,826 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,857 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,887 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,918 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,948 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:10,980 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:11,011 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:23:11,042 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:23:11,073 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:23:11,104 - router       - INFO     - Парсинг тела запроса
2025-04-13 16:23:11,135 - router       - DEBUG    - Тело запроса пустое
2025-04-13 16:23:11,166 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/currencies?', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:23:11,196 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:23:11,227 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:23:11,258 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:23:11,288 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:23:11,304 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:23:11,335 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:23:11,365 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:23:11,398 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:23:11,429 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:23:11,460 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:23:11,490 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:23:11,521 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:23:11,552 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:23:11,583 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:23:11,615 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:23:11,646 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:23:11,677 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:23:11,707 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:23:11,738 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:23:11,769 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:23:11,923 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:23:11,954 - router       - INFO     - Инициализация Router
2025-04-13 16:23:11,985 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,017 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,047 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,078 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,109 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,140 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,171 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,203 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,234 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:12,265 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:23:12,296 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:23:12,326 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:23:12,357 - router       - INFO     - Парсинг тела запроса
2025-04-13 16:23:12,388 - router       - DEBUG    - Тело запроса пустое
2025-04-13 16:23:12,419 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:23:12,450 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:23:12,481 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:23:12,513 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:23:12,544 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:23:12,574 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:23:12,604 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:23:12,635 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:23:12,666 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:23:12,698 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:23:12,729 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:23:12,760 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:23:12,791 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:23:12,822 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:23:12,852 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:23:12,883 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:23:12,914 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:23:12,944 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:23:12,975 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:23:13,006 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:23:13,035 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:23:13,943 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:23:13,973 - router       - INFO     - Инициализация Router
2025-04-13 16:23:14,004 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,036 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,066 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,098 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,130 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,160 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,192 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,223 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,253 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:14,286 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:23:14,317 - router       - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:23:14,347 - router       - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:23:14,379 - router       - INFO     - Парсинг тела запроса
2025-04-13 16:23:14,409 - router       - DEBUG    - Тело запроса пустое
2025-04-13 16:23:14,439 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:23:14,470 - router       - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:23:14,500 - router       - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:23:14,532 - router       - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:23:14,562 - controller   - INFO     - Просмотр курса обмена
2025-04-13 16:23:14,594 - controller   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:23:14,625 - controller   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:23:14,657 - router       - DEBUG    - Ответ DTO: {'error': 'Missing required fields'}
2025-04-13 16:23:14,704 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:23:14,735 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:23:15,121 - app_server   - INFO     - Обработка GET-запроса
2025-04-13 16:23:15,151 - router       - INFO     - Инициализация Router
2025-04-13 16:23:15,182 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,214 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,245 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,276 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,306 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,337 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,369 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,400 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,431 - model        - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:23:15,461 - router       - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:23:15,492 - router       - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:23:15,524 - router       - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:23:15,555 - router       - INFO     - Парсинг тела запроса
2025-04-13 16:23:15,586 - router       - DEBUG    - Тело запроса пустое
2025-04-13 16:23:15,617 - router       - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/exchangeRate?from=USD&to=EUR', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:23:15,648 - router       - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:23:15,679 - router       - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:23:15,711 - router       - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:23:15,742 - router       - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:23:15,773 - router       - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:23:15,803 - router       - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:23:15,834 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:23:15,864 - router       - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:23:15,894 - router       - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:23:15,925 - router       - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:23:15,955 - router       - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:23:15,985 - router       - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:23:16,017 - router       - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:23:16,048 - router       - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:23:16,079 - router       - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:23:16,110 - router       - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:23:16,140 - router       - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:23:16,171 - router       - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:23:16,201 - viewer       - INFO     - Рендеринг JSON-ответа
2025-04-13 16:23:16,232 - app_server   - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:26:23,121 - __main__     - INFO     - Завершение работы сервера
2025-04-13 16:27:12,933 - __main__     -<module>    - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:27:12,934 - __main__     -<module>    - INFO     - Инициализация базы данных
2025-04-13 16:27:12,934 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:12,934 - model        -init_db     - INFO     - Инициализация базы данных
2025-04-13 16:27:12,935 - model        -init_db     - INFO     - База данных успешно инициализирована
2025-04-13 16:27:12,935 - __main__     -<module>    - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:27:12,935 - app_server   -start_server- INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:27:12,935 - __main__     -<module>    - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:27:17,843 - app_server   -do_GET      - INFO     - Обработка GET-запроса
2025-04-13 16:27:17,872 - router       -__init__    - INFO     - Инициализация Router
2025-04-13 16:27:17,904 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:17,935 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:17,966 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:17,996 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:18,027 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:18,057 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:18,087 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:18,118 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:18,148 - model        -__init__    - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:18,179 - router       -__init__    - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:27:18,209 - router       -handle_request- INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:27:18,239 - router       -handle_request- DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:27:18,269 - router       -_parse_body - INFO     - Парсинг тела запроса
2025-04-13 16:27:18,301 - router       -_parse_body - DEBUG    - Тело запроса пустое
2025-04-13 16:27:18,333 - router       -handle_request- DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:27:18,363 - router       -resolve     - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:27:18,394 - router       -resolve     - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:27:18,424 - router       -match_dynamic_route- DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:27:18,454 - router       -match_dynamic_route- DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:27:18,485 - router       -match_dynamic_route- DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:27:18,515 - router       -match_dynamic_route- DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:27:18,546 - router       -match_dynamic_route- DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:27:18,576 - router       -match_dynamic_route- DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:27:18,608 - router       -match_dynamic_route- DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:27:18,640 - router       -match_dynamic_route- DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:27:18,670 - router       -match_dynamic_route- DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:27:18,700 - router       -match_dynamic_route- DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:27:18,732 - router       -match_dynamic_route- DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:27:18,762 - router       -match_dynamic_route- DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:27:18,794 - router       -match_dynamic_route- DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:27:18,826 - router       -match_dynamic_route- DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:27:18,856 - router       -resolve     - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:27:18,886 - router       -handle_request- DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:27:18,917 - viewer       -render_json - INFO     - Рендеринг JSON-ответа
2025-04-13 16:27:18,947 - app_server   -send_json_response- DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:27:34,269 - __main__     -<module>    - INFO     - Завершение работы сервера
2025-04-13 16:27:35,187 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:27:35,187 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:27:35,187 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:35,187 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:27:35,188 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:27:35,188 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:27:35,189 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:27:35,189 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:27:39,149 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:27:39,178 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:27:39,210 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,242 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,272 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,304 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,335 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,365 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,397 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,428 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,458 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:39,490 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:27:39,520 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 16:27:39,551 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-13 16:27:39,582 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:27:39,613 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:27:39,645 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7'}, body={}, query_params={}, response=None)
2025-04-13 16:27:39,675 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 16:27:39,707 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 16:27:39,739 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-13 16:27:39,769 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-13 16:27:39,894 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-13 16:27:39,926 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-13 16:27:39,987 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-13 16:27:40,528 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:27:40,559 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:27:40,589 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,620 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,650 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,680 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,711 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,742 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,773 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,803 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,835 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:27:40,866 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:27:40,897 - router       -handle_request      - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:27:40,928 - router       -handle_request      - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:27:40,958 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:27:40,989 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:27:41,020 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:27:41,051 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:27:41,081 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:27:41,111 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:27:41,142 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:27:41,173 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:27:41,203 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:27:41,235 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:27:41,266 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:27:41,296 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:27:41,327 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:27:41,357 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:27:41,387 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:27:41,418 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:27:41,449 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:27:41,479 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:27:41,510 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:27:41,541 - router       -resolve             - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:27:41,571 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:27:41,602 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:27:41,633 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:28:06,306 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:28:06,338 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:28:06,368 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,399 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,429 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,461 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,491 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,523 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,553 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,584 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,615 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:06,647 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:28:06,677 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:28:06,709 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:28:06,740 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:28:06,770 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:28:06,801 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:28:06,832 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:28:06,864 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:28:06,894 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:28:06,925 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:28:06,957 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:28:06,987 - controller   -get_exchange_rate   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:28:07,017 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Missing required fields'}
2025-04-13 16:28:07,048 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:28:07,078 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:28:07,500 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:28:07,531 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:28:07,563 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,593 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,624 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,656 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,686 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,718 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,749 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,779 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,811 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:28:07,842 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:28:07,872 - router       -handle_request      - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:28:07,902 - router       -handle_request      - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:28:07,934 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:28:07,965 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:28:07,995 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/exchangeRate?from=USD&to=EUR', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:28:08,025 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:28:08,057 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:28:08,087 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:28:08,118 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:28:08,148 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:28:08,179 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:28:08,209 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:28:08,242 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:28:08,272 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:28:08,302 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:28:08,334 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:28:08,380 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:28:08,412 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:28:08,444 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:28:08,474 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:28:08,505 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:28:08,535 - router       -resolve             - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:28:08,567 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:28:08,597 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:28:08,628 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:29:44,206 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:29:45,275 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:29:45,275 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:29:45,275 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:45,275 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:29:45,276 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:29:45,276 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:29:45,277 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:29:45,277 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:29:49,917 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:29:49,949 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:29:49,979 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,010 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,040 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,071 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,103 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,133 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,164 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,196 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,226 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:29:50,258 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:29:50,290 - router       -handle_request      - INFO     - Обработка запроса: GET /favicon.ico
2025-04-13 16:29:50,320 - router       -handle_request      - DEBUG    - Путь запроса: /favicon.ico, параметры: {}
2025-04-13 16:29:50,351 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:29:50,383 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:29:50,413 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/favicon.ico', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'Accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'no-cors', 'Sec-Fetch-Dest': 'image', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:29:50,443 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /favicon.ico
2025-04-13 16:29:50,474 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /favicon.ico: None
2025-04-13 16:29:50,506 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /favicon.ico
2025-04-13 16:29:50,536 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currencies != favicon.ico
2025-04-13 16:29:50,568 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /favicon.ico
2025-04-13 16:29:50,600 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != favicon.ico
2025-04-13 16:29:50,630 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /favicon.ico
2025-04-13 16:29:50,660 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRates != favicon.ico
2025-04-13 16:29:50,691 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /favicon.ico
2025-04-13 16:29:50,722 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRate != favicon.ico
2025-04-13 16:29:50,752 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /favicon.ico
2025-04-13 16:29:50,782 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: convert != favicon.ico
2025-04-13 16:29:50,814 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /favicon.ico
2025-04-13 16:29:50,844 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает:  != favicon.ico
2025-04-13 16:29:50,876 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /favicon.ico
2025-04-13 16:29:50,906 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 16:29:50,938 - router       -resolve             - WARNING  - Маршрут не найден: GET /favicon.ico
2025-04-13 16:29:50,984 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 16:29:51,016 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:29:51,046 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 16:31:42,191 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:31:43,279 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:31:43,279 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:31:43,279 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:43,279 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:31:43,280 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:31:43,280 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:31:43,281 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:31:43,281 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:31:46,044 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:31:46,074 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:31:46,105 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,135 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,166 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,196 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,228 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,258 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,273 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,304 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,335 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:31:46,366 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:31:46,396 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 16:31:46,426 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-13 16:31:46,457 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:31:46,457 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:31:46,487 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7'}, body={}, query_params={}, response=None)
2025-04-13 16:31:46,518 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 16:31:46,549 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 16:31:46,579 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-13 16:31:46,609 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-13 16:31:46,734 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-13 16:31:46,765 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-13 16:31:46,813 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-13 16:32:11,334 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:32:11,364 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:32:11,396 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,426 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,457 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,487 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,518 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,550 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,580 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,611 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,642 - model        -__init__            - INFO     - Инициализация CurrencyModel с базой данных: currency.db
2025-04-13 16:32:11,672 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:32:11,703 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 16:32:11,734 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:32:11,765 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:32:11,796 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:32:11,826 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 16:32:11,857 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:32:11,888 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:32:11,918 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:32:11,949 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:32:11,980 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 16:32:12,010 - controller   -get_exchange_rate   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:32:12,040 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Missing required fields'}
2025-04-13 16:32:12,071 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:32:12,101 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:32:45,149 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:32:46,210 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:32:46,210 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:32:46,210 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:32:46,211 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:32:46,211 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:32:46,212 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:32:46,212 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:32:55,085 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:32:55,115 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:32:55,146 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:32:55,177 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 16:32:55,207 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-13 16:32:55,238 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:32:55,239 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:32:55,239 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7'}, body={}, query_params={}, response=None)
2025-04-13 16:32:55,239 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 16:32:55,240 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 16:32:55,240 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-13 16:32:55,269 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-13 16:32:55,332 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-13 16:32:55,362 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-13 16:32:55,422 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-13 16:33:04,398 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:33:04,430 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:33:04,461 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:33:04,493 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:33:04,523 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:33:04,554 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:33:04,585 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:33:04,615 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:33:04,646 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:33:04,678 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:33:04,708 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:33:04,741 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:33:04,772 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:33:04,803 - controller   -get_exchange_rate   - WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-13 16:33:04,833 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Missing required fields'}
2025-04-13 16:33:04,864 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:33:04,895 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-13 16:33:26,604 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:33:26,619 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:33:26,650 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:33:26,681 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=USD
2025-04-13 16:33:26,711 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': ['USD']}
2025-04-13 16:33:26,741 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:33:26,772 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:33:26,802 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': ['USD']}, response=None)
2025-04-13 16:33:26,833 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 16:33:26,865 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-13 16:33:26,911 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-13 16:33:26,942 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-13 16:33:26,974 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-13 16:33:27,004 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:33:27,127 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:33:27,175 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:33:27,206 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:33:27,237 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:33:27,268 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:34:57,650 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:34:58,970 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:34:58,970 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:34:58,970 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:34:58,972 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:34:58,972 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:34:58,972 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:34:58,973 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:35:03,621 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:35:03,651 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:35:03,682 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:35:03,714 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:35:03,744 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:03,776 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:35:03,806 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:35:03,838 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:35:03,868 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:35:03,900 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:35:03,930 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:35:03,960 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:35:03,991 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:04,023 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:35:04,117 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:35:04,163 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> ALL успешно получен
2025-04-13 16:35:04,194 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:35:04,319 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:35:04,364 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:35:04,488 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:35:06,516 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:35:06,546 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:35:06,577 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:35:06,608 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:35:06,639 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:06,670 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:35:06,702 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:35:06,733 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:35:06,764 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:35:06,795 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:35:06,825 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:35:06,856 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:35:06,886 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:06,917 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:35:07,010 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:35:07,070 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> ALL успешно получен
2025-04-13 16:35:07,101 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:35:07,210 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:35:07,256 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:35:07,363 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:35:08,087 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:35:08,118 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:35:08,149 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:35:08,180 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:35:08,210 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:08,242 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:35:08,272 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:35:08,303 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:35:08,333 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:35:08,364 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:35:08,395 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:35:08,426 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:35:08,457 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:08,488 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:35:08,581 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:35:08,627 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> ALL успешно получен
2025-04-13 16:35:08,657 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:35:08,780 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:35:08,826 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:35:08,935 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:35:14,327 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:35:14,357 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:35:14,387 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:35:14,417 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:35:14,447 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:14,478 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:35:14,510 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:35:14,540 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:35:14,570 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:35:14,601 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:35:14,633 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:35:14,663 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:35:14,693 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:14,725 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:35:14,816 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:35:14,862 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> ALL успешно получен
2025-04-13 16:35:14,893 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:35:15,016 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:35:15,063 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:35:15,155 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:35:15,895 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:35:15,925 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:35:15,956 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:35:15,987 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:35:16,018 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:16,048 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:35:16,079 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:35:16,110 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:35:16,141 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:35:16,171 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:35:16,202 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:35:16,232 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:35:16,263 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:35:16,294 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:35:16,386 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:35:16,432 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> ALL успешно получен
2025-04-13 16:35:16,463 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:35:16,572 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:35:16,618 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:35:16,741 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:35:18,663 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:37:18,581 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:37:18,581 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:37:18,581 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:37:18,582 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:37:18,582 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:37:18,583 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:37:18,583 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:37:22,966 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:37:22,996 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:37:23,026 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:37:23,057 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:37:23,089 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:23,119 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:37:23,151 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:37:23,182 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:37:23,212 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:37:23,244 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:37:23,276 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:37:23,306 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:37:23,338 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:23,369 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:37:23,460 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:37:23,506 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: None
2025-04-13 16:37:24,775 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:37:24,806 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:37:24,837 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:37:24,867 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:37:24,898 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:24,929 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:37:24,959 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:37:24,990 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:37:25,021 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:37:25,052 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:37:25,083 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:37:25,113 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:37:25,144 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:25,175 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:37:25,266 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:37:25,311 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: None
2025-04-13 16:37:26,718 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:37:26,749 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:37:26,780 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:37:26,810 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:37:26,841 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:26,873 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:37:26,903 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:37:26,933 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:37:26,963 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:37:26,993 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:37:27,024 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:37:27,055 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:37:27,087 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:27,116 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:37:27,208 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:37:27,256 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: None
2025-04-13 16:37:27,981 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:37:28,011 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:37:28,042 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:37:28,073 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 16:37:28,104 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:28,136 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:37:28,167 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:37:28,197 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 16:37:28,229 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:37:28,259 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:37:28,291 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:37:28,322 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:37:28,353 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 16:37:28,385 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 16:37:28,461 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 16:37:28,495 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:37:28,496 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: None
2025-04-13 16:38:44,206 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:38:44,206 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:38:44,206 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:38:44,207 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:38:44,207 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:38:44,208 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:38:44,208 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:38:48,075 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:38:48,089 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:38:48,120 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:38:48,151 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 16:38:48,182 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:38:48,214 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:38:48,244 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:38:48,275 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['RUB']}, response=None)
2025-04-13 16:38:48,307 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:38:48,338 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:38:48,369 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:38:48,400 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:38:48,431 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:38:48,461 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 16:38:48,583 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 0.01
2025-04-13 16:38:48,630 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01}
2025-04-13 16:38:49,884 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:38:49,914 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:38:49,946 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:38:49,976 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 16:38:50,007 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:38:50,038 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:38:50,068 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:38:50,098 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['RUB']}, response=None)
2025-04-13 16:38:50,128 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:38:50,160 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:38:50,190 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:38:50,221 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:38:50,253 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:38:50,283 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 16:38:50,392 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 0.01
2025-04-13 16:38:50,437 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01}
2025-04-13 16:38:51,843 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:38:51,873 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:38:51,903 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:38:51,934 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 16:38:51,964 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:38:51,995 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:38:52,026 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:38:52,057 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['RUB']}, response=None)
2025-04-13 16:38:52,088 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:38:52,119 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:38:52,150 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:38:52,181 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:38:52,212 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:38:52,243 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 16:38:52,368 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 0.01
2025-04-13 16:38:52,414 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01}
2025-04-13 16:38:52,450 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:39:50,312 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:39:50,313 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:39:50,313 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:39:50,313 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:39:50,314 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:39:50,314 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:39:50,314 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:39:54,744 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:39:54,774 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:39:54,806 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:39:54,838 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 16:39:54,868 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:39:54,900 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:39:54,931 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:39:54,961 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['RUB']}, response=None)
2025-04-13 16:39:54,993 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:39:55,024 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:39:55,056 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:39:55,086 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:39:55,117 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:39:55,149 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 16:39:55,257 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 0.01
2025-04-13 16:39:55,303 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01}
2025-04-13 16:39:55,334 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> RUB успешно получен
2025-04-13 16:39:55,364 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:39:55,517 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:39:55,563 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:39:55,703 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:39:55,749 - router       -handle_request      - DEBUG    - Ответ DTO: ({'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate: ', 0.01)
2025-04-13 16:39:55,780 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:39:55,811 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate: ', 0.01)
2025-04-13 16:40:27,062 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:40:28,167 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:40:28,167 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:40:28,167 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:40:28,168 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:40:28,168 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:40:28,169 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:40:28,169 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:40:32,399 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:40:32,415 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:40:32,446 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:40:32,477 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 16:40:32,508 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:40:32,539 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:40:32,569 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:40:32,601 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['RUB']}, response=None)
2025-04-13 16:40:32,630 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:40:32,662 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:40:32,693 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:40:32,723 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:40:32,754 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:40:32,785 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 16:40:32,910 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 0.01
2025-04-13 16:40:32,957 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01}
2025-04-13 16:40:32,987 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> RUB успешно получен
2025-04-13 16:40:33,034 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:40:33,158 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:40:33,205 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:40:33,296 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:40:33,343 - router       -handle_request      - DEBUG    - Ответ DTO: ({'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate', 0.01)
2025-04-13 16:40:33,374 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:40:33,405 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate', 0.01)
2025-04-13 16:41:02,339 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:41:03,443 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:41:03,444 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:41:03,444 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:41:03,445 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:41:03,445 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:41:03,445 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:41:03,445 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:41:07,539 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:41:07,570 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:41:07,600 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:41:07,631 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 16:41:07,661 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:41:07,693 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:41:07,723 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:41:07,755 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['RUB']}, response=None)
2025-04-13 16:41:07,787 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:41:07,817 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:41:07,848 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:41:07,880 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:41:07,910 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:41:07,942 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 16:41:08,067 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 0.01
2025-04-13 16:41:08,127 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01}
2025-04-13 16:41:08,158 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> RUB успешно получен
2025-04-13 16:41:08,189 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:41:08,327 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:41:08,373 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:41:08,496 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:41:08,541 - router       -handle_request      - DEBUG    - Ответ DTO: ({'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'rate': 0.01})
2025-04-13 16:41:08,573 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:41:08,603 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'rate': 0.01})
2025-04-13 16:45:29,750 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:48:21,355 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:48:21,355 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:48:21,355 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:48:21,356 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:48:21,356 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:48:21,357 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:48:21,357 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:48:28,497 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:48:28,527 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:48:28,575 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:48:28,621 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 16:48:28,653 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:48:28,683 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:48:28,715 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:48:28,745 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['RUB']}, response=None)
2025-04-13 16:48:28,776 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:48:28,808 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:48:28,838 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:48:28,869 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:48:28,901 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['RUB']}
2025-04-13 16:48:28,931 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 16:48:29,057 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-13 16:48:29,103 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01, 'id': 1}
2025-04-13 16:48:29,133 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> RUB успешно получен result = {'from': 'USD', 'to': 'RUB', 'rate': 0.01, 'id': 1}
2025-04-13 16:48:29,164 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:48:29,272 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:48:29,319 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:48:29,411 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:48:29,457 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}
2025-04-13 16:48:29,489 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:48:29,519 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}
2025-04-13 16:48:57,193 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:48:57,223 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:48:57,253 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:48:57,284 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-13 16:48:57,315 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 16:48:57,346 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:48:57,378 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:48:57,409 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:48:57,440 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 16:48:57,471 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 16:48:57,503 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-13 16:48:57,534 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-13 16:48:57,565 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-13 16:48:57,783 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽')]
2025-04-13 16:48:57,829 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:48:57,861 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:48:57,891 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:48:57,923 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:49:03,259 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:49:03,290 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:49:03,321 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:49:03,351 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=USD
2025-04-13 16:49:03,382 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': ['USD']}
2025-04-13 16:49:03,412 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:49:03,442 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:49:03,473 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': ['USD']}, response=None)
2025-04-13 16:49:03,504 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 16:49:03,535 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-13 16:49:03,566 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-13 16:49:03,597 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-13 16:49:03,628 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-13 16:49:03,658 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:49:03,782 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:49:03,829 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:49:03,859 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:49:03,891 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:49:03,923 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 16:49:10,372 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:49:10,404 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:49:10,435 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:49:10,465 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 16:49:10,495 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:49:10,526 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:49:10,557 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:49:10,588 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:49:10,619 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 16:49:10,650 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 16:49:10,680 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 16:49:10,712 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:49:10,743 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:49:10,883 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33)]
2025-04-13 16:49:10,915 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:49:11,023 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:49:11,070 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:49:11,179 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:49:11,226 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:49:11,333 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:49:11,379 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:49:11,517 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:49:11,562 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:49:11,701 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:49:11,747 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:49:11,854 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:49:11,901 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:49:12,022 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:49:12,068 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:49:12,192 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:49:12,254 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:49:12,423 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:49:12,469 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:49:12,637 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:49:12,684 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:49:12,808 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:49:12,853 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:49:13,022 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:49:13,084 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 16:49:13,116 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 16:49:13,146 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:49:13,177 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}]
2025-04-13 16:49:48,465 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:49:48,497 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:49:48,529 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:49:48,559 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-13 16:49:48,591 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:49:48,622 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:49:48,652 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'RUB', 'to': 'USD', 'rate': '111'}
2025-04-13 16:49:48,684 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '24', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'RUB', 'to': 'USD', 'rate': '111'}, query_params={}, response=None)
2025-04-13 16:49:48,715 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 16:49:48,747 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 16:49:48,777 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-13 16:49:48,808 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-13 16:49:48,840 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'RUB', 'to': 'USD', 'rate': '111'}
2025-04-13 16:49:48,870 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: RUB -> USD = 111.0
2025-04-13 16:49:49,010 - model        -add_exchange_rate   - DEBUG    - Курс обмена RUB -> USD успешно добавлен
2025-04-13 16:49:49,071 - controller   -add_exchange_rate   - INFO     - Курс обмена RUB -> USD успешно добавлен
2025-04-13 16:49:49,101 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:49:49,225 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:49:49,271 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:49:49,425 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:49:49,486 - router       -handle_request      - DEBUG    - Ответ DTO: ({'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate = ', '111')
2025-04-13 16:49:49,517 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: ({'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate = ', '111')
2025-04-13 16:53:00,118 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:53:01,312 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:53:01,313 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:53:01,313 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:53:01,314 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:53:01,314 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:53:01,315 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:53:01,315 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:53:10,411 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:53:10,441 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:53:10,473 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:53:10,503 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-13 16:53:10,534 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:53:10,565 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:53:10,595 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'RUB', 'to': 'USD', 'rate': '111'}
2025-04-13 16:53:10,626 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '24', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'RUB', 'to': 'USD', 'rate': '111'}, query_params={}, response=None)
2025-04-13 16:53:10,657 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 16:53:10,688 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 16:53:10,720 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-13 16:53:10,750 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-13 16:53:10,780 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'RUB', 'to': 'USD', 'rate': '111'}
2025-04-13 16:53:10,810 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: RUB -> USD = 111.0
2025-04-13 16:53:10,887 - model        -add_exchange_rate   - WARNING  - Курс обмена RUB -> USD уже существует
2025-04-13 16:53:10,933 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-13 16:53:10,965 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-13 16:53:10,995 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-13 16:53:23,964 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:53:23,995 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:53:24,026 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:53:24,057 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 16:53:24,088 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:53:24,119 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:53:24,150 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:53:24,181 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:53:24,212 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 16:53:24,243 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 16:53:24,274 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 16:53:24,304 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:53:24,335 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:53:24,613 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0)]
2025-04-13 16:53:24,643 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:53:24,752 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:53:24,799 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:53:24,952 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:53:24,999 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:53:25,092 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:53:25,155 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:53:25,326 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:53:25,373 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:53:25,512 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:53:25,559 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:53:25,682 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:53:25,729 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:53:25,837 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:53:25,884 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:53:26,008 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:53:26,054 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:53:26,179 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:53:26,225 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:53:26,365 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:53:26,412 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:53:26,521 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:53:26,566 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:53:26,704 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:53:26,750 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:53:26,890 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:53:26,936 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:53:27,058 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:53:27,119 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}]
2025-04-13 16:53:27,150 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}]
2025-04-13 16:53:27,181 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:53:27,212 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}]
2025-04-13 16:53:35,801 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:53:35,832 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:53:35,862 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:53:35,893 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-13 16:53:35,924 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 16:53:35,954 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:53:35,985 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:53:36,017 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:53:36,048 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 16:53:36,078 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 16:53:36,109 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-13 16:53:36,140 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-13 16:53:36,171 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-13 16:53:36,405 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽')]
2025-04-13 16:53:36,452 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:53:36,483 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:53:36,514 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:53:36,545 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}]
2025-04-13 16:53:48,267 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:53:48,298 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:53:48,330 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:53:48,360 - router       -handle_request      - INFO     - Обработка запроса: POST /currencies
2025-04-13 16:53:48,392 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 16:53:48,424 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:53:48,454 - router       -_parse_body         - DEBUG    - Тело запроса: {'code': 'ETB', 'name': 'e'}
2025-04-13 16:53:48,484 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '15', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'code': 'ETB', 'name': 'e'}, query_params={}, response=None)
2025-04-13 16:53:48,515 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-13 16:53:48,545 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /currencies: add_currency
2025-04-13 16:53:48,577 - router       -resolve             - INFO     - Маршрут найден: POST /currencies
2025-04-13 16:53:48,608 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-13 16:53:48,640 - controller   -add_currency        - DEBUG    - Данные запроса: {'code': 'ETB', 'name': 'e'}
2025-04-13 16:53:48,670 - model        -add_currency        - INFO     - Добавление валюты: ETB, Эфиопский быр, Br
2025-04-13 16:53:48,841 - model        -add_currency        - DEBUG    - Валюта ETB успешно добавлена в базу данных
2025-04-13 16:53:48,886 - controller   -add_currency        - INFO     - Валюта ETB успешно добавлена
2025-04-13 16:53:48,918 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:53:49,025 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:53:49,073 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}
2025-04-13 16:53:49,103 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}
2025-04-13 16:54:05,193 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:54:05,224 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:54:05,254 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:54:05,284 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-13 16:54:05,315 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:54:05,346 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:54:05,376 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'EUR', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:54:05,407 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'EUR', 'to': 'ETB', 'rate': '12'}, query_params={}, response=None)
2025-04-13 16:54:05,438 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 16:54:05,469 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 16:54:05,500 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-13 16:54:05,531 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-13 16:54:05,561 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:54:05,592 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: EUR -> ETB = 12.0
2025-04-13 16:54:05,748 - model        -add_exchange_rate   - DEBUG    - Курс обмена EUR -> ETB успешно добавлен
2025-04-13 16:54:05,795 - controller   -add_exchange_rate   - INFO     - Курс обмена EUR -> ETB успешно добавлен
2025-04-13 16:54:16,324 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:54:16,355 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:54:16,386 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:54:16,417 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 16:54:16,448 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:54:16,479 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:54:16,509 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:54:16,539 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:54:16,569 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 16:54:16,600 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 16:54:16,631 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 16:54:16,661 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:54:16,693 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:54:16,831 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0)]
2025-04-13 16:54:16,862 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:54:16,985 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:54:17,031 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:54:17,124 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:54:17,171 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:54:17,294 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:54:17,341 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:54:17,433 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:54:17,479 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:54:17,619 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:54:17,666 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:54:17,774 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:54:17,821 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:54:17,945 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:54:17,991 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:54:18,129 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:54:18,175 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:54:18,282 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:54:18,329 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:54:18,437 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:54:18,483 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:54:18,593 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:54:18,640 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:54:18,779 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:54:18,825 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:54:18,951 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:54:18,997 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:54:19,121 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:54:19,167 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:54:19,308 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:54:19,355 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:54:19,478 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:54:19,541 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 16:54:19,571 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 16:54:19,603 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:54:19,635 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 16:55:02,011 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:55:03,121 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:55:03,122 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:55:03,122 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:55:03,122 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:55:03,123 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:55:03,123 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:55:03,123 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:55:11,782 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:55:11,812 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:55:11,843 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:55:11,874 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-13 16:55:11,905 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:55:11,935 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:55:11,966 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:55:11,997 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ETB', 'rate': '12'}, query_params={}, response=None)
2025-04-13 16:55:12,028 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 16:55:12,059 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 16:55:12,090 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-13 16:55:12,120 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-13 16:55:12,151 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:55:12,182 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ETB = 12.0
2025-04-13 16:55:12,303 - model        -add_exchange_rate   - DEBUG    - Курс обмена USD -> ETB успешно добавлен
2025-04-13 16:55:12,350 - controller   -add_exchange_rate   - INFO     - Курс обмена USD -> ETB успешно добавлен
2025-04-13 16:55:24,923 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:55:50,623 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:55:50,623 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:55:50,623 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:55:50,625 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:55:50,625 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:55:50,625 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:55:50,625 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:56:05,463 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:56:05,493 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:56:05,523 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:56:05,554 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-13 16:56:05,586 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:56:05,616 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:56:05,647 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'ALL', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:56:05,677 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'ALL', 'to': 'ETB', 'rate': '12'}, query_params={}, response=None)
2025-04-13 16:56:05,709 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 16:56:05,739 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 16:56:05,770 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-13 16:56:05,800 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-13 16:56:05,831 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'ALL', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:56:05,877 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: ALL -> ETB = 12.0
2025-04-13 16:56:06,031 - model        -add_exchange_rate   - DEBUG    - Курс обмена ALL -> ETB успешно добавлен
2025-04-13 16:56:06,078 - controller   -add_exchange_rate   - INFO     - Курс обмена ALL -> ETB успешно добавлен
2025-04-13 16:56:06,108 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:56:06,140 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {}
2025-04-13 16:57:17,647 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:57:18,739 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:57:18,740 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:57:18,740 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:57:18,741 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:57:18,741 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:57:18,742 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:57:18,742 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:57:24,142 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:57:24,171 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:57:24,202 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:57:24,233 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-13 16:57:24,264 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:57:24,295 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:57:24,325 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'ALL', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:57:24,357 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'ALL', 'to': 'ETB', 'rate': '12'}, query_params={}, response=None)
2025-04-13 16:57:24,388 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 16:57:24,418 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 16:57:24,449 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-13 16:57:24,480 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-13 16:57:24,510 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'ALL', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:57:24,542 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: ALL -> ETB = 12.0
2025-04-13 16:57:24,618 - model        -add_exchange_rate   - WARNING  - Курс обмена ALL -> ETB уже существует
2025-04-13 16:57:24,664 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-13 16:57:24,696 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-13 16:57:24,726 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-13 16:57:36,858 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-13 16:57:36,889 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:57:36,920 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:57:36,951 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-13 16:57:36,981 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:57:37,012 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:57:37,043 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'RUB', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:57:37,074 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'RUB', 'to': 'ETB', 'rate': '12'}, query_params={}, response=None)
2025-04-13 16:57:37,105 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-13 16:57:37,135 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-13 16:57:37,165 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-13 16:57:37,196 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-13 16:57:37,226 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'RUB', 'to': 'ETB', 'rate': '12'}
2025-04-13 16:57:37,257 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: RUB -> ETB = 12.0
2025-04-13 16:57:37,397 - model        -add_exchange_rate   - DEBUG    - Курс обмена RUB -> ETB успешно добавлен
2025-04-13 16:57:37,443 - controller   -add_exchange_rate   - INFO     - Курс обмена RUB -> ETB успешно добавлен
2025-04-13 16:57:37,473 - model        -get_exchange_rate   - INFO     - Получение курса обмена: RUB -> ETB
2025-04-13 16:57:37,597 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 11
2025-04-13 16:57:37,643 - controller   -add_exchange_rate   - DEBUG    - Курс обмена RUB -> ETB: {'from': 'RUB', 'to': 'ETB', 'rate': 12.0, 'id': 11}
2025-04-13 16:57:37,674 - controller   -add_exchange_rate   - INFO     - Курс обмена RUB -> ETB успешно получен result = {'from': 'RUB', 'to': 'ETB', 'rate': 12.0, 'id': 11}
2025-04-13 16:57:37,706 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:57:37,830 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:57:37,877 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:57:38,001 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:57:38,047 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 11, 'baseCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'targetCurrency': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}
2025-04-13 16:57:38,078 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 11, 'baseCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'targetCurrency': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}
2025-04-13 16:57:55,326 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:57:55,357 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:57:55,387 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:57:55,418 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:57:55,449 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:57:55,480 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:57:55,511 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:57:55,542 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:57:55,573 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:57:55,604 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:57:55,635 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:57:55,665 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:57:55,696 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:57:55,726 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:57:55,819 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:57:55,866 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:57:55,897 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:57:57,870 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:57:57,902 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:57:57,934 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:57:57,964 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:57:57,995 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:57:58,027 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:57:58,057 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:57:58,087 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:57:58,118 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:57:58,149 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:57:58,179 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:57:58,211 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:57:58,241 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:57:58,273 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:57:58,350 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:57:58,411 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:57:58,441 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:57:59,151 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:57:59,182 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:57:59,213 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:57:59,244 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:57:59,274 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:57:59,305 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:57:59,336 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:57:59,367 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:57:59,398 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:57:59,429 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:57:59,459 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:57:59,490 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:57:59,521 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:57:59,551 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:57:59,691 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:57:59,738 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:57:59,768 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:58:03,631 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:58:03,661 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:58:03,692 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:58:03,724 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:58:03,754 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:03,784 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:58:03,815 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:58:03,846 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:58:03,876 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:58:03,907 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:58:03,937 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:58:03,969 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:58:03,999 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:04,029 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:58:04,138 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:58:04,184 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:58:04,216 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:58:04,927 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:58:04,959 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:58:04,990 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:58:05,022 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:58:05,052 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:05,084 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:58:05,115 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:58:05,145 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:58:05,177 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:58:05,209 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:58:05,239 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:58:05,271 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:58:05,301 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:05,333 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:58:05,427 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:58:05,472 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:58:05,502 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:58:06,910 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:58:06,941 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:58:06,971 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:58:07,002 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:58:07,033 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:07,064 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:58:07,095 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:58:07,126 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:58:07,157 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:58:07,187 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:58:07,219 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:58:07,250 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:58:07,281 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:07,312 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:58:07,451 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:58:07,499 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:58:07,530 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:58:08,243 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:58:08,274 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:58:08,305 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:58:08,336 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:58:08,366 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:08,398 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:58:08,429 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:58:08,460 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:58:08,491 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:58:08,522 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:58:08,553 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:58:08,584 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:58:08,616 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:58:08,646 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:58:08,739 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:58:08,786 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:58:08,818 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:58:08,854 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 16:58:55,449 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 16:58:55,449 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 16:58:55,449 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 16:58:55,450 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 16:58:55,450 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 16:58:55,451 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 16:58:55,451 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 16:58:56,001 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:58:56,032 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:58:56,062 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:58:56,094 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ALL&to=RUB
2025-04-13 16:58:56,124 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ALL'], 'to': ['RUB']}
2025-04-13 16:58:56,156 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:58:56,186 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:58:56,218 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ALL'], 'to': ['RUB']}, response=None)
2025-04-13 16:58:56,249 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:58:56,280 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:58:56,310 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:58:56,341 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:58:56,372 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ALL'], 'to': ['RUB']}
2025-04-13 16:58:56,402 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ALL -> RUB
2025-04-13 16:58:56,540 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 5
2025-04-13 16:58:56,586 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ALL -> RUB: {'from': 'ALL', 'to': 'RUB', 'rate': 44.0, 'id': 5}
2025-04-13 16:58:56,618 - controller   -get_exchange_rate   - INFO     - Курс обмена ALL -> RUB успешно получен result = {'from': 'ALL', 'to': 'RUB', 'rate': 44.0, 'id': 5}
2025-04-13 16:58:56,650 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:58:56,773 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:58:56,820 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:58:56,943 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:58:56,989 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 5, 'baseCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}
2025-04-13 16:58:57,021 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:58:57,053 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 5, 'baseCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}
2025-04-13 16:58:59,488 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:58:59,519 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:58:59,551 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:58:59,581 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ALL&to=RUB
2025-04-13 16:58:59,613 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ALL'], 'to': ['RUB']}
2025-04-13 16:58:59,629 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:58:59,659 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:58:59,691 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ALL'], 'to': ['RUB']}, response=None)
2025-04-13 16:58:59,722 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:58:59,753 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:58:59,784 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:58:59,816 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:58:59,846 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ALL'], 'to': ['RUB']}
2025-04-13 16:58:59,876 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ALL -> RUB
2025-04-13 16:59:00,017 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 5
2025-04-13 16:59:00,079 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ALL -> RUB: {'from': 'ALL', 'to': 'RUB', 'rate': 44.0, 'id': 5}
2025-04-13 16:59:00,109 - controller   -get_exchange_rate   - INFO     - Курс обмена ALL -> RUB успешно получен result = {'from': 'ALL', 'to': 'RUB', 'rate': 44.0, 'id': 5}
2025-04-13 16:59:00,124 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:59:00,277 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:59:00,323 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:00,476 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:00,524 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 5, 'baseCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}
2025-04-13 16:59:00,555 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:59:00,586 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 5, 'baseCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}
2025-04-13 16:59:06,062 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:59:06,092 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:59:06,123 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:59:06,153 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 16:59:06,184 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 16:59:06,215 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:59:06,246 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:59:06,277 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 16:59:06,308 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 16:59:06,340 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 16:59:06,371 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 16:59:06,401 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:59:06,431 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 16:59:06,849 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 16:59:06,880 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:59:06,927 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:59:06,958 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:07,066 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:07,112 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:59:07,252 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:59:07,298 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:59:07,422 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:59:07,484 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:59:07,624 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:59:07,671 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:59:07,796 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:59:07,842 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:59:07,934 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:59:07,979 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:08,103 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:08,151 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:59:08,290 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:59:08,337 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:08,461 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:08,507 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:08,631 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:08,678 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:59:08,802 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:59:08,848 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:08,985 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:09,032 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:59:09,187 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:59:09,234 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 16:59:09,373 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 16:59:09,420 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:59:09,527 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:59:09,573 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:59:09,683 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:59:09,729 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:59:09,852 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:59:09,898 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:59:10,038 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:59:10,084 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:59:10,192 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:59:10,240 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:10,348 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:10,394 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:59:10,500 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:59:10,564 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 16:59:10,594 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 16:59:10,625 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:59:10,657 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 16:59:19,540 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:59:19,570 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:59:19,601 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:59:19,631 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=RUB&to=ALL
2025-04-13 16:59:19,662 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['RUB'], 'to': ['ALL']}
2025-04-13 16:59:19,692 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:59:19,723 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:59:19,754 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['RUB'], 'to': ['ALL']}, response=None)
2025-04-13 16:59:19,784 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:59:19,815 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:59:19,846 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:59:19,876 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:59:19,907 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['RUB'], 'to': ['ALL']}
2025-04-13 16:59:19,938 - model        -get_exchange_rate   - INFO     - Получение курса обмена: RUB -> ALL
2025-04-13 16:59:20,107 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 6
2025-04-13 16:59:20,154 - controller   -get_exchange_rate   - DEBUG    - Курс обмена RUB -> ALL: {'from': 'RUB', 'to': 'ALL', 'rate': 0.33, 'id': 6}
2025-04-13 16:59:20,184 - controller   -get_exchange_rate   - INFO     - Курс обмена RUB -> ALL успешно получен result = {'from': 'RUB', 'to': 'ALL', 'rate': 0.33, 'id': 6}
2025-04-13 16:59:20,214 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:20,337 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:20,383 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 16:59:20,506 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 16:59:20,553 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 6, 'baseCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'targetCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}
2025-04-13 16:59:20,599 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:59:20,629 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 6, 'baseCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'targetCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}
2025-04-13 16:59:33,715 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:59:33,746 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:59:33,776 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:59:33,808 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=RUB&to=ETB
2025-04-13 16:59:33,839 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['RUB'], 'to': ['ETB']}
2025-04-13 16:59:33,871 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:59:33,901 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:59:33,932 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['RUB'], 'to': ['ETB']}, response=None)
2025-04-13 16:59:33,962 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:59:33,992 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:59:34,024 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:59:34,056 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:59:34,087 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['RUB'], 'to': ['ETB']}
2025-04-13 16:59:34,118 - model        -get_exchange_rate   - INFO     - Получение курса обмена: RUB -> ETB
2025-04-13 16:59:34,241 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 11
2025-04-13 16:59:34,287 - controller   -get_exchange_rate   - DEBUG    - Курс обмена RUB -> ETB: {'from': 'RUB', 'to': 'ETB', 'rate': 12.0, 'id': 11}
2025-04-13 16:59:34,318 - controller   -get_exchange_rate   - INFO     - Курс обмена RUB -> ETB успешно получен result = {'from': 'RUB', 'to': 'ETB', 'rate': 12.0, 'id': 11}
2025-04-13 16:59:34,348 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 16:59:34,456 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 16:59:34,501 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:59:34,595 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:59:34,642 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 11, 'baseCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'targetCurrency': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}
2025-04-13 16:59:34,672 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:59:34,703 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 11, 'baseCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'targetCurrency': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}
2025-04-13 16:59:42,960 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:59:42,990 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:59:43,021 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:59:43,052 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ETB
2025-04-13 16:59:43,082 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ETB']}
2025-04-13 16:59:43,113 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:59:43,145 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:59:43,176 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ETB']}, response=None)
2025-04-13 16:59:43,207 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:59:43,238 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:59:43,269 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:59:43,300 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:59:43,332 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ETB']}
2025-04-13 16:59:43,363 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ETB
2025-04-13 16:59:43,454 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 9
2025-04-13 16:59:43,500 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ETB: {'from': 'USD', 'to': 'ETB', 'rate': 12.0, 'id': 9}
2025-04-13 16:59:43,532 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> ETB успешно получен result = {'from': 'USD', 'to': 'ETB', 'rate': 12.0, 'id': 9}
2025-04-13 16:59:43,564 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 16:59:43,685 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 16:59:43,732 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 16:59:43,840 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 16:59:43,886 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 9, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}
2025-04-13 16:59:43,916 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 16:59:43,947 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 9, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}
2025-04-13 16:59:53,466 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:59:53,497 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:59:53,527 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:59:53,559 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:59:53,589 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:59:53,620 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:59:53,651 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:59:53,681 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:59:53,712 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:59:53,743 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:59:53,774 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:59:53,805 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:59:53,836 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:59:53,867 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:59:53,961 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:59:54,007 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:59:54,038 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:59:55,305 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:59:55,336 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:59:55,383 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:59:55,414 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:59:55,446 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:59:55,477 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:59:55,508 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:59:55,539 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:59:55,570 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:59:55,601 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:59:55,632 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:59:55,664 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:59:55,694 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:59:55,725 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:59:55,817 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:59:55,864 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:59:55,894 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 16:59:57,315 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 16:59:57,344 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 16:59:57,375 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 16:59:57,405 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 16:59:57,436 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:59:57,466 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 16:59:57,497 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 16:59:57,528 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 16:59:57,559 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 16:59:57,590 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 16:59:57,620 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 16:59:57,651 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 16:59:57,681 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 16:59:57,712 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 16:59:57,804 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 16:59:57,849 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 16:59:57,881 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:00:01,805 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 17:03:19,101 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 17:03:19,102 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 17:03:19,102 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 17:03:19,102 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 17:03:19,103 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 17:03:19,103 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 17:03:19,103 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 17:03:19,777 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:03:19,807 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:03:19,837 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:03:19,869 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:03:19,901 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:19,931 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:03:19,962 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:03:19,994 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:03:20,024 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:03:20,056 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:03:20,088 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:03:20,118 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:03:20,148 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:20,179 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:03:20,301 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:03:20,361 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:03:20,392 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:03:23,588 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:03:23,618 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:03:23,649 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:03:23,680 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:03:23,711 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:23,743 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:03:23,773 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:03:23,805 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:03:23,835 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:03:23,866 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:03:23,897 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:03:23,928 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:03:23,958 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:23,990 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:03:24,066 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:03:24,113 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:03:24,144 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:03:24,855 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:03:24,886 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:03:24,917 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:03:24,963 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:03:24,995 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:25,025 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:03:25,057 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:03:25,088 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:03:25,118 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:03:25,150 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:03:25,182 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:03:25,212 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:03:25,244 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:25,274 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:03:25,367 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:03:25,414 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:03:25,444 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:03:26,848 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:03:26,878 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:03:26,909 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:03:26,939 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:03:26,970 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:27,000 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:03:27,031 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:03:27,061 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:03:27,093 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:03:27,123 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:03:27,155 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:03:27,187 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:03:27,217 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:03:27,233 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:03:27,325 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:03:27,371 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:03:27,403 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:03:27,455 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 17:05:09,477 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 17:05:09,477 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 17:05:09,477 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 17:05:09,478 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 17:05:09,478 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 17:05:09,478 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 17:05:09,478 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 17:05:12,874 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:05:12,906 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:05:12,936 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:05:12,966 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:05:12,997 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:05:13,027 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:05:13,057 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:05:13,088 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:05:13,120 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:05:13,150 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:05:13,181 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:05:13,212 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:05:13,243 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:05:13,273 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:05:13,351 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:05:13,398 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:05:13,428 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:05:15,438 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:05:15,468 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:05:15,499 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:05:15,529 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:05:15,561 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:05:15,593 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:05:15,623 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:05:15,655 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:05:15,686 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:05:15,717 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:05:15,748 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:05:15,779 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:05:15,809 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:05:15,839 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:05:15,931 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:05:15,978 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:05:16,010 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:05:16,702 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:05:16,733 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:05:16,763 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:05:16,794 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:05:16,824 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:05:16,855 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:05:16,886 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:05:16,917 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:05:16,948 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:05:16,978 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:05:17,009 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:05:17,024 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:05:17,054 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:05:17,086 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:05:17,161 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:05:17,209 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:05:17,239 - controller   -get_exchange_rate   - INFO     - Курс обмена ETB -> ALL успешно получен result = None
2025-04-13 17:05:19,852 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 17:08:10,431 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 17:08:10,432 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 17:08:10,432 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 17:08:10,433 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 17:08:10,433 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 17:08:10,433 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 17:08:10,434 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 17:08:14,649 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:08:14,679 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:08:14,711 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:08:14,741 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:08:14,773 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:08:14,803 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:08:14,835 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:08:14,867 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:08:14,897 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:08:14,927 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:08:14,958 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:08:14,990 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:08:15,020 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:08:15,050 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:08:15,172 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:08:15,219 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:08:15,251 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-13 17:08:15,282 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:08:15,313 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-13 17:09:31,915 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:09:31,947 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:09:31,979 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:09:32,009 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies
2025-04-13 17:09:32,041 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 17:09:32,072 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:09:32,103 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:09:32,135 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:09:32,166 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 17:09:32,196 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 17:09:32,228 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-13 17:09:32,259 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-13 17:09:32,291 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-13 17:09:32,539 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-13 17:09:32,586 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:09:32,617 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:09:32,648 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:09:32,678 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:14:26,230 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:14:26,261 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:14:26,292 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:14:26,323 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-13 17:14:26,354 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 17:14:26,385 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:14:26,416 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:14:26,448 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:14:26,479 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 17:14:26,510 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 17:14:26,541 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-13 17:14:26,572 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-13 17:14:26,603 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-13 17:14:26,821 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-13 17:14:26,869 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:14:26,899 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:14:26,930 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:14:26,961 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:14:32,734 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:14:32,765 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:14:32,796 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:14:32,827 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=USD
2025-04-13 17:14:32,859 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': ['USD']}
2025-04-13 17:14:32,890 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:14:32,921 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:14:32,952 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': ['USD']}, response=None)
2025-04-13 17:14:32,983 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-13 17:14:33,014 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-13 17:14:33,044 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-13 17:14:33,075 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-13 17:14:33,105 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-13 17:14:33,136 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:14:33,243 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:14:33,290 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 17:14:33,321 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 17:14:33,353 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:14:33,383 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-13 17:14:39,801 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:14:39,832 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:14:39,864 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:14:39,895 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=ETB&to=ALL
2025-04-13 17:14:39,926 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:14:39,941 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:14:39,972 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:14:40,002 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['ETB'], 'to': ['ALL']}, response=None)
2025-04-13 17:14:40,034 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:14:40,066 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:14:40,096 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:14:40,126 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:14:40,157 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['ETB'], 'to': ['ALL']}
2025-04-13 17:14:40,189 - model        -get_exchange_rate   - INFO     - Получение курса обмена: ETB -> ALL
2025-04-13 17:14:40,298 - model        -get_exchange_rate   - WARNING  - Курс обмена ETB -> ALL не найден
2025-04-13 17:14:40,344 - controller   -get_exchange_rate   - DEBUG    - Курс обмена ETB -> ALL: None
2025-04-13 17:14:40,376 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-13 17:14:40,407 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:14:40,438 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-13 17:14:46,981 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:14:47,011 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:14:47,043 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:14:47,075 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 17:14:47,105 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 17:14:47,137 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:14:47,167 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:14:47,198 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 17:14:47,229 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:14:47,259 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:14:47,291 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:14:47,321 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:14:47,353 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 17:14:47,385 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 17:14:47,476 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 17:14:47,521 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: None
2025-04-13 17:14:47,552 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-13 17:14:47,583 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:14:47,613 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-13 17:14:56,401 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:14:56,431 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:14:56,462 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:14:56,494 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 17:14:56,524 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 17:14:56,556 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:14:56,586 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:14:56,617 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 17:14:56,648 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 17:14:56,678 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 17:14:56,678 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 17:14:56,679 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 17:14:56,679 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 17:14:56,679 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-13 17:14:56,770 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-13 17:14:56,816 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 17:14:56,846 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 17:14:56,878 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:14:56,971 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:14:57,017 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:14:57,124 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:14:57,171 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 17:14:57,201 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:14:57,232 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 17:15:03,554 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:15:03,585 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:15:03,615 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:15:03,645 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 17:15:03,675 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 17:15:03,705 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:15:03,736 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:15:03,768 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:15:03,799 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 17:15:03,829 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 17:15:03,859 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 17:15:03,890 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 17:15:03,922 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 17:15:04,077 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 17:15:04,108 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:04,217 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:04,264 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:04,420 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:04,482 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:04,590 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:04,635 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:04,775 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:04,821 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:04,929 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:04,975 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:05,085 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:05,130 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:05,268 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:05,314 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:05,436 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:05,482 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:15:05,574 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:15:05,620 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:05,728 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:05,743 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:05,851 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:05,898 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:15:06,036 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:15:06,081 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:06,235 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:06,296 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:06,404 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:06,450 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:06,605 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:06,652 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:06,761 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:06,807 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:06,914 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:06,960 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:07,084 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:07,130 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:15:07,270 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:15:07,316 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:07,455 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:07,502 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:07,608 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:07,656 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:07,779 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:07,857 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:15:07,889 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:15:07,919 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:15:07,952 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:15:27,806 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:15:27,837 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:15:27,868 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:15:27,899 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates
2025-04-13 17:15:27,930 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 17:15:27,961 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:15:27,991 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:15:28,022 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:15:28,053 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 17:15:28,085 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 17:15:28,116 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 17:15:28,147 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 17:15:28,178 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 17:15:28,442 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 17:15:28,472 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:28,598 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:28,644 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:28,767 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:28,813 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:28,923 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:28,969 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:29,109 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:29,156 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:29,279 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:29,325 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:29,447 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:29,495 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:29,601 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:29,647 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:29,770 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:29,818 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:15:29,940 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:15:29,987 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:30,125 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:30,172 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:30,281 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:30,327 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:15:30,453 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:15:30,500 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:30,624 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:30,671 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:30,779 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:30,825 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:15:30,963 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:15:31,009 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:31,132 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:31,179 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:15:31,302 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:15:31,348 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:31,471 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:31,518 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:15:31,642 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:15:31,688 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:31,812 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:31,859 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:31,967 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:32,013 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:15:32,138 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:15:32,201 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:15:32,232 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:15:32,262 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:15:32,294 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:15:44,196 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:15:44,226 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:15:44,272 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:15:44,304 - router       -handle_request      - INFO     - Обработка запроса: GET /currency/RUB
2025-04-13 17:15:44,334 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-13 17:15:44,365 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:15:44,397 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:15:44,427 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:15:44,459 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-13 17:15:44,489 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency/RUB: None
2025-04-13 17:15:44,521 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /currency/RUB
2025-04-13 17:15:44,551 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:15:44,582 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /currency/RUB
2025-04-13 17:15:44,612 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:15:44,643 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /currency/RUB
2025-04-13 17:15:44,674 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:15:44,706 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /currency/RUB
2025-04-13 17:15:44,736 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:15:44,767 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /currency/RUB
2025-04-13 17:15:44,799 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:15:44,829 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /currency/RUB
2025-04-13 17:15:44,860 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:15:44,891 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-13 17:15:44,922 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-13 17:15:44,952 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-13 17:15:44,983 - router       -resolve             - INFO     - Динамический маршрут найден: GET /currency/RUB
2025-04-13 17:15:45,013 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-13 17:15:45,045 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-13 17:15:45,076 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:15:45,184 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:15:45,230 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 17:15:45,262 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 17:15:45,294 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:15:45,324 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 17:15:53,152 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:15:53,183 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:15:53,213 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:15:53,245 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies
2025-04-13 17:15:53,275 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 17:15:53,307 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:15:53,337 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:15:53,385 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:15:53,416 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 17:15:53,447 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 17:15:53,478 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-13 17:15:53,509 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-13 17:15:53,540 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-13 17:15:53,820 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-13 17:15:53,866 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:15:53,897 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:15:53,927 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:15:53,959 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 17:16:00,282 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:16:00,312 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:16:00,342 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:16:00,373 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates
2025-04-13 17:16:00,405 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 17:16:00,420 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:16:00,451 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:16:00,482 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:16:00,514 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 17:16:00,545 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 17:16:00,575 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 17:16:00,606 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 17:16:00,637 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 17:16:00,762 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 17:16:00,793 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:16:00,918 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:16:00,965 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:16:01,106 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:16:01,151 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:16:01,320 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:16:01,366 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:16:01,522 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:16:01,569 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:16:01,694 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:16:01,740 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:16:01,879 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:16:01,926 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:16:02,051 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:16:02,099 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:16:02,207 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:16:02,254 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:16:02,376 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:16:02,422 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:16:02,515 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:16:02,560 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:16:02,715 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:16:02,760 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:16:02,900 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:16:02,945 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:16:03,082 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:16:03,128 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:16:03,253 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:16:03,300 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 17:16:03,424 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 17:16:03,470 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:16:03,593 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:16:03,638 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 17:16:03,747 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 17:16:03,794 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:16:03,917 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:16:03,964 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 17:16:04,102 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 17:16:04,147 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:16:04,269 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:16:04,317 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:16:04,425 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:16:04,472 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 17:16:04,610 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 17:16:04,673 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:16:04,704 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:16:04,734 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:16:04,765 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 17:16:13,381 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:16:13,412 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:16:13,442 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:16:13,473 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 17:16:13,505 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/EURRUB, параметры: {}
2025-04-13 17:16:13,535 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:16:13,566 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:16:13,597 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:16:13,627 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate/EURRUB
2025-04-13 17:16:13,657 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate/EURRUB: None
2025-04-13 17:16:13,689 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRate/EURRUB
2025-04-13 17:16:13,719 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:16:13,750 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRate/EURRUB
2025-04-13 17:16:13,782 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:16:13,814 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRate/EURRUB
2025-04-13 17:16:13,844 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:16:13,876 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/EURRUB
2025-04-13 17:16:13,907 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:16:13,937 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRate/EURRUB
2025-04-13 17:16:13,968 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:16:14,000 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRate/EURRUB
2025-04-13 17:16:14,030 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:16:14,061 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRate/EURRUB
2025-04-13 17:16:14,092 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRate
2025-04-13 17:16:14,122 - router       -resolve             - WARNING  - Маршрут не найден: GET /exchangeRate/EURRUB
2025-04-13 17:16:14,153 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 17:16:14,184 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:16:14,216 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 17:17:54,365 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 17:17:54,395 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 17:17:54,426 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code')])
2025-04-13 17:17:54,457 - router       -handle_request      - INFO     - Обработка запроса: GET /currency/RUB
2025-04-13 17:17:54,487 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-13 17:17:54,517 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 17:17:54,548 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 17:17:54,580 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 17:17:54,611 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-13 17:17:54,641 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency/RUB: None
2025-04-13 17:17:54,672 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /currency/RUB
2025-04-13 17:17:54,703 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:17:54,734 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /currency/RUB
2025-04-13 17:17:54,765 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:17:54,796 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /currency/RUB
2025-04-13 17:17:54,827 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:17:54,857 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /currency/RUB
2025-04-13 17:17:54,889 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:17:54,920 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /currency/RUB
2025-04-13 17:17:54,951 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:17:54,982 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /currency/RUB
2025-04-13 17:17:55,012 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 17:17:55,044 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-13 17:17:55,074 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-13 17:17:55,106 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-13 17:17:55,138 - router       -resolve             - INFO     - Динамический маршрут найден: GET /currency/RUB
2025-04-13 17:17:55,168 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-13 17:17:55,199 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-13 17:17:55,231 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 17:17:55,354 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 17:17:55,415 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 17:17:55,447 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 17:17:55,477 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 17:17:55,510 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-13 17:34:50,254 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 19:41:50,293 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 19:41:50,294 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 19:41:50,294 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 19:41:50,294 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 19:41:50,295 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 19:41:50,295 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 19:41:50,295 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 19:41:54,834 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:41:54,865 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:41:56,719 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:41:56,749 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:41:57,399 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:41:57,429 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:42:02,797 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:42:02,827 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:42:04,184 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:42:04,214 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:42:04,865 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:42:04,895 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:42:06,210 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 19:44:11,660 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 19:44:11,660 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 19:44:11,660 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 19:44:11,661 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 19:44:11,661 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 19:44:11,662 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 19:44:11,662 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 19:44:16,148 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:44:16,178 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:44:17,331 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:44:17,362 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:44:18,739 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:44:18,769 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:44:19,417 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:44:19,446 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:44:20,559 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 19:48:12,802 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 19:48:12,802 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 19:48:12,802 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 19:48:12,803 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 19:48:12,803 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 19:48:12,804 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 19:48:12,804 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 19:48:14,857 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:48:14,886 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:49:08,481 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 19:49:10,488 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 19:49:10,488 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 19:49:10,488 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 19:49:10,489 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 19:49:10,489 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 19:49:10,490 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 19:49:10,490 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 19:49:14,394 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:49:14,425 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:49:14,455 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:49:14,486 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-13 19:49:14,516 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 19:49:14,546 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:49:14,577 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:49:14,609 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:49:14,639 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 19:49:14,669 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 19:49:14,715 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-13 19:49:14,746 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-13 19:49:14,777 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-13 19:49:14,947 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-13 19:49:14,992 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 19:49:15,023 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 19:49:15,053 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:49:15,084 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 19:49:20,630 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:49:20,662 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:49:20,692 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:49:20,723 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 19:49:20,754 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 19:49:20,785 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:49:20,817 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:49:20,847 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:49:20,878 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 19:49:20,908 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 19:49:20,938 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 19:49:20,968 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:49:21,000 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:49:21,202 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 19:49:21,233 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:21,357 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:21,405 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:21,513 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:21,560 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:21,669 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:21,716 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:21,825 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:21,887 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:22,041 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:22,088 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:22,211 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:22,257 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:22,382 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:22,428 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:22,568 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:22,615 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:49:22,738 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:49:22,784 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:22,891 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:22,936 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:23,045 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:23,093 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:49:23,215 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:49:23,261 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:23,433 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:23,479 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:23,635 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:23,680 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:23,790 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:23,835 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:23,960 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:24,005 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:24,129 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:24,174 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:24,312 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:24,357 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:49:24,482 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:49:24,544 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:24,667 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:24,730 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:24,884 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:24,930 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:25,039 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:25,100 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:49:25,131 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:49:25,162 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:49:25,194 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:49:40,315 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:49:40,346 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:49:40,377 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:49:40,408 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-13 19:49:40,439 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-13 19:49:40,469 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:49:40,499 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:49:40,530 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:49:40,561 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-13 19:49:40,591 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-13 19:49:40,622 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-13 19:49:40,653 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-13 19:49:40,685 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-13 19:49:40,945 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-13 19:49:40,991 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 19:49:41,022 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 19:49:41,053 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:49:41,084 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-13 19:49:47,781 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:49:47,812 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:49:47,843 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:49:47,873 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 19:49:47,905 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 19:49:47,935 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:49:47,965 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:49:47,996 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 19:49:48,026 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 19:49:48,056 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 19:49:48,088 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 19:49:48,120 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 19:49:48,150 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 19:49:48,181 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-13 19:49:48,307 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-13 19:49:48,353 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 19:49:48,384 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 19:49:48,415 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:48,556 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:48,619 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:48,774 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:48,819 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 19:49:48,849 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:49:48,881 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 19:49:54,366 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:49:54,397 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:49:54,428 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:49:54,459 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 19:49:54,475 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 19:49:54,506 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:49:54,536 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:49:54,568 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:49:54,600 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 19:49:54,630 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 19:49:54,662 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 19:49:54,692 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:49:54,723 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:49:54,907 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 19:49:54,937 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:55,076 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:55,124 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:55,246 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:55,294 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:55,432 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:55,479 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:55,618 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:55,663 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:55,799 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:55,845 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:55,985 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:56,031 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:56,124 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:56,169 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:56,276 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:56,324 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:49:56,417 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:49:56,463 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:56,585 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:56,631 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:56,769 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:56,816 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:49:56,925 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:49:56,972 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:57,078 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:57,139 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:57,263 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:57,324 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:49:57,448 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:49:57,493 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:57,649 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:57,694 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:49:57,832 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:49:57,879 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:57,971 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:58,018 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:49:58,125 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:49:58,170 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:58,278 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:58,327 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:49:58,433 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:49:58,478 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:49:58,587 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:49:58,648 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:49:58,679 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:49:58,710 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:49:58,742 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:54:28,755 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:54:28,786 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:54:28,817 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:54:28,848 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 19:54:28,880 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 19:54:28,911 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:54:28,942 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:54:28,973 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:54:29,004 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 19:54:29,035 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 19:54:29,067 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 19:54:29,067 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:54:29,099 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:54:29,392 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 19:54:29,422 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:29,544 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:29,592 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:29,684 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:29,730 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:29,854 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:29,901 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:30,041 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:30,088 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:30,304 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:30,350 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:30,459 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:30,505 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:30,628 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:30,674 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:30,798 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:30,844 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:54:31,012 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:54:31,058 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:31,197 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:31,242 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:31,412 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:31,458 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:54:31,627 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:54:31,673 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:31,796 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:31,841 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:31,980 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:32,026 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:32,148 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:32,196 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:32,319 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:32,364 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:32,533 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:32,596 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:32,735 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:32,782 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:54:32,937 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:54:32,983 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:33,093 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:33,139 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:33,277 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:33,323 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:33,446 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:33,509 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:54:33,539 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:54:33,571 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:54:33,603 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:54:46,937 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:54:46,968 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:54:47,000 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:54:47,031 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates
2025-04-13 19:54:47,062 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 19:54:47,093 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:54:47,124 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:54:47,154 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:54:47,185 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 19:54:47,215 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 19:54:47,246 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 19:54:47,277 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:54:47,323 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:54:47,588 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 19:54:47,619 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:47,757 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:47,804 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:47,944 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:47,992 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:48,099 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:48,161 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:48,253 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:48,300 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:48,424 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:48,469 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:48,610 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:48,656 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:48,781 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:48,827 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:48,952 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:48,998 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:54:49,119 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:54:49,165 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:49,335 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:49,382 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:49,507 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:49,552 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:54:49,707 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:54:49,753 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:49,910 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:49,956 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:50,112 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:50,159 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:54:50,283 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:54:50,330 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:50,468 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:50,515 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:54:50,622 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:54:50,668 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:50,776 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:50,839 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:54:50,980 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:54:51,026 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:51,150 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:51,196 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:54:51,320 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:54:51,367 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:54:51,521 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:54:51,582 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:54:51,612 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:54:51,644 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:54:51,674 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:54:56,592 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:54:56,622 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:54:56,653 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:54:56,684 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 19:54:56,715 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 19:54:56,746 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:54:56,776 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:54:56,807 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:54:56,837 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 19:54:56,867 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 19:54:56,899 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 19:54:56,929 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:56,960 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 19:54:56,990 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:57,021 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 19:54:57,052 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:57,084 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 19:54:57,115 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:57,145 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 19:54:57,176 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:57,207 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 19:54:57,238 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:57,268 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 19:54:57,299 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 19:54:57,330 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:54:57,360 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 19:54:57,391 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:54:57,422 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 19:54:57,453 - controller   -get_rate_by_code_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 19:54:59,428 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:54:59,458 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:54:59,489 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:54:59,520 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 19:54:59,551 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 19:54:59,581 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:54:59,612 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:54:59,643 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:54:59,675 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 19:54:59,706 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 19:54:59,736 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 19:54:59,766 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:59,798 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 19:54:59,828 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:59,860 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 19:54:59,890 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:59,921 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 19:54:59,951 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:54:59,982 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 19:55:00,014 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:00,044 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 19:55:00,074 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:00,105 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 19:55:00,135 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 19:55:00,166 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:55:00,198 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 19:55:00,228 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:55:00,260 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 19:55:00,290 - controller   -get_rate_by_code_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 19:55:00,990 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:55:01,020 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:55:01,052 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:55:01,083 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 19:55:01,114 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 19:55:01,144 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:55:01,175 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:55:01,207 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:55:01,238 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 19:55:01,269 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 19:55:01,300 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 19:55:01,331 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:01,362 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 19:55:01,394 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:01,425 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 19:55:01,456 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:01,487 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 19:55:01,518 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:01,549 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 19:55:01,581 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:01,612 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 19:55:01,643 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:55:01,673 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 19:55:01,704 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 19:55:01,736 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:55:01,766 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 19:55:01,797 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:55:01,828 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 19:55:01,858 - controller   -get_rate_by_code_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 19:55:03,126 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 19:55:07,073 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 19:55:07,074 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 19:55:07,074 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 19:55:07,075 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 19:55:07,075 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 19:55:07,075 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 19:55:07,075 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 19:55:12,821 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:55:12,851 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:55:12,883 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:55:12,913 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 19:55:12,944 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 19:55:12,974 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:55:13,006 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:55:13,022 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 19:55:13,053 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 19:55:13,083 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 19:55:13,113 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 19:55:13,144 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 19:55:13,145 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 19:55:13,174 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-13 19:55:13,267 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-13 19:55:13,313 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 19:55:13,345 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 19:55:13,375 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:55:13,484 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:55:13,530 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:55:13,670 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:55:13,717 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 19:55:13,748 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:55:13,780 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 19:57:33,913 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:57:33,943 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:57:33,974 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:57:34,004 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates
2025-04-13 19:57:34,035 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 19:57:34,066 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:57:34,096 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:57:34,127 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:57:34,158 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 19:57:34,189 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 19:57:34,219 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 19:57:34,251 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:57:34,282 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 19:57:34,544 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 19:57:34,576 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:57:34,730 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:57:34,792 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:57:34,932 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:57:34,979 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:57:35,117 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:57:35,166 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:57:35,305 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:57:35,350 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:57:35,489 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:57:35,536 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:57:35,659 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:57:35,706 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:57:35,814 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:57:35,860 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:57:35,967 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:57:36,013 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:57:36,181 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:57:36,227 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:57:36,351 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:57:36,397 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:57:36,504 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:57:36,549 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:57:36,674 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:57:36,719 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:57:36,859 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:57:36,921 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:57:37,061 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:57:37,107 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 19:57:37,229 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 19:57:37,276 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:57:37,400 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:57:37,445 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 19:57:37,555 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 19:57:37,601 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:57:37,726 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:57:37,773 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 19:57:37,897 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 19:57:37,943 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:57:38,052 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:57:38,098 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 19:57:38,221 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 19:57:38,269 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 19:57:38,362 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 19:57:38,423 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:57:38,454 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:57:38,485 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 19:57:38,516 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 19:57:54,176 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 19:57:54,206 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 19:57:54,237 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 19:57:54,267 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 19:57:54,298 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 19:57:54,329 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 19:57:54,359 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 19:57:54,390 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 19:57:54,421 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 19:57:54,451 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 19:57:54,482 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 19:57:54,512 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:57:54,543 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 19:57:54,575 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:57:54,605 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 19:57:54,636 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:57:54,668 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 19:57:54,700 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:57:54,730 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 19:57:54,761 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:57:54,793 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 19:57:54,823 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 19:57:54,853 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 19:57:54,885 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 19:57:54,915 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:57:54,947 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 19:57:54,979 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 19:57:55,008 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 19:57:55,040 - controller   -get_rate_by_code_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 19:57:56,256 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:00:59,784 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:00:59,784 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:00:59,784 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:00:59,785 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:00:59,785 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:00:59,786 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:00:59,786 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:01:14,232 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:01:15,625 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:01:15,625 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:01:15,626 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:01:15,626 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:01:15,626 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:01:15,627 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:01:15,627 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:01:19,762 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:01:19,793 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:01:19,823 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:01:19,855 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:01:19,886 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:01:19,916 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:01:19,947 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:01:19,979 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:01:20,009 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:01:20,040 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:01:20,072 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:01:20,103 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:20,134 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:01:20,165 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:20,196 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:01:20,227 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:20,259 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:01:20,290 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:20,321 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:01:20,352 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:20,383 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:01:20,414 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:20,444 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:01:20,475 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:01:20,506 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:01:20,537 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:01:20,569 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:01:20,600 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:01:20,631 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:01:22,619 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:01:22,648 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:01:22,680 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:01:22,710 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:01:22,741 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:01:22,772 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:01:22,803 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:01:22,834 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:01:22,865 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:01:22,896 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:01:22,926 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:01:22,957 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:22,989 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:01:23,020 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:23,050 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:01:23,082 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:23,113 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:01:23,144 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:23,176 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:01:23,207 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:23,238 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:01:23,268 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:01:23,299 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:01:23,330 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:01:23,361 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:01:23,392 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:01:23,437 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:01:23,468 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:01:23,499 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:01:23,999 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:02:15,674 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:02:15,675 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:02:15,675 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:02:15,676 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:02:15,676 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:02:15,676 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:02:15,676 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:02:18,812 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:02:18,843 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:02:18,873 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:02:18,904 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:18,935 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:02:18,966 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:02:18,996 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:02:19,026 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:02:19,057 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:19,088 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:02:19,118 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:02:19,150 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:19,180 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:02:19,210 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:19,241 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:02:19,272 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:19,302 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:02:19,333 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:19,364 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:02:19,409 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:19,441 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:02:19,471 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:19,501 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:02:19,532 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:02:19,563 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:19,593 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:02:19,623 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:19,655 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:02:19,685 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:02:19,717 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:02:21,652 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:02:21,682 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:02:21,714 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:02:21,745 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:21,776 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:02:21,808 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:02:21,838 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:02:21,869 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:02:21,900 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:21,931 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:02:21,963 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:02:21,993 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:22,023 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:02:22,054 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:22,084 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:02:22,114 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:22,146 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:02:22,176 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:22,206 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:02:22,236 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:22,268 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:02:22,298 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:22,328 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:02:22,360 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:02:22,391 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:22,422 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:02:22,454 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:22,484 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:02:22,514 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:02:22,545 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:02:23,244 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:02:23,275 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:02:23,306 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:02:23,338 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:23,369 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:02:23,399 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:02:23,429 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:02:23,460 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:02:23,492 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:23,523 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:02:23,553 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:02:23,583 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:23,613 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:02:23,644 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:23,675 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:02:23,706 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:23,738 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:02:23,769 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:23,800 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:02:23,830 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:23,861 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:02:23,892 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:23,923 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:02:23,954 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:02:23,984 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:24,015 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:02:24,047 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:24,077 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:02:24,107 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:02:24,138 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:02:29,491 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:02:29,522 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:02:29,554 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:02:29,584 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:29,615 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:02:29,645 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:02:29,676 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:02:29,706 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:02:29,737 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:29,767 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:02:29,797 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:02:29,828 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:29,860 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:02:29,891 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:29,921 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:02:29,951 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:29,982 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:02:30,014 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:30,046 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:02:30,076 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:30,107 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:02:30,137 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:30,168 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:02:30,198 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:02:30,230 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:30,260 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:02:30,292 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:30,322 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:02:30,354 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:02:30,384 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:02:31,080 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:02:31,111 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:02:31,142 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:02:31,173 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:31,204 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:02:31,235 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:02:31,266 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:02:31,296 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:02:31,327 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:31,359 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:02:31,390 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:02:31,421 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:31,451 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:02:31,467 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:31,497 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:02:31,529 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:31,559 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:02:31,589 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:31,620 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:02:31,652 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:31,682 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:02:31,712 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:31,743 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:02:31,775 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:02:31,805 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:31,837 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:02:31,868 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:31,899 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:02:31,930 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:02:31,962 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:02:52,480 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:02:54,097 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:02:54,098 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:02:54,098 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:02:54,099 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:02:54,099 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:02:54,100 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:02:54,100 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:02:56,591 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:02:56,622 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:02:56,654 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:02:56,685 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:56,716 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:02:56,746 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:02:56,777 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:02:56,807 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:02:56,837 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:02:56,869 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:02:56,900 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:02:56,930 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:56,961 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:02:56,991 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:57,021 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:02:57,052 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:57,083 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:02:57,114 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:57,144 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:02:57,175 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:57,206 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:02:57,237 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:02:57,268 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:02:57,298 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:02:57,329 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:57,359 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:02:57,390 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:02:57,421 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:02:57,452 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:02:57,482 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:02:57,513 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:03:01,387 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:04:30,123 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:04:30,124 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:04:30,124 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:04:30,125 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:04:30,125 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:04:30,125 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:04:30,126 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:04:33,941 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:04:33,972 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:04:34,002 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:04:34,034 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:04:34,065 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:04:34,097 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:04:34,127 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:04:34,158 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:04:34,190 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:04:34,220 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:04:34,252 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:04:34,284 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:34,314 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:04:34,344 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:34,375 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:04:34,405 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:34,437 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:04:34,468 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:34,499 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:04:34,530 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:34,560 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:04:34,591 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:34,622 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:04:34,652 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:04:34,684 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:04:34,714 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:04:34,746 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:04:34,777 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:04:34,807 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:04:34,839 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:04:34,870 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:04:36,873 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:04:36,904 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:04:36,934 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:04:36,964 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:04:36,996 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:04:37,026 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:04:37,056 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:04:37,088 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:04:37,118 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:04:37,150 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:04:37,182 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:04:37,212 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:37,244 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:04:37,275 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:37,305 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:04:37,335 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:37,366 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:04:37,398 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:37,428 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:04:37,459 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:37,491 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:04:37,521 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:37,553 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:04:37,585 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:04:37,615 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:04:37,647 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:04:37,678 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:04:37,708 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:04:37,740 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:04:37,771 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:04:37,801 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:04:38,496 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:04:38,526 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:04:38,557 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:04:38,588 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:04:38,619 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:04:38,650 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:04:38,682 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:04:38,713 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:04:38,743 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:04:38,773 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:04:38,804 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:04:38,834 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:38,865 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:04:38,896 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:38,927 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:04:38,958 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:38,989 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:04:39,035 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:39,066 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:04:39,098 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:39,128 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:04:39,159 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:04:39,189 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:04:39,220 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:04:39,250 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:04:39,296 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:04:39,327 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:04:39,358 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:04:39,388 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:04:39,420 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:04:39,450 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:04:39,892 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:06:11,867 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:06:11,867 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:06:11,867 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:06:11,868 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:06:11,868 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:06:11,869 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:06:11,869 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:06:14,792 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:06:14,822 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:06:14,854 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:06:14,884 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:06:14,914 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:06:14,946 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:06:14,976 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:06:15,008 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:06:15,040 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:06:15,086 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:06:15,117 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:06:15,149 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:06:15,180 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:06:15,210 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:06:15,241 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:06:15,272 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:06:15,303 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:06:15,334 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:06:15,364 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:06:15,394 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:06:15,425 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:06:15,456 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:06:15,487 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:06:15,518 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:06:15,549 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:06:15,579 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:06:15,610 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:06:15,641 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:06:15,672 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:06:15,702 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:06:15,733 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:06:17,774 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:06:17,804 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:06:17,836 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:06:17,867 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:06:17,898 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:06:17,899 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:06:17,899 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:06:17,899 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:08:06,648 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:08:06,648 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:08:06,648 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:08:06,649 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:08:06,649 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:08:06,650 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:08:06,650 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:08:09,642 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:08:09,673 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:08:09,704 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:08:09,735 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:08:09,767 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:08:09,797 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:08:09,829 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:08:09,860 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:08:09,890 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:08:09,920 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:08:09,951 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:08:09,981 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:10,012 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:08:10,043 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:10,074 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:08:10,105 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:10,136 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:08:10,167 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:10,197 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:08:10,228 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:10,259 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:08:10,290 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:10,322 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:08:10,353 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:08:10,384 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:08:10,414 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:08:10,445 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:08:10,476 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:08:10,507 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:08:10,538 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:08:10,568 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:08:10,599 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: ...USD,,,, RUB
2025-04-13 20:08:12,565 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:08:12,597 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:08:12,629 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:08:12,659 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:08:12,689 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:08:12,720 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:08:12,752 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:08:12,782 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:08:12,813 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:08:12,845 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:08:12,875 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:08:12,907 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:12,938 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:08:12,970 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:13,000 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:08:13,030 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:13,061 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:08:13,092 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:13,122 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:08:13,154 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:13,184 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:08:13,216 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:13,248 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:08:13,278 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:08:13,309 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:08:13,341 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:08:13,371 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:08:13,403 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:08:13,434 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:08:13,465 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:08:13,495 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:08:13,526 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: ...USD,,,, RUB
2025-04-13 20:08:14,205 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:08:14,236 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:08:14,266 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:08:14,296 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:08:14,328 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:08:14,358 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:08:14,390 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:08:14,420 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:08:14,452 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:08:14,482 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:08:14,514 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:08:14,546 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:14,576 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:08:14,608 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:08:14,639 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:08:14,661 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:08:14,662 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:39,171 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:10:39,171 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:10:39,171 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:10:39,172 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:10:39,172 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:10:39,173 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:10:39,173 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:10:43,145 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:10:43,175 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:10:43,207 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:10:43,239 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:43,270 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:10:43,300 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:10:43,332 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:10:43,364 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:10:43,394 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:43,425 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:10:43,455 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:10:43,485 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:43,516 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:10:43,548 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:43,578 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:10:43,609 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:43,640 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:10:43,670 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:43,702 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:10:43,732 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:43,764 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:10:43,794 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:43,825 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:10:43,857 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:10:43,887 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:43,919 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:10:43,951 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:43,981 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:10:44,013 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:10:44,044 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:10:44,074 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:10:44,105 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USD, RUB
2025-04-13 20:10:46,070 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:10:46,100 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:10:46,130 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:10:46,161 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:46,192 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:10:46,224 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:10:46,255 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:10:46,286 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:10:46,316 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:46,347 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:10:46,378 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:10:46,409 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:46,441 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:10:46,472 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:46,503 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:10:46,534 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:46,565 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:10:46,596 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:46,628 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:10:46,659 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:46,690 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:10:46,721 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:46,752 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:10:46,783 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:10:46,813 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:46,845 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:10:46,875 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:46,905 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:10:46,936 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:10:46,982 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:10:47,013 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:10:47,045 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USD, RUB
2025-04-13 20:10:47,733 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:10:47,779 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:10:47,811 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:10:47,843 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:47,873 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:10:47,905 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:10:47,936 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:10:47,966 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:10:47,996 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:48,028 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:10:48,059 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:10:48,088 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:48,120 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:10:48,150 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:48,181 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:10:48,211 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:48,243 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:10:48,273 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:48,305 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:10:48,335 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:48,366 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:10:48,397 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:48,428 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:10:48,458 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:10:48,489 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:48,520 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:10:48,551 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:48,582 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:10:48,613 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:10:48,645 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:10:48,675 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:10:48,705 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USD, RUB
2025-04-13 20:10:54,077 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:10:54,108 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:10:54,138 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:10:54,169 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:54,200 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:10:54,230 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:10:54,261 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:10:54,291 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:10:54,323 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:54,354 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:10:54,385 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:10:54,415 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:54,446 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:10:54,477 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:54,508 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:10:54,539 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:54,570 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:10:54,601 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:54,631 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:10:54,662 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:54,693 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:10:54,724 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:54,755 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:10:54,786 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:10:54,816 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:54,848 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:10:54,879 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:10:54,910 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:10:54,941 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:10:54,972 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:10:55,003 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:10:55,035 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USD, RUB
2025-04-13 20:10:55,721 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:10:55,753 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:10:55,784 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:10:55,815 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:55,846 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:10:55,877 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:10:55,907 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:10:55,938 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:10:55,969 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:10:56,000 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:10:56,030 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:10:56,061 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:56,092 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:10:56,122 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:56,152 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:10:56,183 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:56,214 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:10:56,245 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:56,276 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:10:56,284 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:10:56,284 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:10:56,284 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:11:15,478 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:11:15,478 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:11:15,479 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:11:15,479 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:11:15,479 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:11:15,480 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:11:15,480 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:11:19,951 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:11:19,980 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:11:20,012 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:11:20,042 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:11:20,058 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:11:20,073 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:11:20,104 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:11:20,135 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:11:20,165 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:11:20,197 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:11:20,227 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:11:20,259 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:11:20,289 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:11:20,321 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:11:20,351 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:11:20,383 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:11:20,414 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:11:20,444 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:11:20,475 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:11:20,506 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:11:20,538 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:11:20,568 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:11:20,599 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:11:20,632 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:11:20,661 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:11:20,693 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:11:20,724 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:11:20,755 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:11:20,785 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:11:20,817 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:11:20,847 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:11:20,878 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USD, RUB
2025-04-13 20:11:20,908 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 20:11:20,939 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 20:11:21,217 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 20:11:21,247 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:11:21,356 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:11:21,403 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:11:21,528 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:11:21,588 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:11:21,695 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:11:21,741 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:11:21,866 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:11:21,913 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:11:22,036 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:11:22,082 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:11:22,190 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:11:22,237 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:11:22,346 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:11:22,393 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:11:22,517 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:11:22,564 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:11:22,672 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:11:22,719 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:11:22,827 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:11:22,873 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:11:22,965 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:11:23,010 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:11:23,135 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:11:23,181 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:11:23,319 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:11:23,365 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:11:23,522 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:11:23,568 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:11:23,690 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:11:23,737 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:11:23,862 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:11:23,923 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:11:24,047 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:11:24,109 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:11:24,231 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:11:24,277 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:11:24,415 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:11:24,462 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:11:24,585 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:11:24,632 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:11:24,771 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:11:24,818 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:11:24,910 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:11:24,972 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:11:25,019 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:11:25,049 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:11:25,081 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:20:56,905 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:20:56,935 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:20:56,966 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:20:56,998 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 20:20:57,029 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/EURRUB, параметры: {}
2025-04-13 20:20:57,060 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:20:57,092 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:20:57,123 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:20:57,154 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate/EURRUB
2025-04-13 20:20:57,185 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate/EURRUB: None
2025-04-13 20:20:57,216 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRate/EURRUB
2025-04-13 20:20:57,247 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:20:57,278 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRate/EURRUB
2025-04-13 20:20:57,309 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:20:57,340 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRate/EURRUB
2025-04-13 20:20:57,371 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:20:57,402 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/EURRUB
2025-04-13 20:20:57,433 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:20:57,464 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRate/EURRUB
2025-04-13 20:20:57,496 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:20:57,527 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRate/EURRUB
2025-04-13 20:20:57,557 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:20:57,587 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRate/EURRUB
2025-04-13 20:20:57,618 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRate
2025-04-13 20:20:57,649 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRate/EURRUB
2025-04-13 20:20:57,681 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRates != exchangeRate
2025-04-13 20:20:57,711 - router       -resolve             - WARNING  - Маршрут не найден: GET /exchangeRate/EURRUB
2025-04-13 20:20:57,742 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 20:20:57,773 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:20:57,804 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 20:21:34,345 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:21:34,376 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:21:34,408 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:21:34,438 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 20:21:34,468 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/EURRUB, параметры: {}
2025-04-13 20:21:34,499 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:21:34,531 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:21:34,561 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:21:34,592 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate/EURRUB
2025-04-13 20:21:34,622 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate/EURRUB: None
2025-04-13 20:21:34,653 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRate/EURRUB
2025-04-13 20:21:34,683 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:21:34,714 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRate/EURRUB
2025-04-13 20:21:34,745 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:21:34,775 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRate/EURRUB
2025-04-13 20:21:34,805 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:21:34,836 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/EURRUB
2025-04-13 20:21:34,867 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:21:34,897 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRate/EURRUB
2025-04-13 20:21:34,928 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:21:34,959 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRate/EURRUB
2025-04-13 20:21:34,990 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:21:35,022 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRate/EURRUB
2025-04-13 20:21:35,052 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRate
2025-04-13 20:21:35,083 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRate/EURRUB
2025-04-13 20:21:35,114 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRates != exchangeRate
2025-04-13 20:21:35,144 - router       -resolve             - WARNING  - Маршрут не найден: GET /exchangeRate/EURRUB
2025-04-13 20:21:35,174 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 20:21:35,206 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:21:35,237 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 20:22:06,246 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:22:06,277 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:22:06,308 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:22:06,339 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:22:06,370 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/EURRUB, параметры: {}
2025-04-13 20:22:06,401 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:22:06,431 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:22:06,461 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:22:06,492 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/EURRUB
2025-04-13 20:22:06,523 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/EURRUB: None
2025-04-13 20:22:06,554 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/EURRUB
2025-04-13 20:22:06,585 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:22:06,615 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/EURRUB
2025-04-13 20:22:06,646 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:22:06,677 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/EURRUB
2025-04-13 20:22:06,708 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:22:06,739 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/EURRUB
2025-04-13 20:22:06,770 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:22:06,800 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/EURRUB
2025-04-13 20:22:06,831 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:22:06,861 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/EURRUB
2025-04-13 20:22:06,892 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:22:06,924 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/EURRUB
2025-04-13 20:22:06,954 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:22:06,985 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:22:07,015 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = EURRUB
2025-04-13 20:22:07,046 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:22:07,076 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/EURRUB
2025-04-13 20:22:07,108 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:22:07,138 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:22:07,170 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EURRUB
2025-04-13 20:22:07,200 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EUR, RUB
2025-04-13 20:22:07,232 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 20:22:07,278 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 20:22:07,465 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 20:22:07,496 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:22:07,621 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:22:07,667 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:22:07,804 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:22:07,850 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:22:08,006 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:22:08,052 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:22:08,159 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:22:08,205 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:22:08,329 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:22:08,375 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:22:08,484 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:22:08,532 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:22:08,669 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:22:08,715 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:22:08,854 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:22:08,900 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:22:09,009 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:22:09,055 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:22:09,181 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:22:09,227 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:22:09,349 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:22:09,395 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:22:09,501 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:22:09,548 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:22:09,655 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:22:09,702 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:22:09,811 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:22:09,857 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:22:09,964 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:22:10,011 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:22:10,121 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:22:10,167 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:22:10,306 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:22:10,353 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:22:10,460 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:22:10,507 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:22:10,648 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:22:10,694 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:22:10,818 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:22:10,864 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:22:11,020 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:22:11,066 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:22:11,221 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:22:11,283 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:22:11,330 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:22:11,360 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:22:11,392 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:23:54,115 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:23:54,146 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:23:54,177 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:23:54,207 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 20:23:54,238 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 20:23:54,269 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:23:54,299 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:23:54,330 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 20:23:54,362 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 20:23:54,392 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 20:23:54,423 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 20:23:54,455 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:23:54,486 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 20:23:54,517 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-13 20:23:54,655 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-13 20:23:54,700 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 20:23:54,731 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 20:23:54,763 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:23:54,870 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:23:54,916 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:23:55,025 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:23:55,087 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 20:23:55,117 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:23:55,148 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 20:27:23,706 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:27:25,566 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:27:25,567 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:27:25,567 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:27:25,568 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:27:25,568 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:27:25,569 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:27:25,569 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:27:33,007 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:27:33,038 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:27:33,068 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:27:33,099 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 20:27:33,131 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-13 20:27:33,162 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:27:33,192 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:27:33,224 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7'}, body={}, query_params={}, response=None)
2025-04-13 20:27:33,255 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 20:27:33,286 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 20:27:33,317 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-13 20:27:33,348 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-13 20:27:33,486 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-13 20:27:33,516 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-13 20:27:33,593 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-13 20:27:44,352 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:27:44,384 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:27:44,415 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:27:44,446 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 20:27:44,476 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 20:27:44,507 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:27:44,538 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:27:44,569 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['ALL']}, response=None)
2025-04-13 20:27:44,600 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 20:27:44,631 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 20:27:44,662 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 20:27:44,693 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:27:44,724 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['ALL']}
2025-04-13 20:27:44,755 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 20:27:44,848 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 20:27:44,894 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: None
2025-04-13 20:27:44,926 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-13 20:27:44,958 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:27:44,988 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-13 20:27:51,950 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:27:51,980 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:27:52,011 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:27:52,043 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 20:27:52,073 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 20:27:52,104 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:27:52,134 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:27:52,165 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 20:27:52,197 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 20:27:52,227 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 20:27:52,257 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 20:27:52,288 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:27:52,319 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 20:27:52,350 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-13 20:27:52,472 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-13 20:27:52,519 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 20:27:52,550 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 20:27:52,581 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:27:52,704 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:27:52,751 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:27:52,858 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:27:52,904 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 20:27:52,935 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:27:52,965 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 20:28:06,233 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:28:06,265 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:28:06,295 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:28:06,327 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 20:28:06,359 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/EURRUB, параметры: {}
2025-04-13 20:28:06,389 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:28:06,420 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:28:06,450 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:28:06,481 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate/EURRUB
2025-04-13 20:28:06,511 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate/EURRUB: None
2025-04-13 20:28:06,543 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRate/EURRUB
2025-04-13 20:28:06,573 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:06,604 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRate/EURRUB
2025-04-13 20:28:06,635 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:06,667 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRate/EURRUB
2025-04-13 20:28:06,697 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:06,728 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/EURRUB
2025-04-13 20:28:06,760 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:06,790 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRate/EURRUB
2025-04-13 20:28:06,822 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:06,852 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRate/EURRUB
2025-04-13 20:28:06,884 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:06,914 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRate/EURRUB
2025-04-13 20:28:06,946 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRate
2025-04-13 20:28:06,976 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRate/EURRUB
2025-04-13 20:28:07,008 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRates != exchangeRate
2025-04-13 20:28:07,038 - router       -resolve             - WARNING  - Маршрут не найден: GET /exchangeRate/EURRUB
2025-04-13 20:28:07,070 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 20:28:07,100 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:28:07,130 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 20:28:19,261 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:28:19,292 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:28:19,323 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:28:19,353 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:19,384 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/EURRUB, параметры: {}
2025-04-13 20:28:19,414 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:28:19,445 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:28:19,476 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:28:19,506 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:19,537 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/EURRUB: None
2025-04-13 20:28:19,568 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/EURRUB
2025-04-13 20:28:19,599 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:19,631 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/EURRUB
2025-04-13 20:28:19,662 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:19,692 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/EURRUB
2025-04-13 20:28:19,723 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:19,753 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/EURRUB
2025-04-13 20:28:19,783 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:19,813 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/EURRUB
2025-04-13 20:28:19,844 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:19,874 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/EURRUB
2025-04-13 20:28:19,905 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:19,936 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/EURRUB
2025-04-13 20:28:19,967 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:28:19,998 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:20,029 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = EURRUB
2025-04-13 20:28:20,060 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:20,091 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/EURRUB
2025-04-13 20:28:20,122 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:28:20,154 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:20,185 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EURRUB
2025-04-13 20:28:20,215 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EUR, RUB
2025-04-13 20:28:20,246 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:28:20,276 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:21,578 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:28:21,608 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:28:21,638 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:28:21,669 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:21,700 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/EURRUB, параметры: {}
2025-04-13 20:28:21,730 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:28:21,761 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:28:21,792 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:28:21,823 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:21,854 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/EURRUB: None
2025-04-13 20:28:21,885 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/EURRUB
2025-04-13 20:28:21,916 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:21,947 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/EURRUB
2025-04-13 20:28:21,978 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:22,025 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/EURRUB
2025-04-13 20:28:22,056 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:22,087 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/EURRUB
2025-04-13 20:28:22,117 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:22,149 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/EURRUB
2025-04-13 20:28:22,179 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:22,208 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/EURRUB
2025-04-13 20:28:22,240 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:22,272 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/EURRUB
2025-04-13 20:28:22,302 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:28:22,333 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:22,365 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = EURRUB
2025-04-13 20:28:22,394 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:22,426 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/EURRUB
2025-04-13 20:28:22,458 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:28:22,488 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:22,518 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EURRUB
2025-04-13 20:28:22,549 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EUR, RUB
2025-04-13 20:28:22,580 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:28:22,610 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:24,017 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:28:24,048 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:28:24,079 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:28:24,110 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:24,142 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/EURRUB, параметры: {}
2025-04-13 20:28:24,173 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:28:24,204 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:28:24,235 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:28:24,266 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:24,297 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/EURRUB: None
2025-04-13 20:28:24,328 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/EURRUB
2025-04-13 20:28:24,359 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:24,390 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/EURRUB
2025-04-13 20:28:24,421 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:24,452 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/EURRUB
2025-04-13 20:28:24,483 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:24,514 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/EURRUB
2025-04-13 20:28:24,545 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:24,577 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/EURRUB
2025-04-13 20:28:24,608 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:24,639 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/EURRUB
2025-04-13 20:28:24,670 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:24,701 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/EURRUB
2025-04-13 20:28:24,731 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:28:24,762 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:24,793 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = EURRUB
2025-04-13 20:28:24,824 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:24,856 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/EURRUB
2025-04-13 20:28:24,887 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:28:24,917 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:24,948 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EURRUB
2025-04-13 20:28:24,979 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EUR, RUB
2025-04-13 20:28:25,010 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:28:25,042 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:25,756 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:28:25,786 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:28:25,818 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:28:25,850 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:25,880 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/EURRUB, параметры: {}
2025-04-13 20:28:25,912 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:28:25,942 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:28:25,974 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:28:26,004 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/EURRUB
2025-04-13 20:28:26,035 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/EURRUB: None
2025-04-13 20:28:26,067 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/EURRUB
2025-04-13 20:28:26,097 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:26,127 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/EURRUB
2025-04-13 20:28:26,159 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:26,189 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/EURRUB
2025-04-13 20:28:26,220 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:26,251 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/EURRUB
2025-04-13 20:28:26,282 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:26,312 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/EURRUB
2025-04-13 20:28:26,344 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:26,374 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/EURRUB
2025-04-13 20:28:26,406 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:28:26,437 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/EURRUB
2025-04-13 20:28:26,469 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:28:26,499 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:26,530 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = EURRUB
2025-04-13 20:28:26,562 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:28:26,592 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/EURRUB
2025-04-13 20:28:26,624 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:28:26,656 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:26,686 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EURRUB
2025-04-13 20:28:26,718 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EUR, RUB
2025-04-13 20:28:26,749 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:28:26,779 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:28:29,260 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:29:07,391 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:29:07,391 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:29:07,391 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:29:07,392 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:29:07,392 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:29:07,393 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:29:07,393 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:29:10,804 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:29:10,834 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:29:10,865 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:29:10,896 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:29:10,927 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/EURRUB, параметры: {}
2025-04-13 20:29:10,959 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:29:10,989 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:29:11,019 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:29:11,050 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/EURRUB
2025-04-13 20:29:11,081 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/EURRUB: None
2025-04-13 20:29:11,112 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/EURRUB
2025-04-13 20:29:11,142 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:29:11,173 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/EURRUB
2025-04-13 20:29:11,203 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:29:11,234 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/EURRUB
2025-04-13 20:29:11,265 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:29:11,296 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/EURRUB
2025-04-13 20:29:11,326 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:29:11,357 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/EURRUB
2025-04-13 20:29:11,388 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:29:11,419 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/EURRUB
2025-04-13 20:29:11,450 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:29:11,481 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/EURRUB
2025-04-13 20:29:11,512 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:29:11,544 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:29:11,575 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = EURRUB
2025-04-13 20:29:11,606 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/EURRUB
2025-04-13 20:29:11,637 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/EURRUB
2025-04-13 20:29:11,668 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:29:11,700 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'EURRUB'}
2025-04-13 20:29:11,730 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EURRUB
2025-04-13 20:29:11,761 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: EUR, RUB
2025-04-13 20:29:11,791 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:29:11,822 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'pair': 'EURRUB', 'from': 'EUR', 'to': 'RUB'}
2025-04-13 20:29:11,853 - model        -get_exchange_rate   - INFO     - Получение курса обмена: E -> R
2025-04-13 20:29:11,930 - model        -get_exchange_rate   - WARNING  - Курс обмена E -> R не найден
2025-04-13 20:29:11,991 - controller   -get_exchange_rate   - DEBUG    - Курс обмена E -> R: None
2025-04-13 20:29:12,022 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-13 20:29:12,053 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:29:12,085 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-13 20:29:40,514 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:29:40,544 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:29:40,576 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:29:40,606 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-13 20:29:40,636 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-13 20:29:40,668 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:29:40,700 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:29:40,730 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:29:40,761 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-13 20:29:40,791 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-13 20:29:40,822 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-13 20:29:40,853 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 20:29:40,885 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-13 20:29:41,242 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-13 20:29:41,273 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:29:41,472 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:29:41,518 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:29:41,655 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:29:41,701 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:29:41,841 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:29:41,887 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:29:41,993 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:29:42,038 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:29:42,146 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:29:42,193 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:29:42,330 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:29:42,377 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:29:42,516 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:29:42,564 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:29:42,673 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:29:42,720 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:29:42,813 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:29:42,859 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:29:42,985 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:29:43,030 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:29:43,168 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:29:43,215 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:29:43,323 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:29:43,370 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:29:43,494 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:29:43,540 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:29:43,664 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:29:43,726 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:29:43,831 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:29:43,879 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:29:44,033 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:29:44,081 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:29:44,251 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:29:44,298 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:29:44,406 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:29:44,453 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-13 20:29:44,654 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-13 20:29:44,700 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:29:44,793 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:29:44,855 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:29:44,963 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:29:45,008 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-13 20:29:45,164 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-13 20:29:45,226 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:29:45,257 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:29:45,289 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:29:45,335 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-13 20:30:07,886 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:30:07,917 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:30:07,948 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:30:07,981 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:30:08,011 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:30:08,042 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:30:08,072 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:30:08,103 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:30:08,134 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:30:08,165 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:30:08,197 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:30:08,227 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:30:08,258 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:30:08,289 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:30:08,319 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:30:08,350 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:30:08,382 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:30:08,412 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:30:08,444 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:30:08,474 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:30:08,506 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:30:08,536 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:30:08,567 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:30:08,599 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:30:08,629 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:30:08,660 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:30:08,691 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:30:08,722 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:30:08,752 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:30:08,784 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:30:08,814 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:30:08,846 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USD, RUB
2025-04-13 20:30:08,876 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:30:08,908 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'pair': 'USDRUB', 'from': 'USD', 'to': 'RUB'}
2025-04-13 20:30:08,938 - model        -get_exchange_rate   - INFO     - Получение курса обмена: U -> R
2025-04-13 20:30:09,062 - model        -get_exchange_rate   - WARNING  - Курс обмена U -> R не найден
2025-04-13 20:30:09,109 - controller   -get_exchange_rate   - DEBUG    - Курс обмена U -> R: None
2025-04-13 20:30:09,140 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-13 20:30:09,171 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:30:09,203 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-13 20:35:12,730 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:35:12,761 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:35:12,793 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:35:12,824 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 20:35:12,854 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 20:35:12,884 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:35:12,915 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:35:12,946 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': ['USD'], 'to': ['EUR']}, response=None)
2025-04-13 20:35:12,977 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 20:35:13,008 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 20:35:13,039 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 20:35:13,069 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:35:13,100 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': ['USD'], 'to': ['EUR']}
2025-04-13 20:35:13,130 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-13 20:35:13,300 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-13 20:35:13,346 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 20:35:13,377 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-13 20:35:13,407 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:35:13,530 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:35:13,577 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-13 20:35:13,699 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-13 20:35:13,747 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 20:35:13,777 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:35:13,808 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-13 20:41:26,331 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:41:28,022 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:41:28,022 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:41:28,022 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:41:28,023 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:41:28,023 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:41:28,024 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:41:28,024 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:41:36,872 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:36,904 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:36,934 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:36,964 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 20:41:38,819 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:38,850 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:38,880 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:38,911 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 20:41:39,547 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:39,577 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:39,609 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:39,640 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-13 20:41:50,001 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:50,032 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:50,064 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:50,094 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 20:41:51,443 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:51,475 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:51,505 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:51,537 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 20:41:52,188 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:52,218 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:52,250 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:52,280 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 20:41:55,484 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:55,515 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:55,546 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:55,576 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:41:56,222 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:56,253 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:56,284 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:56,314 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:41:57,649 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:57,678 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:57,708 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:57,739 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:41:58,368 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:41:58,398 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:41:58,429 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:41:58,461 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/EURRUB
2025-04-13 20:42:01,981 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:42:44,645 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:42:44,645 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:42:44,645 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:42:44,646 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:42:44,646 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:42:44,647 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:42:44,647 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:42:45,228 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:42:45,259 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:42:45,290 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:42:45,321 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 20:42:47,144 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:42:47,174 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:42:47,205 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:42:47,235 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 20:42:47,882 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:42:47,913 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:42:47,943 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:42:47,973 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 20:42:53,298 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:42:53,330 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:42:53,360 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:42:53,392 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 20:42:54,044 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:42:54,076 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:42:54,106 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:42:54,137 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 20:42:54,948 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-13 20:45:16,534 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-13 20:45:16,535 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-13 20:45:16,535 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-13 20:45:16,536 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-13 20:45:16,536 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-13 20:45:16,536 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-13 20:45:16,536 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-13 20:45:20,858 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:45:20,888 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:45:20,919 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:45:20,949 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-13 20:45:20,980 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-13 20:45:21,009 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:45:21,040 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:45:21,072 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:45:21,102 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-13 20:45:21,133 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-13 20:45:21,164 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-13 20:45:21,196 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-13 20:45:21,335 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-13 20:45:21,365 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-13 20:45:21,426 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-13 20:45:27,307 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:45:27,337 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:45:27,368 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:45:27,400 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=ALL
2025-04-13 20:45:27,430 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'ALL'}
2025-04-13 20:45:27,460 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:45:27,491 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:45:27,522 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'ALL'}, response=None)
2025-04-13 20:45:27,553 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 20:45:27,583 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 20:45:27,615 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 20:45:27,645 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:45:27,676 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ALL'}
2025-04-13 20:45:27,706 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-13 20:45:27,815 - model        -get_exchange_rate   - WARNING  - Курс обмена USD -> ALL не найден
2025-04-13 20:45:27,860 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: None
2025-04-13 20:45:27,891 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-13 20:45:27,922 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:45:27,954 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-13 20:45:37,851 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:45:37,882 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:45:37,912 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:45:37,943 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=RUB
2025-04-13 20:45:37,973 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'RUB'}
2025-04-13 20:45:38,004 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:45:38,035 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:45:38,066 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'RUB'}, response=None)
2025-04-13 20:45:38,097 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-13 20:45:38,129 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-13 20:45:38,159 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-13 20:45:38,191 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:45:38,222 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'RUB'}
2025-04-13 20:45:38,253 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 20:45:38,362 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-13 20:45:38,407 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01, 'id': 1}
2025-04-13 20:45:38,438 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> RUB успешно получен result = {'from': 'USD', 'to': 'RUB', 'rate': 0.01, 'id': 1}
2025-04-13 20:45:38,469 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:45:38,591 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:45:38,654 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:45:38,791 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:45:38,838 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}
2025-04-13 20:45:38,869 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:45:38,900 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}
2025-04-13 20:45:54,435 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:45:54,466 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:45:54,496 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:45:54,527 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate/EURRUB
2025-04-13 20:45:54,559 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/EURRUB, параметры: {}
2025-04-13 20:45:54,590 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:45:54,620 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:45:54,651 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate/EURRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:45:54,682 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate/EURRUB
2025-04-13 20:45:54,714 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate/EURRUB: None
2025-04-13 20:45:54,745 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRate/EURRUB
2025-04-13 20:45:54,776 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:45:54,806 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRate/EURRUB
2025-04-13 20:45:54,837 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:45:54,868 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRate/EURRUB
2025-04-13 20:45:54,899 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:45:54,931 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/EURRUB
2025-04-13 20:45:54,962 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:45:54,993 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRate/EURRUB
2025-04-13 20:45:55,023 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:45:55,053 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRate/EURRUB
2025-04-13 20:45:55,085 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:45:55,116 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRate/EURRUB
2025-04-13 20:45:55,147 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRate
2025-04-13 20:45:55,177 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRate/EURRUB
2025-04-13 20:45:55,207 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: exchangeRates != exchangeRate
2025-04-13 20:45:55,238 - router       -resolve             - WARNING  - Маршрут не найден: GET /exchangeRate/EURRUB
2025-04-13 20:45:55,268 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-13 20:45:55,298 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:45:55,329 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-13 20:46:08,340 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-13 20:46:08,371 - router       -__init__            - INFO     - Инициализация Router
2025-04-13 20:46:08,401 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-13 20:46:08,432 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates/USDRUB
2025-04-13 20:46:08,462 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates/USDRUB, параметры: {}
2025-04-13 20:46:08,493 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-13 20:46:08,524 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-13 20:46:08,556 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-13 20:46:08,586 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates/USDRUB
2025-04-13 20:46:08,617 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates/USDRUB: None
2025-04-13 20:46:08,647 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /exchangeRates/USDRUB
2025-04-13 20:46:08,677 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:46:08,707 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /exchangeRates/USDRUB
2025-04-13 20:46:08,739 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:46:08,769 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /exchangeRates/USDRUB
2025-04-13 20:46:08,801 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:46:08,831 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRates/USDRUB
2025-04-13 20:46:08,861 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:46:08,893 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /exchangeRates/USDRUB
2025-04-13 20:46:08,924 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:46:08,956 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /exchangeRates/USDRUB
2025-04-13 20:46:08,986 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-13 20:46:09,017 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /exchangeRates/USDRUB
2025-04-13 20:46:09,047 - router       -match_dynamic_route - DEBUG    - Статическая часть не совпадает: currency != exchangeRates
2025-04-13 20:46:09,077 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:46:09,108 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-13 20:46:09,139 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRates/:pair с /exchangeRates/USDRUB
2025-04-13 20:46:09,170 - router       -resolve             - INFO     - Динамический маршрут найден: GET /exchangeRates/USDRUB
2025-04-13 20:46:09,200 - controller   -get_exchange_rates_dynamic- INFO     - Получение пары валют по коду (динамический метод)
2025-04-13 20:46:09,231 - controller   -get_exchange_rates_dynamic- DEBUG    - Данные запроса: {'pair': 'USDRUB'}
2025-04-13 20:46:09,261 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USDRUB
2025-04-13 20:46:09,292 - controller   -get_exchange_rates_dynamic- DEBUG    - Коды валют из запроса: USD, RUB
2025-04-13 20:46:09,323 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-13 20:46:09,354 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'pair': 'USDRUB', 'from': 'USD', 'to': 'RUB'}
2025-04-13 20:46:09,385 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-13 20:46:09,523 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-13 20:46:09,569 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 0.01, 'id': 1}
2025-04-13 20:46:09,599 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> RUB успешно получен result = {'from': 'USD', 'to': 'RUB', 'rate': 0.01, 'id': 1}
2025-04-13 20:46:09,630 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-13 20:46:09,739 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-13 20:46:09,785 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-13 20:46:09,926 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-13 20:46:09,972 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}
2025-04-13 20:46:10,002 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-13 20:46:10,033 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}
2025-04-14 13:57:08,899 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:57:08,930 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:57:08,960 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:57:08,990 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 13:57:09,020 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 13:57:09,051 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:57:09,081 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:57:09,113 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 13:57:09,143 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 13:57:09,173 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 13:57:09,205 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 13:57:09,235 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 13:57:09,389 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 13:57:09,419 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 13:57:09,481 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 13:57:22,394 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:57:22,425 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:57:22,455 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:57:22,487 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 13:57:22,519 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 13:57:22,550 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:57:22,581 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:57:22,612 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 13:57:22,643 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 13:57:22,674 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 13:57:22,706 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 13:57:22,737 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 13:57:22,767 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 13:57:22,953 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 13:57:22,999 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 13:57:23,031 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 13:57:23,061 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:57:23,092 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 13:57:31,738 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:57:31,768 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:57:31,800 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:57:31,831 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=USD
2025-04-14 13:57:31,861 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-14 13:57:31,892 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:57:31,923 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:57:31,955 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'USD'}, response=None)
2025-04-14 13:57:31,986 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 13:57:32,017 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 13:57:32,047 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 13:57:32,078 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 13:57:32,093 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: U
2025-04-14 13:57:32,125 - model        -get_currency_by_code- INFO     - Получение валюты по коду: U
2025-04-14 13:57:32,217 - model        -get_currency_by_code- WARNING  - Валюта с кодом U не найдена
2025-04-14 13:57:32,263 - controller   -get_currency_by_code- WARNING  - Валюта с кодом U не найдена
2025-04-14 13:57:32,295 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-14 13:57:32,326 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:57:32,357 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-14 13:58:14,753 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:58:14,784 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:58:14,814 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:58:14,846 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 13:58:14,876 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 13:58:14,908 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:58:14,940 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:58:14,970 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 13:58:15,001 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 13:58:15,032 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 13:58:15,062 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 13:58:15,093 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 13:58:15,124 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 13:58:15,277 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 13:58:15,324 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 13:58:15,355 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 13:58:15,386 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:58:15,417 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 13:58:21,245 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:58:21,276 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:58:21,306 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:58:21,337 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=USD
2025-04-14 13:58:21,367 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-14 13:58:21,397 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:58:21,429 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:58:21,459 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'USD'}, response=None)
2025-04-14 13:58:21,491 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 13:58:21,521 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 13:58:21,553 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 13:58:21,583 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 13:58:21,615 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: U
2025-04-14 13:58:21,647 - model        -get_currency_by_code- INFO     - Получение валюты по коду: U
2025-04-14 13:58:21,739 - model        -get_currency_by_code- WARNING  - Валюта с кодом U не найдена
2025-04-14 13:58:21,784 - controller   -get_currency_by_code- WARNING  - Валюта с кодом U не найдена
2025-04-14 13:58:21,815 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-14 13:58:21,846 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:58:21,876 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-14 13:58:29,749 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:58:29,779 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:58:29,811 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:58:29,842 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=EUR
2025-04-14 13:58:29,873 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'EUR'}
2025-04-14 13:58:29,905 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:58:29,936 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:58:29,966 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'EUR'}, response=None)
2025-04-14 13:58:29,997 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 13:58:30,028 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 13:58:30,060 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 13:58:30,090 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 13:58:30,121 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: E
2025-04-14 13:58:30,153 - model        -get_currency_by_code- INFO     - Получение валюты по коду: E
2025-04-14 13:58:30,275 - model        -get_currency_by_code- WARNING  - Валюта с кодом E не найдена
2025-04-14 13:58:30,336 - controller   -get_currency_by_code- WARNING  - Валюта с кодом E не найдена
2025-04-14 13:58:30,366 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-14 13:58:30,397 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:58:30,428 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-14 13:58:37,563 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:58:37,593 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:58:37,625 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:58:37,657 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 13:58:37,687 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 13:58:37,718 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:58:37,750 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:58:37,780 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 13:58:37,812 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 13:58:37,844 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 13:58:37,874 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 13:58:37,905 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 13:58:37,937 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 13:58:37,967 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 13:58:38,076 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 13:58:38,123 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-14 13:58:38,155 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-14 13:58:38,185 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 13:58:38,278 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 13:58:38,324 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 13:58:38,448 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 13:58:38,494 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 13:58:38,525 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:58:38,558 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 13:58:45,867 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:58:45,897 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:58:45,927 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:58:45,958 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=EUR
2025-04-14 13:58:45,989 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'EUR'}
2025-04-14 13:58:46,019 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:58:46,050 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:58:46,081 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'EUR'}, response=None)
2025-04-14 13:58:46,112 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 13:58:46,144 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 13:58:46,175 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 13:58:46,206 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 13:58:46,237 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: E
2025-04-14 13:58:46,268 - model        -get_currency_by_code- INFO     - Получение валюты по коду: E
2025-04-14 13:58:46,361 - model        -get_currency_by_code- WARNING  - Валюта с кодом E не найдена
2025-04-14 13:58:46,408 - controller   -get_currency_by_code- WARNING  - Валюта с кодом E не найдена
2025-04-14 13:58:46,439 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-14 13:58:46,469 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:58:46,501 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-14 13:59:20,926 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:59:20,956 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:59:20,986 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:59:21,016 - router       -handle_request      - INFO     - Обработка запроса: GET /currency/EUR
2025-04-14 13:59:21,046 - router       -handle_request      - DEBUG    - Путь запроса: /currency/EUR, параметры: {}
2025-04-14 13:59:21,077 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:59:21,107 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:59:21,138 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/EUR', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 13:59:21,169 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/EUR
2025-04-14 13:59:21,200 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency/EUR: None
2025-04-14 13:59:21,231 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currencies с /currency/EUR
2025-04-14 13:59:21,261 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 13:59:21,291 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency с /currency/EUR
2025-04-14 13:59:21,322 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 13:59:21,354 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates с /currency/EUR
2025-04-14 13:59:21,384 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 13:59:21,416 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /currency/EUR
2025-04-14 13:59:21,447 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 13:59:21,478 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /convert с /currency/EUR
2025-04-14 13:59:21,509 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 13:59:21,540 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: / с /currency/EUR
2025-04-14 13:59:21,572 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 13:59:21,602 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/EUR
2025-04-14 13:59:21,632 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = EUR
2025-04-14 13:59:21,663 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/EUR
2025-04-14 13:59:21,693 - router       -resolve             - INFO     - Динамический маршрут найден: GET /currency/EUR
2025-04-14 13:59:21,725 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-14 13:59:21,755 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: EUR
2025-04-14 13:59:21,787 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 13:59:21,911 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 13:59:21,957 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-14 13:59:21,989 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-14 13:59:22,019 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:59:22,051 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-14 13:59:35,858 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 13:59:35,889 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 13:59:35,920 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 13:59:35,951 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=EUR
2025-04-14 13:59:35,981 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'EUR'}
2025-04-14 13:59:36,012 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 13:59:36,043 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 13:59:36,074 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'EUR'}, response=None)
2025-04-14 13:59:36,105 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 13:59:36,136 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 13:59:36,167 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 13:59:36,198 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 13:59:36,229 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: E
2025-04-14 13:59:36,260 - model        -get_currency_by_code- INFO     - Получение валюты по коду: E
2025-04-14 13:59:36,370 - model        -get_currency_by_code- WARNING  - Валюта с кодом E не найдена
2025-04-14 13:59:36,416 - controller   -get_currency_by_code- WARNING  - Валюта с кодом E не найдена
2025-04-14 13:59:36,446 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-14 13:59:36,477 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 13:59:36,509 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-14 14:00:15,448 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 14:00:17,319 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 14:00:17,319 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 14:00:17,319 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 14:00:17,320 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 14:00:17,320 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 14:00:17,321 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 14:00:17,321 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 14:00:21,258 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 14:00:21,290 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:00:21,320 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 14:00:21,350 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=EUR
2025-04-14 14:00:21,381 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'EUR'}
2025-04-14 14:00:21,411 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:00:21,441 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 14:00:21,472 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'EUR'}, response=None)
2025-04-14 14:00:21,503 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 14:00:21,535 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 14:00:21,565 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 14:00:21,595 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 14:00:21,626 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: EUR
2025-04-14 14:00:21,656 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 14:00:21,781 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 14:00:21,827 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-14 14:00:21,858 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-14 14:00:21,889 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 14:00:21,920 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-14 14:00:31,336 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 14:00:31,366 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:00:31,397 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 14:00:31,427 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 14:00:31,442 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 14:00:31,473 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:00:31,502 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 14:00:31,533 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 14:00:31,564 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 14:00:31,595 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 14:00:31,627 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 14:00:31,657 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 14:00:31,687 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 14:00:31,718 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 14:00:31,843 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 14:00:31,889 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-14 14:00:31,919 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-14 14:00:31,949 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 14:00:32,118 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 14:00:32,163 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 14:00:32,302 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 14:00:32,348 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 14:00:32,379 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 14:00:32,410 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 14:03:24,545 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 14:03:24,574 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:03:24,606 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 14:03:24,638 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-14 14:03:24,668 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 14:03:24,700 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:03:24,730 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 14:03:24,762 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 14:03:24,792 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-14 14:03:24,824 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-14 14:03:24,855 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-14 14:03:24,885 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-14 14:03:24,916 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-14 14:03:25,147 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 0.01), (2, 'USD', 'EUR', 0.92), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 111.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0)]
2025-04-14 14:03:25,177 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 14:03:25,302 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 14:03:25,348 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 14:03:25,472 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 14:03:25,518 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 14:03:25,657 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 14:03:25,703 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 14:03:25,857 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 14:03:25,905 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 14:03:26,028 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 14:03:26,075 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 14:03:26,199 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 14:03:26,247 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 14:03:26,402 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 14:03:26,449 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 14:03:26,603 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 14:03:26,651 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 14:03:26,774 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 14:03:26,819 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 14:03:26,960 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 14:03:27,006 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 14:03:27,129 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 14:03:27,175 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 14:03:27,315 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 14:03:27,363 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 14:03:27,500 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 14:03:27,547 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 14:03:27,670 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 14:03:27,717 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 14:03:27,826 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 14:03:27,872 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 14:03:27,995 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 14:03:28,041 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 14:03:28,166 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 14:03:28,212 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 14:03:28,320 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 14:03:28,367 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 14:03:28,491 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 14:03:28,552 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 14:03:28,675 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 14:03:28,720 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 14:03:28,811 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 14:03:28,858 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 14:03:28,982 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 14:03:29,060 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-14 14:03:29,106 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-14 14:03:29,137 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 14:03:29,168 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 0.01}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 111.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}]
2025-04-14 14:04:42,957 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 14:04:42,988 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:04:43,019 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair')])
2025-04-14 14:04:43,049 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 14:04:43,082 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 14:04:43,111 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:04:43,153 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 14:04:43,175 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '24', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 14:04:43,205 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 14:04:43,234 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 14:04:43,266 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 14:04:43,296 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 14:04:43,328 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 14:04:43,359 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> EUR = 1.3
2025-04-14 14:04:43,436 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> EUR уже существует
2025-04-14 14:04:43,483 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 14:04:43,513 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 14:04:43,544 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 14:50:37,935 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 14:50:39,152 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 14:50:39,153 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 14:50:39,153 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 14:50:39,154 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 14:50:39,154 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 14:50:39,155 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 14:50:39,155 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 14:50:43,600 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 14:50:43,630 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:50:43,660 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 14:50:43,690 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 14:50:43,721 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 14:50:43,752 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:50:43,783 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 14:50:43,813 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 14:50:43,843 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 14:50:43,875 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 14:50:43,906 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 14:50:43,936 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 14:50:44,059 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 14:50:44,091 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="path">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 14:50:44,152 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 14:51:07,027 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 14:51:07,057 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:51:07,088 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 14:51:07,118 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 14:51:07,149 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 14:51:07,180 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:51:07,212 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 14:51:07,242 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 14:51:07,273 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 14:51:07,304 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 14:51:07,335 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 14:51:07,365 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 14:51:07,505 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 14:51:07,536 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Path Exchange Rate</h2>
    <form action="/exchangeRate" method="path">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 14:51:07,598 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 14:51:20,088 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 14:51:20,119 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:51:20,150 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 14:51:20,182 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 14:51:20,213 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 14:51:20,244 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:51:20,274 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 14:51:20,306 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 14:51:20,337 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 14:51:20,368 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 14:51:20,399 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 14:51:20,430 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 14:51:20,569 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 14:51:20,601 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Path Exchange Rate</h2>
    <form action="/exchangeRate" method="path">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Path Rate</button>
    </form>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 14:51:20,662 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 14:51:28,120 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 14:51:28,150 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 14:51:28,181 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 14:51:28,212 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=EUR&to=USD
2025-04-14 14:51:28,242 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'EUR', 'to': 'USD'}
2025-04-14 14:51:28,272 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 14:51:28,303 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 14:51:28,334 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'EUR', 'to': 'USD'}, response=None)
2025-04-14 14:51:28,365 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 14:51:28,396 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 14:51:28,427 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 14:51:28,457 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 14:51:28,488 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'USD'}
2025-04-14 14:51:28,518 - model        -get_exchange_rate   - INFO     - Получение курса обмена: EUR -> USD
2025-04-14 14:51:28,639 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 3
2025-04-14 14:51:28,686 - controller   -get_exchange_rate   - INFO     - Курс обмена EUR -> USD успешно получен result = {'from': 'EUR', 'to': 'USD', 'rate': 1.09, 'id': 3}
2025-04-14 14:51:28,717 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 14:51:28,886 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 14:51:28,932 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 14:51:29,072 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 14:51:29,119 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 14:51:29,149 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 14:51:29,181 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 15:06:52,347 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 15:06:52,377 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:06:52,408 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:06:52,438 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=EUR&to=USD
2025-04-14 15:06:52,469 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'EUR', 'to': 'USD'}
2025-04-14 15:06:52,500 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:06:52,531 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 15:06:52,561 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'EUR', 'to': 'USD'}, response=None)
2025-04-14 15:06:52,591 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 15:06:52,623 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 15:06:52,654 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 15:06:52,685 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 15:06:52,716 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'USD'}
2025-04-14 15:06:52,747 - model        -get_exchange_rate   - INFO     - Получение курса обмена: EUR -> USD
2025-04-14 15:06:52,853 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 3
2025-04-14 15:06:52,899 - controller   -get_exchange_rate   - INFO     - Курс обмена EUR -> USD успешно получен result = {'from': 'EUR', 'to': 'USD', 'rate': 1.09, 'id': 3}
2025-04-14 15:06:52,930 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 15:06:53,068 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 15:06:53,115 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 15:06:53,302 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 15:06:53,348 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 15:06:53,380 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 15:06:53,410 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 15:07:28,363 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 15:07:28,394 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:07:28,425 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:07:28,456 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=EUR&to=USD
2025-04-14 15:07:28,487 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'EUR', 'to': 'USD'}
2025-04-14 15:07:28,518 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:07:28,548 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 15:07:28,579 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'EUR', 'to': 'USD'}, response=None)
2025-04-14 15:07:28,610 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 15:07:28,640 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 15:07:28,670 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 15:07:28,701 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 15:07:28,733 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'USD'}
2025-04-14 15:07:28,763 - model        -get_exchange_rate   - INFO     - Получение курса обмена: EUR -> USD
2025-04-14 15:07:28,918 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 3
2025-04-14 15:07:28,964 - controller   -get_exchange_rate   - INFO     - Курс обмена EUR -> USD успешно получен result = {'from': 'EUR', 'to': 'USD', 'rate': 1.09, 'id': 3}
2025-04-14 15:07:28,996 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 15:07:29,104 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 15:07:29,152 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 15:07:29,275 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 15:07:29,339 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 15:07:29,369 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 15:07:29,401 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 15:10:34,019 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 15:10:34,050 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:10:34,080 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:10:34,111 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=EUR&to=USD
2025-04-14 15:10:34,142 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'EUR', 'to': 'USD'}
2025-04-14 15:10:34,172 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:10:34,204 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 15:10:34,234 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'EUR', 'to': 'USD'}, response=None)
2025-04-14 15:10:34,264 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 15:10:34,295 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 15:10:34,327 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 15:10:34,357 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 15:10:34,388 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'EUR', 'to': 'USD'}
2025-04-14 15:10:34,419 - model        -get_exchange_rate   - INFO     - Получение курса обмена: EUR -> USD
2025-04-14 15:10:34,543 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 3
2025-04-14 15:10:34,590 - controller   -get_exchange_rate   - INFO     - Курс обмена EUR -> USD успешно получен result = {'from': 'EUR', 'to': 'USD', 'rate': 1.09, 'id': 3}
2025-04-14 15:10:34,621 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 15:10:34,730 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 15:10:34,776 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 15:10:34,901 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 15:10:34,963 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 15:10:34,995 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 15:10:35,025 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 3, 'baseCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'targetCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}
2025-04-14 15:10:50,343 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 15:10:50,374 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:10:50,405 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:10:50,436 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 15:10:50,467 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 15:10:50,499 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:10:50,530 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 15:10:50,561 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 15:10:50,592 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 15:10:50,624 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 15:10:50,654 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 15:10:50,685 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 15:10:50,807 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 15:10:50,838 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Path Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Path Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 15:10:50,901 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 15:15:03,793 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:15:04,974 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:15:04,974 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:15:04,974 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:15:04,975 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:15:04,975 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:15:04,976 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:15:04,976 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:15:09,463 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 15:15:09,495 - app_server   -do_PATCH            - DEBUG    - Тело PATCH-запроса: {"from":"EUR","to":"USD","rate":"1.6"}
2025-04-14 15:15:09,525 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:15:09,557 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:21:43,808 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:21:45,269 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:21:45,270 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:21:45,270 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:21:45,270 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:21:45,271 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:21:45,271 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:21:45,271 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:21:50,665 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 15:21:50,695 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:21:50,727 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:22:56,311 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:22:57,331 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:22:57,331 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:22:57,331 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:22:57,332 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:22:57,332 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:22:57,332 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:22:57,332 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:23:00,763 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 15:23:00,793 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:23:00,839 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:23:00,871 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 15:23:00,886 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 15:23:00,916 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:23:00,947 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 15:23:00,978 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 15:23:01,008 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 15:23:01,039 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 15:23:01,070 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 15:23:01,100 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 15:23:01,224 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 15:23:01,255 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Path Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Path Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 15:23:01,316 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 15:23:11,269 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 15:23:11,299 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:23:11,330 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:23:57,230 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:23:58,843 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:23:58,844 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:23:58,844 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:23:58,845 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:23:58,845 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:23:58,845 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:23:58,845 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:24:03,368 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 15:24:03,400 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:24:03,430 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:24:03,462 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 15:24:03,492 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 15:24:03,524 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:28:13,663 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:28:15,152 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:28:15,152 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:28:15,152 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:28:15,153 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:28:15,153 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:28:15,154 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:28:15,154 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:28:19,408 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 15:28:19,424 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:28:19,455 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:28:21,185 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 15:28:21,216 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 15:28:21,246 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:29:05,625 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:29:06,847 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:29:06,847 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:29:06,847 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:29:06,848 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:29:06,848 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:29:06,849 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:29:06,849 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:29:19,522 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 15:29:19,552 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:29:19,583 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:29:21,424 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 15:29:21,454 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 15:29:21,486 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:29:21,518 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'IDR', 'rate': '22'}
2025-04-14 15:29:21,548 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'IDR', 'rate': '22'}, query_params={}, response=None)
2025-04-14 15:29:21,580 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 15:29:21,611 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 15:29:21,641 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 15:29:21,673 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 15:29:21,705 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'IDR', 'rate': '22'}
2025-04-14 15:29:21,735 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> IDR = 22.0
2025-04-14 15:29:21,889 - model        -add_exchange_rate   - DEBUG    - Курс обмена USD -> IDR успешно добавлен
2025-04-14 15:29:21,936 - controller   -add_exchange_rate   - INFO     - Курс обмена USD -> IDR успешно добавлен
2025-04-14 15:29:21,967 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> IDR
2025-04-14 15:29:22,092 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 12
2025-04-14 15:29:22,140 - controller   -add_exchange_rate   - DEBUG    - Курс обмена USD -> IDR: {'from': 'USD', 'to': 'IDR', 'rate': 22.0, 'id': 12}
2025-04-14 15:29:22,170 - controller   -add_exchange_rate   - INFO     - Курс обмена USD -> IDR успешно получен result = {'from': 'USD', 'to': 'IDR', 'rate': 22.0, 'id': 12}
2025-04-14 15:29:22,202 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 15:29:22,309 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 15:29:22,356 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-14 15:29:22,449 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-14 15:29:22,496 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 12, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': None, 'rate': 22.0}
2025-04-14 15:29:22,527 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 12, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': None, 'rate': 22.0}
2025-04-14 15:30:22,664 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:30:23,583 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:30:23,584 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:30:23,584 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:30:23,584 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:30:23,585 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:30:23,585 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:30:23,585 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:30:33,209 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 15:30:33,240 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:30:33,270 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:30:35,109 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 15:30:35,141 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 15:30:35,172 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:30:35,203 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'IDR', 'rate': '22'}
2025-04-14 15:30:35,233 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'IDR', 'rate': '22'}, query_params={}, response=None)
2025-04-14 15:30:35,264 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 15:30:35,295 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 15:30:35,326 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 15:30:35,357 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 15:30:35,388 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'IDR', 'rate': '22'}
2025-04-14 15:30:35,419 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> IDR = 22.0
2025-04-14 15:30:35,529 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> IDR уже существует
2025-04-14 15:30:35,575 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 15:30:35,606 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 15:30:35,637 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 15:31:35,488 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:31:36,520 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:31:36,520 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:31:36,520 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:31:36,521 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:31:36,521 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:31:36,522 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:31:36,522 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:31:40,338 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 15:31:40,368 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:31:40,399 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:31:40,428 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 15:31:40,460 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 15:31:40,490 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:31:40,506 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'IDR', 'rate': '22'}
2025-04-14 15:31:40,537 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '23', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'IDR', 'rate': '22'}, query_params={}, response=None)
2025-04-14 15:31:40,568 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 15:31:40,599 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 15:31:40,630 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 15:31:40,678 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 15:31:40,708 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'IDR', 'rate': '22'}
2025-04-14 15:31:40,739 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> IDR = 22.0
2025-04-14 15:31:40,817 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> IDR уже существует
2025-04-14 15:31:40,864 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 15:31:40,894 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 15:31:40,924 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 15:32:08,615 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:32:09,645 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:32:09,646 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:32:09,646 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:32:09,647 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:32:09,647 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:32:09,647 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:32:09,647 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:32:13,651 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 15:32:13,666 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:32:13,667 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:32:13,667 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 15:32:13,668 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 15:32:13,668 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:32:13,682 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 15:32:13,697 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 15:32:13,728 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 15:32:13,759 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 15:32:13,789 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 15:32:13,820 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 15:32:13,942 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 15:32:13,973 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Path Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Path Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 15:32:14,034 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 15:32:20,021 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 15:32:20,052 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:32:20,084 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:32:21,888 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 15:32:21,918 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 15:32:21,948 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:32:21,979 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ALL', 'rate': '3'}
2025-04-14 15:32:22,009 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ALL', 'rate': '3'}, query_params={}, response=None)
2025-04-14 15:32:22,040 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 15:32:22,070 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 15:32:22,102 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 15:32:22,132 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 15:32:22,164 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ALL', 'rate': '3'}
2025-04-14 15:32:22,195 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ALL = 3.0
2025-04-14 15:32:22,333 - model        -add_exchange_rate   - DEBUG    - Курс обмена USD -> ALL успешно добавлен
2025-04-14 15:32:22,381 - controller   -add_exchange_rate   - INFO     - Курс обмена USD -> ALL успешно добавлен
2025-04-14 15:32:22,411 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-14 15:32:22,535 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 13
2025-04-14 15:32:22,581 - controller   -add_exchange_rate   - DEBUG    - Курс обмена USD -> ALL: {'from': 'USD', 'to': 'ALL', 'rate': 3.0, 'id': 13}
2025-04-14 15:32:22,612 - controller   -add_exchange_rate   - INFO     - Курс обмена USD -> ALL успешно получен result = {'from': 'USD', 'to': 'ALL', 'rate': 3.0, 'id': 13}
2025-04-14 15:32:22,643 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 15:32:22,768 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 15:32:22,814 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 15:32:22,922 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 15:32:22,969 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 13, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}
2025-04-14 15:32:23,001 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 13, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}
2025-04-14 15:32:52,859 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:32:53,942 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:32:53,943 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:32:53,943 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:32:53,944 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:32:53,944 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:32:53,944 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:32:53,944 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:32:58,301 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 15:32:58,332 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:32:58,363 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:32:58,394 - app_server   -do_POST             - INFO     - экземпляр класса Router  - <router.Router object at 0x000001FD0CA59010>
2025-04-14 15:32:58,425 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 15:32:58,455 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 15:32:58,486 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:32:58,517 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ALL', 'rate': '3'}
2025-04-14 15:32:58,548 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ALL', 'rate': '3'}, query_params={}, response=None)
2025-04-14 15:32:58,579 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 15:32:58,610 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 15:32:58,641 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 15:32:58,672 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 15:32:58,704 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ALL', 'rate': '3'}
2025-04-14 15:32:58,735 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ALL = 3.0
2025-04-14 15:32:58,797 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ALL уже существует
2025-04-14 15:32:58,798 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 15:32:58,812 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 15:32:58,843 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 15:33:53,548 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:33:54,538 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:33:54,539 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:33:54,539 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:33:54,540 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:33:54,540 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:33:54,540 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:33:54,540 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:34:06,888 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 15:34:06,919 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:34:06,951 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:34:06,981 - app_server   -do_POST             - INFO     - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000027A1EFFD160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000027A1EFC5450>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000027A1EFC56D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000027A1EA03950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000027A1EA03BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000027A1F018050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000027A1EA51480>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000027A1EA52470>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000027A1EFC0B50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000027A1EFC0C50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000027A1EA632F0>>}}
2025-04-14 15:34:07,012 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 15:34:07,044 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 15:34:07,074 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:34:07,105 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 15:34:07,136 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 15:34:07,166 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 15:34:07,198 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 15:34:07,230 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 15:34:07,260 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 15:34:07,291 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 15:34:07,321 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 15:34:07,461 - model        -add_exchange_rate   - DEBUG    - Курс обмена USD -> ZAR успешно добавлен
2025-04-14 15:34:07,509 - controller   -add_exchange_rate   - INFO     - Курс обмена USD -> ZAR успешно добавлен
2025-04-14 15:34:07,540 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ZAR
2025-04-14 15:34:07,679 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 14
2025-04-14 15:34:07,727 - controller   -add_exchange_rate   - DEBUG    - Курс обмена USD -> ZAR: {'from': 'USD', 'to': 'ZAR', 'rate': 3.0, 'id': 14}
2025-04-14 15:34:07,758 - controller   -add_exchange_rate   - INFO     - Курс обмена USD -> ZAR успешно получен result = {'from': 'USD', 'to': 'ZAR', 'rate': 3.0, 'id': 14}
2025-04-14 15:34:07,789 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 15:34:07,912 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 15:34:07,958 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-14 15:34:08,051 - model        -get_currency_by_code- WARNING  - Валюта с кодом ZAR не найдена
2025-04-14 15:34:08,112 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 14, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': None, 'rate': 3.0}
2025-04-14 15:34:08,144 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 14, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': None, 'rate': 3.0}
2025-04-14 15:54:44,839 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 15:54:44,870 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:54:44,901 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:54:44,931 - app_server   -do_PATCH            - INFO     - экземпляр класса Router  - <router.Router object at 0x0000027A1EFC56D0>
2025-04-14 15:54:44,962 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 15:54:44,992 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 15:54:45,023 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:54:47,715 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:55:41,469 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:55:41,469 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:55:41,469 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:55:41,470 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:55:41,470 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:55:41,470 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:55:41,470 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:55:45,338 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 15:55:45,369 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:55:45,400 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:55:45,401 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001D2888DD160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001D2888A5450>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001D2888A56D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001D2883C3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001D2883C3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001D2888F8050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001D288411480>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001D288412470>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001D2888A0B50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001D2888A0C50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D2884233E0>>}}
2025-04-14 15:55:45,431 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 15:55:45,462 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 15:55:45,493 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:55:48,531 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 15:57:16,079 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 15:57:16,079 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 15:57:16,079 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 15:57:16,080 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 15:57:16,080 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 15:57:16,081 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 15:57:16,081 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 15:57:22,118 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 15:57:22,149 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 15:57:22,179 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 15:57:22,211 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000022AC7CD1160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000022AC7C95310>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000022AC7C95590>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000022AC7773950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000022AC7773BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000022AC7CE8050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000022AC77C16A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000022AC77C2250>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000022AC779EF50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000022AC779FB50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000022AC77D6A80>>}}
2025-04-14 15:57:22,242 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 15:57:22,272 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 15:57:22,304 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 15:57:22,335 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 15:57:22,365 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 15:57:22,396 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 15:57:22,427 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 15:57:22,459 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 15:57:22,489 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 15:57:22,520 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 15:57:22,552 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 15:57:22,646 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 15:57:22,692 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 15:57:22,723 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 15:57:22,753 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:00:06,125 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:00:07,436 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:00:07,436 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:00:07,436 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:00:07,437 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:00:07,437 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:00:07,437 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:00:07,438 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:00:10,212 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:00:10,243 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:00:10,275 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:00:10,291 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000261EBD51160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000261EBD151D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000261EBD15450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000261EB733820>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000261EB733A80>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000261EBD6C050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000261EB7A16A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000261EB7A2250>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000261EB786F50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000261EB787B50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000261EB72C500>>}}
2025-04-14 16:00:10,320 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:00:10,351 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:00:10,382 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:00:10,412 - router       -_parse_body         - DEBUG    - Тело запроса: {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:00:32,761 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:00:40,261 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:00:40,262 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:00:40,262 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:00:40,263 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:00:40,263 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:00:40,264 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:00:40,264 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:00:45,993 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 16:00:46,024 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:00:46,054 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:00:46,086 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001B6134A1160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001B613465310>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001B613465590>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001B612E83950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001B612E83BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001B6134B8050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001B612ED16A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001B612ED2250>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001B612EAEF50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001B612EAFB50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001B612EE6A80>>}}
2025-04-14 16:00:46,116 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 16:00:46,147 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 16:00:46,177 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:00:46,208 - router       -_parse_body         - DEBUG    - Тело запроса: from=USD&to=ZAR&rate=3
2025-04-14 16:00:46,238 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:00:46,268 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 16:00:46,299 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 16:00:46,331 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 16:00:46,361 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 16:00:46,393 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 16:00:46,424 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:00:46,454 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 16:00:46,564 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 16:00:46,609 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 16:00:46,641 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 16:00:46,671 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:01:04,679 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:01:04,709 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:01:04,741 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:01:04,771 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001B612E7C5F0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001B6134B8130>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001B6134B8210>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001B613486340>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001B612E6A690>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001B612E6A750>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001B612ECF120>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001B612ECF330>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001B6134AA850>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001B6134AA990>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001B612EC7410>>}}
2025-04-14 16:01:04,802 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:01:04,834 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:01:04,865 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:01:04,896 - router       -_parse_body         - DEBUG    - Тело запроса: {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:01:06,055 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:01:06,084 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:01:06,115 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:01:06,146 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001B61349A450>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001B6134CE350>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001B612F27CB0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001B613478050>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001B613469250>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001B6134692B0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001B6134B0EB0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001B6134C0B40>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001B6134DA0D0>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001B6134DAEE0>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001B6134DAE90>>}}
2025-04-14 16:01:06,177 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:01:06,207 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:01:06,238 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:01:06,269 - router       -_parse_body         - DEBUG    - Тело запроса: {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:01:07,366 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:08:23,732 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:08:23,732 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:08:23,732 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:08:23,733 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:08:23,733 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:08:23,733 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:08:23,733 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:08:27,990 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:08:28,020 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:08:28,051 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:08:28,082 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000022CCC2F1160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000022CCC2B51D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000022CCC2B5450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000022CCBD33820>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000022CCBD33A80>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000022CCC308050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000022CCBDA16A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000022CCBDA2250>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000022CCBD86F50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000022CCBD87B50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000022CCBD2C500>>}}
2025-04-14 16:08:28,112 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:08:28,144 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:08:28,174 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:08:28,205 - router       -_parse_body         - DEBUG    - Тело запроса: {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:10:00,083 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:10:01,123 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:10:01,123 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:10:01,124 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:10:01,124 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:10:01,125 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:10:01,125 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:10:01,125 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:10:04,890 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 16:10:04,919 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:10:04,950 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:10:04,981 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000019A5F9C1160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000019A5F9851D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000019A5F985450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000019A5F3A3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000019A5F3A3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000019A5F9D8050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000019A5F4116A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000019A5F412250>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000019A5F3F6F50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000019A5F3F7B50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000019A5F39C500>>}}
2025-04-14 16:10:05,012 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 16:10:05,043 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 16:10:05,074 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:10:05,105 - router       -_parse_body         - DEBUG    - Тело запроса: from=USD&to=ZAR&rate=3, <class 'str'>
2025-04-14 16:10:05,135 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:10:05,167 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 16:10:05,198 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 16:10:05,229 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 16:10:05,260 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 16:10:05,292 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 16:10:05,323 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:10:05,353 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 16:10:05,445 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 16:10:05,491 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 16:10:05,522 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 16:10:05,552 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:10:16,487 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:10:16,517 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:10:16,549 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:10:16,581 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000019A5F39C500>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000019A5F9D8130>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000019A5F9D8210>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000019A5F9AA270>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000019A5F38A690>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000019A5F38A750>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000019A5F40B120>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000019A5F40B330>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000019A5F9CA850>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000019A5F9CA990>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000019A5F4034A0>>}}
2025-04-14 16:10:16,611 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:10:16,643 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:10:16,674 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:10:16,704 - router       -_parse_body         - DEBUG    - Тело запроса: {"from":"USD","to":"ZAR","rate":"1"}, <class 'str'>
2025-04-14 16:10:17,847 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:10:17,878 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:10:17,908 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:10:17,940 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000019A5F9BA450>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000019A5F9EE150>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000019A5F437CB0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000019A5F998050>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000019A5F9891F0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000019A5F989250>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000019A5F9D0EB0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000019A5F9E0B40>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000019A5F9FA0D0>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000019A5F9FAF80>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000019A5F9FAF30>>}}
2025-04-14 16:10:17,988 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:10:18,018 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:10:18,049 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:10:18,081 - router       -_parse_body         - DEBUG    - Тело запроса: {"from":"USD","to":"ZAR","rate":"1"}, <class 'str'>
2025-04-14 16:10:19,754 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:15:37,627 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:15:37,627 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:15:37,627 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:15:37,628 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:15:37,628 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:15:37,629 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:15:37,629 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:15:41,828 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:15:41,858 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:15:41,890 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:15:41,921 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001567FD11160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001567FCD51D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001567FCD5450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001567F7D3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001567F7D3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001567FD28050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001567F8416A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001567F842250>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001567F826F50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001567F827B50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001567F7CC500>>}}
2025-04-14 16:15:41,951 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:15:41,981 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:15:42,012 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:15:42,043 - router       -_parse_body         - DEBUG    - Тело запроса: {"from":"USD","to":"ZAR","rate":"1"}, <class 'str'>, {"fr
2025-04-14 16:15:44,965 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:20:12,770 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:20:12,770 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:20:12,770 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:20:12,771 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:20:12,771 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:20:12,772 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:20:12,772 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:20:17,684 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:20:17,714 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:20:17,747 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:20:17,776 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001F40185D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001F4018651D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001F401865450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001F47FF33950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001F47FF33BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001F4018AC050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001F47FFAFAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001F47FFAFCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001F401858A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001F401858D50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001F47FF2F4D0>>}}
2025-04-14 16:20:17,808 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:20:17,840 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:20:17,870 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:20:31,648 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:20:32,721 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:20:32,722 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:20:32,722 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:20:32,722 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:20:32,723 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:20:32,723 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:20:32,723 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:20:36,878 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:20:36,879 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:20:36,879 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:20:36,894 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001AABB16D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001AABB1751D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001AABB175450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001AABAC63950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001AABAC63BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001AABB1C0050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001AABACDFAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001AABACDFCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001AABB168A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001AABB168D50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001AABAC5F4D0>>}}
2025-04-14 16:20:36,926 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:20:36,957 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:20:36,957 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:20:36,972 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}, <class 'dict'>
2025-04-14 16:22:05,564 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:22:06,836 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:22:06,837 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:22:06,837 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:22:06,837 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:22:06,838 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:22:06,838 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:22:06,838 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:22:11,616 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:22:11,647 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:22:11,678 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRates')])
2025-04-14 16:22:11,708 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000016D474DD160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000016D474E51D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000016D474E5450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000016D46F73950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000016D46F73BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000016D4752C050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000016D46FEFAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000016D46FEFCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000016D474D8A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000016D474D8D50>>, ('PATH', '/exchangeRates'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000016D46F6F4D0>>}}
2025-04-14 16:22:11,737 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:22:11,769 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:22:11,799 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:22:11,830 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}, <class 'dict'>
2025-04-14 16:22:11,860 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:22:11,891 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:22:11,921 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:22:11,952 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: None
2025-04-14 16:22:11,983 - router       -resolve             - WARNING  - Маршрут не найден: PATCH /exchangeRate
2025-04-14 16:22:12,014 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-14 16:22:12,045 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-14 16:27:43,880 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:27:45,156 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:27:45,156 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:27:45,156 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:27:45,157 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:27:45,157 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:27:45,158 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:27:45,158 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:27:49,891 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:27:49,922 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:27:49,954 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRate')])
2025-04-14 16:27:49,985 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000014E17E1D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000014E17E251D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000014E17E25450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000014E17853950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000014E17853BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000014E17E70050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000014E178CFAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000014E178CFCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000014E17E18A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000014E17E18D50>>, ('PATH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000014E1784F4D0>>}}
2025-04-14 16:27:50,015 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:27:50,046 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:27:50,077 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:27:50,107 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}, <class 'dict'>
2025-04-14 16:27:50,138 - router       -_parse_body         - DEBUG    - Тело запроса после парсинга: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:27:50,169 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:27:50,200 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:27:50,230 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: None
2025-04-14 16:27:50,261 - router       -resolve             - WARNING  - Маршрут не найден: PATCH /exchangeRate
2025-04-14 16:27:50,292 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-14 16:27:50,323 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-14 16:32:39,009 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:32:40,203 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:32:40,203 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:32:40,203 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:32:40,204 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:32:40,204 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:32:40,205 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:32:40,205 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:32:44,030 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:32:44,061 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:32:44,092 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRate')])
2025-04-14 16:32:44,123 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002880BD3D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002880BD451D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002880BD45450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002880B833950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002880B833BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002880BD8C050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002880B8AFAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002880B8AFCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002880BD38A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002880BD38D50>>, ('PATH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002880B82F4D0>>}}
2025-04-14 16:32:44,153 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:32:44,184 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:32:44,215 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:32:44,245 - router       -_parse_body         - DEBUG    - Тело запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}, <class 'dict'>
2025-04-14 16:32:44,275 - router       -_parse_body         - DEBUG    - Тело запроса после парсинга: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:32:44,307 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:32:44,336 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:32:44,368 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: None
2025-04-14 16:32:44,399 - router       -resolve             - WARNING  - Маршрут не найден: PATCH /exchangeRate
2025-04-14 16:32:44,430 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-14 16:32:44,459 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-14 16:33:57,446 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 16:33:57,475 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:33:57,506 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRate')])
2025-04-14 16:33:57,552 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002880B8BE990>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002880BD8C050>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002880BD8C210>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002880BD661A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002880B81A5D0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002880B81A810>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002880B8A3280>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002880B8A33E0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002880BD7A8F0>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002880BD7AAD0>>, ('PATH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002880B88EC30>>}}
2025-04-14 16:33:57,583 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 16:33:57,614 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 16:33:57,646 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:42:02,898 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:42:03,830 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:42:03,831 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:42:03,831 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:42:03,832 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:42:03,832 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:42:03,832 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:42:03,832 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:42:12,426 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 16:42:12,457 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:42:12,473 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRate')])
2025-04-14 16:42:12,488 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001D7DC34D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001D7DC3551D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001D7DC355450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001D7DBD43820>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001D7DBD43A80>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001D7DC3A0050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001D7DBDBFAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001D7DBDBFCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001D7DC348A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001D7DC348D50>>, ('PATH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D7DBD3F4D0>>}}
2025-04-14 16:42:12,519 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 16:42:12,535 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 16:42:12,550 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:42:12,580 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): from=USD&to=ZAR&rate=3
2025-04-14 16:42:12,611 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:42:12,642 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 16:42:12,672 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 16:42:12,704 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 16:42:12,734 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 16:42:12,765 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 16:42:12,796 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:42:12,826 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 16:42:12,934 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 16:42:12,980 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 16:42:13,012 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 16:42:13,042 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:42:17,428 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:42:17,458 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:42:17,489 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRate')])
2025-04-14 16:42:17,520 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001D7DBDCE990>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001D7DC3A0130>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001D7DC3A0210>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001D7DC3761A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001D7DBD2A5D0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001D7DBD2A990>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001D7DBDB31D0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001D7DBDB33E0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001D7DC38AA30>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001D7DC38AB70>>, ('PATH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D7DBD9EC30>>}}
2025-04-14 16:42:17,565 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:42:17,597 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:42:17,628 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:42:17,659 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:42:17,691 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:42:17,722 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:42:17,753 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:42:17,784 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: None
2025-04-14 16:42:17,815 - router       -resolve             - WARNING  - Маршрут не найден: PATCH /exchangeRate
2025-04-14 16:42:17,846 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-14 16:42:17,876 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-14 16:44:35,144 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:44:36,151 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:44:36,152 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:44:36,152 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:44:36,153 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:44:36,153 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:44:36,153 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:44:36,153 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:44:38,703 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:44:38,734 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:44:38,766 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRate')])
2025-04-14 16:44:38,795 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002617E541160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002617E5451D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002617E545450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002617DFE3820>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002617DFE3A80>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002617E590050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002617E05FAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002617E05FCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002617E538A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002617E538D50>>, ('PATH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002617DFDF4D0>>}}
2025-04-14 16:44:38,827 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:44:38,873 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:44:38,904 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:44:38,935 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:44:38,967 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:44:38,998 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:44:39,045 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:44:39,075 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 16:44:39,106 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: None
2025-04-14 16:44:39,136 - router       -resolve             - WARNING  - Маршрут не найден: PATCH /exchangeRate
2025-04-14 16:44:39,166 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-14 16:44:39,197 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-14 16:46:06,948 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:46:07,863 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:46:07,863 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:46:07,864 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:46:07,864 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:46:07,865 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:46:07,865 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:46:07,865 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:46:13,094 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:46:13,123 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:46:13,155 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATH', '/exchangeRate')])
2025-04-14 16:46:13,169 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000024C189E1160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000024C189E51D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000024C189E5450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000024C183F3820>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000024C183F3A80>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000024C18A30050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000024C1846FAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000024C1846FCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000024C189D8A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000024C189D8D50>>, ('PATH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000024C183EF4D0>>}}
2025-04-14 16:46:13,201 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:46:13,231 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:46:13,263 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:46:13,294 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:46:13,324 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:46:13,354 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:46:13,386 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:46:13,416 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 16:46:13,446 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: None
2025-04-14 16:46:13,493 - router       -resolve             - WARNING  - Маршрут не найден: PATCH /exchangeRate
2025-04-14 16:46:13,523 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-14 16:46:13,553 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-14 16:47:20,640 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:47:21,534 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:47:21,535 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:47:21,535 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:47:21,535 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:47:21,536 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:47:21,536 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:47:21,536 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:47:23,974 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:47:24,005 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:47:24,036 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:47:24,067 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000017E40B41160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000017E40B451D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000017E40B45450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000017E405A3820>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000017E405A3A80>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000017E40B90050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000017E4061FAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000017E4061FCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000017E40B38A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000017E40B38D50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017E4059F4D0>>}}
2025-04-14 16:47:24,098 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:47:24,129 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:47:24,160 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:47:24,191 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:47:24,222 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:47:24,253 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:47:24,300 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:47:24,332 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017E4059F4D0>>
2025-04-14 16:47:24,362 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 16:47:24,392 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 16:47:24,423 - controller   -update_exchange_rate- INFO     - Просмотр курса обмена
2025-04-14 16:47:24,453 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {}
2025-04-14 16:47:24,483 - controller   -update_exchange_rate- WARNING  - Отсутствуют обязательные поля для просмотра курса обмена
2025-04-14 16:47:24,514 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Missing required fields'}
2025-04-14 16:47:24,546 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Missing required fields'}
2025-04-14 16:47:55,345 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 16:47:55,375 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:47:55,407 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:47:55,437 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000017E4062E990>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000017E40B90130>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000017E40B90210>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000017E40B661A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000017E4058A690>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000017E4058A8D0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000017E40613330>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000017E40613490>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000017E40B7A990>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000017E40B7AB70>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017E405FEC30>>}}
2025-04-14 16:47:55,467 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 16:47:55,497 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 16:47:55,527 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:47:55,559 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): from=USD&to=ZAR&rate=3
2025-04-14 16:47:55,591 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:47:55,621 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 16:47:55,652 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 16:47:55,683 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000017E4058A690>>
2025-04-14 16:47:55,713 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 16:47:55,745 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 16:47:55,775 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 16:47:55,805 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:47:55,836 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 16:47:55,912 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 16:47:55,975 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 16:47:56,005 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 16:47:56,036 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:48:49,845 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:48:51,125 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:48:51,125 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:48:51,125 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:48:51,126 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:48:51,126 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:48:51,127 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:48:51,127 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:48:56,334 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 16:48:56,366 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:48:56,381 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:48:56,396 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002B834839160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002B834825590>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002B834825810>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002B834323950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002B834323BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002B83480FE30>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002B83439BAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002B83439BCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002B834830A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002B834830D50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002B83431F4D0>>}}
2025-04-14 16:48:56,427 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 16:48:56,458 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 16:48:56,490 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:48:56,520 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): from=USD&to=ZAR&rate=3
2025-04-14 16:48:56,552 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:48:56,583 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 16:48:56,614 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 16:48:56,644 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002B834323BB0>>
2025-04-14 16:48:56,675 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 16:48:56,705 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 16:48:56,736 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 16:48:56,767 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 16:48:56,798 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 16:48:56,875 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 16:48:56,921 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 16:48:56,952 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 16:48:56,984 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:49:02,093 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:49:02,124 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:49:02,156 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:49:02,187 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002B8343AE990>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002B834880130>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002B834880210>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002B8348561A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002B83430A5D0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002B83430A990>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002B8343931D0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002B8343933E0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002B83486AA30>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002B83486AB70>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002B83436AC30>>}}
2025-04-14 16:49:02,217 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:49:02,248 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:49:02,279 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:49:02,309 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:49:02,340 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:49:02,372 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:49:02,403 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:49:02,434 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002B83436AC30>>
2025-04-14 16:49:02,465 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 16:49:02,496 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 16:49:02,527 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 16:49:02,558 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:49:02,589 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 1.0
2025-04-14 16:49:02,697 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 16:49:02,742 - controller   -update_exchange_rate- ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 16:49:02,774 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 16:49:02,805 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:57:16,367 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:57:18,269 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:57:18,269 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:57:18,269 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:57:18,270 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:57:18,270 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:57:18,271 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:57:18,271 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:57:20,850 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:57:20,881 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:57:20,896 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:57:20,912 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001D1CDB05010>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001D1CDAD91D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001D1CDAD9450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001D1CD56FBB0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001D1CD56FE10>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001D1CDAAFBF0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001D1CD5CBAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001D1CD5CBCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001D1CDAD0850>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001D1CDAD0B50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D1CD5734D0>>}}
2025-04-14 16:57:20,944 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:57:20,975 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:57:21,006 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:57:21,036 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:57:21,067 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:57:21,098 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:57:21,129 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:57:21,160 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D1CD5734D0>>
2025-04-14 16:57:21,191 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 16:57:21,222 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 16:57:21,253 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 16:57:21,284 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:57:21,314 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 1.0
2025-04-14 16:57:21,437 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 16:57:21,484 - controller   -update_exchange_rate- ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 16:57:21,515 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 16:57:21,545 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 16:58:12,295 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 16:58:13,371 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 16:58:13,371 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 16:58:13,372 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 16:58:13,372 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 16:58:13,373 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 16:58:13,373 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 16:58:13,373 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 16:58:17,194 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 16:58:17,224 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:58:17,224 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:58:17,225 - app_server   -do_PATCH            - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001D51B449160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001D51B435590>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001D51B435810>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001D51AF33950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001D51AF33BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001D51B41FE30>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001D51AFABAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001D51AFABCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001D51B444A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001D51B444D50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D51AF2F4D0>>}}
2025-04-14 16:58:17,225 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 16:58:17,225 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 16:58:17,255 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:58:17,287 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"ZAR","rate":"1"}
2025-04-14 16:58:17,317 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:58:17,347 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '36', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '1'}, query_params={}, response=None)
2025-04-14 16:58:17,379 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 16:58:17,409 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D51AF2F4D0>>
2025-04-14 16:58:17,440 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 16:58:17,470 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 16:58:17,502 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 16:58:17,532 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '1'}
2025-04-14 16:58:17,564 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> ZAR = 1.0
2025-04-14 16:58:17,766 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> ZAR успешно обновлен
2025-04-14 16:58:17,844 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> ZAR успешно добавлен
2025-04-14 16:58:17,875 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ZAR
2025-04-14 16:58:17,999 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 14
2025-04-14 16:58:18,045 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> ZAR: {'from': 'USD', 'to': 'ZAR', 'rate': 1.0, 'id': 14}
2025-04-14 16:58:18,077 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> ZAR успешно получен result = {'from': 'USD', 'to': 'ZAR', 'rate': 1.0, 'id': 14}
2025-04-14 16:58:18,108 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 16:58:18,232 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 16:58:18,278 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-14 16:58:18,372 - model        -get_currency_by_code- WARNING  - Валюта с кодом ZAR не найдена
2025-04-14 16:58:18,419 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 14, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': None, 'rate': 1.0}
2025-04-14 16:58:18,450 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 14, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': None, 'rate': 1.0}
2025-04-14 16:58:47,608 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 16:58:47,638 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:58:47,670 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:58:47,701 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 16:58:47,731 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 16:58:47,762 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:58:47,793 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 16:58:47,823 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 16:58:47,854 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 16:58:47,885 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x000001D51AF2F4D0>>
2025-04-14 16:58:47,916 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 16:58:47,947 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 16:58:47,977 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 16:58:48,008 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 16:58:48,223 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 16:58:48,269 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 16:58:48,301 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 16:58:48,332 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 16:58:48,363 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 16:59:46,114 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 16:59:46,145 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 16:59:46,175 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 16:59:46,205 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 16:59:46,236 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 16:59:46,267 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 16:59:46,298 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 16:59:46,329 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 16:59:46,360 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 16:59:46,391 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x000001D5192FC6D0>>
2025-04-14 16:59:46,422 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 16:59:46,452 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 16:59:46,482 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 16:59:46,514 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 16:59:46,605 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 16:59:46,651 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 16:59:46,683 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 16:59:46,715 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 16:59:46,745 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:00:07,752 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 17:00:07,782 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:00:07,813 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:00:07,844 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001D51B489590>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001D51B489720>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001D51B489770>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001D51B489630>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001D51B4894F0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001D51B489270>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001D51B489900>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001D51B489950>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001D51B4899A0>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001D51B489A40>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001D51B489AE0>>}}
2025-04-14 17:00:07,875 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 17:00:07,907 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 17:00:07,938 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:00:07,968 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): from=USD&to=ZAR&rate=3
2025-04-14 17:00:07,998 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 17:00:08,029 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 17:00:08,060 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 17:00:08,091 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001D51B4894F0>>
2025-04-14 17:00:08,123 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 17:00:08,154 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 17:00:08,185 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 17:00:08,216 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 17:00:08,247 - model        -add_exchange_rate   - INFO     - Добавление курса обмена: USD -> ZAR = 3.0
2025-04-14 17:00:08,339 - model        -add_exchange_rate   - WARNING  - Курс обмена USD -> ZAR уже существует
2025-04-14 17:00:08,386 - controller   -add_exchange_rate   - ERROR    - Ошибка при добавлении курса обмена: Exchange rate already exists
2025-04-14 17:00:08,417 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate already exists'}
2025-04-14 17:00:08,447 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate already exists'}
2025-04-14 17:03:53,232 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:03:54,767 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:03:54,768 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:03:54,768 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:03:54,769 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:03:54,769 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:03:54,769 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:03:54,769 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:04:01,371 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 17:04:01,402 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:04:01,432 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:04:01,463 - app_server   -do_POST             - DEBUG    - экземпляр класса Router  - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001FA4DFB9160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001FA4DFA5590>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001FA4DFA5810>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001FA4DAA3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001FA4DAA3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001FA4DF8FE30>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001FA4DB1BAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001FA4DB1BCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001FA4DFB4A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001FA4DFB4D50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001FA4DA9F5C0>>}}
2025-04-14 17:04:01,493 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 17:04:01,524 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 17:04:01,554 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:04:01,585 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): from=USD&to=ZAR&rate=3
2025-04-14 17:04:01,616 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 17:04:01,647 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 17:04:01,677 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 17:04:01,708 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001FA4DAA3BB0>>
2025-04-14 17:04:01,740 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 17:04:01,771 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 17:04:01,802 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 17:04:01,832 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 17:04:01,863 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:04:01,971 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:04:02,017 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-14 17:04:02,094 - model        -get_currency_by_code- WARNING  - Валюта с кодом ZAR не найдена
2025-04-14 17:04:02,141 - controller   -add_exchange_rate   - WARNING  - Одна или обе валюты не найдены: USD, ZAR
2025-04-14 17:04:02,172 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'One or both currencies not found'}
2025-04-14 17:04:02,203 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'One or both currencies not found'}
2025-04-14 17:07:47,340 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:08:03,928 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:08:03,928 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:08:03,928 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:08:03,929 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:08:03,929 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:08:03,930 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:08:03,930 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:08:08,586 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-14 17:08:08,616 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:08:08,648 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:08:08,678 - app_server   -do_POST             - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000222924B9160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000222924A9450>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000222924A96D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000022291FC3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000022291FC3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000222924E8290>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002229201FAC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002229201FCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000222924B4A50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000222924B4D50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000022291FBF5C0>>}}
2025-04-14 17:08:08,709 - router       -handle_request      - INFO     - Обработка запроса: POST /exchangeRates
2025-04-14 17:08:08,741 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 17:08:08,771 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:08:08,803 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): from=USD&to=ZAR&rate=3
2025-04-14 17:08:08,834 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 17:08:08,864 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '22', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Origin': 'http://localhost:8000', 'Content-Type': 'application/x-www-form-urlencoded', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'ZAR', 'rate': '3'}, query_params={}, response=None)
2025-04-14 17:08:08,896 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /exchangeRates
2025-04-14 17:08:08,928 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000022291FC3BB0>>
2025-04-14 17:08:08,958 - router       -resolve             - DEBUG    - Обработчик для маршрута POST /exchangeRates: add_exchange_rate
2025-04-14 17:08:08,990 - router       -resolve             - INFO     - Маршрут найден: POST /exchangeRates
2025-04-14 17:08:09,020 - controller   -add_exchange_rate   - INFO     - Добавление нового курса обмена
2025-04-14 17:08:09,052 - controller   -add_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'ZAR', 'rate': '3'}
2025-04-14 17:08:09,082 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:08:09,223 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:08:09,269 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-14 17:08:09,365 - model        -get_currency_by_code- WARNING  - Валюта с кодом ZAR не найдена
2025-04-14 17:08:09,410 - controller   -add_exchange_rate   - WARNING  - Одна или обе валюты не найдены: USD, ZAR
2025-04-14 17:08:09,441 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'One or both currencies not found'}
2025-04-14 17:09:32,454 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:09:32,484 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:09:32,516 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:09:32,546 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:09:32,578 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:09:32,608 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:09:32,638 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:09:32,670 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:09:32,700 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:09:32,731 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x000002229202EA80>>
2025-04-14 17:09:32,762 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:09:32,792 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:09:32,824 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:09:32,856 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:09:32,994 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 17:09:33,041 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:09:33,073 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:09:34,422 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:09:34,452 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:09:34,483 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:09:34,514 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:09:34,546 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:09:34,577 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:09:34,607 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:09:34,638 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:09:34,669 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:09:34,699 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x0000022292512250>>
2025-04-14 17:09:34,729 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:09:34,761 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:09:34,792 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:09:34,822 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:09:34,990 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 17:09:35,037 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:09:35,068 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:09:35,685 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:09:35,716 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:09:35,747 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:09:35,779 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:09:35,809 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:09:35,840 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:09:35,872 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:09:35,902 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:09:35,934 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:09:35,965 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x00000222924F9270>>
2025-04-14 17:09:35,995 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:09:36,027 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:09:36,059 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:09:36,089 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:09:36,245 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 17:09:36,293 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:09:36,322 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:14:47,133 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:14:47,163 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:14:47,195 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:14:47,225 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:14:47,256 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:14:47,287 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:14:47,318 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:14:47,350 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:14:47,381 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:14:47,412 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x00000222924F9270>>
2025-04-14 17:14:47,443 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:14:47,474 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:14:47,505 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:14:47,536 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:14:47,797 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 17:14:47,843 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:14:47,874 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:14:49,223 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:14:49,254 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:14:49,284 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:14:49,316 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:14:49,346 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:14:49,379 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:14:49,408 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:14:49,440 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:14:49,472 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:14:49,502 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x00000222924F9720>>
2025-04-14 17:14:49,532 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:14:49,563 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:14:49,593 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:14:49,623 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:14:49,763 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 17:14:49,809 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:14:49,841 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:14:59,952 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:14:59,967 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:14:59,967 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:14:59,982 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:15:00,012 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:15:00,043 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:15:00,058 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:15:00,088 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:15:00,118 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:15:00,149 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x000002229251EC10>>
2025-04-14 17:15:00,181 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:15:00,211 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:15:00,242 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:15:00,412 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:15:00,442 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:15:01,064 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:15:01,094 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:15:01,125 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:15:01,157 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:15:01,188 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:15:01,219 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:15:01,250 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:15:01,281 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:15:01,312 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:15:01,343 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x000002229251F1B0>>
2025-04-14 17:15:01,374 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:15:01,405 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:15:01,436 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:15:01,560 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:15:01,590 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:15:02,932 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:15:02,963 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:15:02,993 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:15:03,024 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:15:03,054 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:15:03,085 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:15:03,115 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:15:03,146 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:15:03,177 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:15:03,208 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x000002229251ED00>>
2025-04-14 17:15:03,238 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:15:03,269 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:15:03,299 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:15:03,440 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:15:03,471 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:15:04,102 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:15:04,132 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:15:04,164 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:15:04,195 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:15:04,226 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:15:04,257 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:15:04,288 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:15:04,319 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:15:04,350 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:15:04,380 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x000002229251EFD0>>
2025-04-14 17:15:04,411 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:15:04,442 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:15:04,473 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:15:04,597 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:15:04,627 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:15:09,948 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:15:09,979 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:15:10,010 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:15:10,040 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:15:10,072 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:15:10,103 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:15:10,134 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:15:10,165 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:15:10,197 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:15:10,227 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x000002229251EDF0>>
2025-04-14 17:15:10,258 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:15:10,289 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:15:10,319 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:15:10,460 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:15:10,491 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:15:11,110 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:15:11,141 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:15:11,173 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:15:11,204 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:15:11,235 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:15:11,265 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:15:11,295 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:15:11,326 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:15:11,356 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:15:11,387 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x000002229251EF30>>
2025-04-14 17:15:11,418 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:15:11,449 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:15:11,480 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:15:11,619 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:15:11,649 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`Success: ${JSON.stringify(result)}`);
                } else {
                    const error = await response.json();
                    alert(`Error: ${JSON.stringify(error)}`);
                }
            } catch (err) {
                console.error('Error:', err);
                alert('An error occurred while sending the request.');
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:15:13,305 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:16:00,651 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:16:00,652 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:16:00,652 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:16:00,653 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:16:00,653 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:16:00,653 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:16:00,653 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:16:01,321 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:16:01,351 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:16:01,382 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:16:01,413 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:16:01,444 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:16:01,474 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:16:01,506 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:16:01,537 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:16:01,568 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:16:01,599 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x000001153220D160>>
2025-04-14 17:16:01,630 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:16:01,661 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:16:01,692 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:16:01,724 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:16:01,971 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 17:16:02,017 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:16:02,048 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:16:03,775 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:16:03,805 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:16:03,851 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:16:03,882 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:16:03,914 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:16:03,945 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:16:03,975 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:16:04,006 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:16:04,037 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:16:04,068 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x0000011531D0EA80>>
2025-04-14 17:16:04,098 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:16:04,129 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:16:04,160 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:16:04,168 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:16:04,168 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:24:38,722 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:24:38,722 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:24:38,722 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:24:38,723 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:24:38,723 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:24:38,724 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:24:38,724 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:24:48,194 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:24:48,224 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:24:48,257 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:24:48,288 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 17:24:48,318 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 17:24:48,348 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:24:48,379 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:24:48,410 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:24:48,442 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 17:24:48,472 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x0000017C50AF5010>>
2025-04-14 17:24:48,503 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 17:24:48,534 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 17:24:48,564 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 17:24:48,596 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 17:24:48,902 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 17:24:48,948 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:24:48,978 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:24:49,009 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:24:49,040 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 17:24:57,222 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:24:57,252 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:24:57,283 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:24:57,314 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 17:24:57,345 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:24:57,376 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:24:57,407 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:24:57,438 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 17:24:57,469 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 17:24:57,499 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000017C5054EA50>>
2025-04-14 17:24:57,530 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 17:24:57,560 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 17:24:57,592 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 17:24:57,623 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:24:57,654 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:24:57,761 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:24:57,823 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-14 17:24:57,854 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:24:57,963 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:24:58,010 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:24:58,195 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:24:58,241 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 17:24:58,272 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:24:58,302 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 17:25:09,895 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:25:09,925 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:25:09,957 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:25:09,987 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000017C4E91C6D0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000017C50B02950>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000017C505FBF50>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000017C50B04830>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000017C50AF15B0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000017C50AF1730>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000017C50B35540>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000017C50B354F0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000017C50B35590>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000017C50B352C0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017C50B356D0>>}}
2025-04-14 17:25:10,018 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:25:10,049 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:25:10,079 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:25:10,111 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"RUB","rate":"1.3"}
2025-04-14 17:25:10,141 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'RUB', 'rate': '1.3'}
2025-04-14 17:25:10,171 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'RUB', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:25:10,203 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:25:10,233 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017C50B356D0>>
2025-04-14 17:25:10,263 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:25:10,295 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:25:10,325 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:25:10,357 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'RUB', 'rate': '1.3'}
2025-04-14 17:25:10,388 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-14 17:25:10,622 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 17:25:10,667 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> RUB успешно добавлен
2025-04-14 17:25:10,697 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-14 17:25:10,804 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-14 17:25:10,866 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 1.3, 'id': 1}
2025-04-14 17:25:10,897 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> RUB успешно получен result = {'from': 'USD', 'to': 'RUB', 'rate': 1.3, 'id': 1}
2025-04-14 17:25:10,928 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:25:11,083 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:25:11,145 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:25:11,252 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:25:11,298 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}
2025-04-14 17:25:11,329 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}
2025-04-14 17:25:36,336 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:25:36,368 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:25:36,398 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:25:36,430 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 17:25:36,460 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:25:36,492 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:25:36,539 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:25:36,570 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 17:25:36,601 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 17:25:36,632 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000017C50B358B0>>
2025-04-14 17:25:36,663 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 17:25:36,695 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 17:25:36,726 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 17:25:36,756 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:25:36,802 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:25:36,909 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:25:36,955 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 0.92, 'id': 2}
2025-04-14 17:25:36,986 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:25:37,109 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:25:37,154 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:25:37,340 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:25:37,386 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 17:25:37,418 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:25:37,448 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 0.92}
2025-04-14 17:25:41,632 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:25:41,664 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:25:41,695 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:25:41,726 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000017C50B357C0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000017C50B35860>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000017C50B35BD0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000017C50B35B30>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000017C50B35A90>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000017C50B35A40>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000017C50B35900>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000017C50B35950>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000017C50B35810>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000017C50B35310>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017C50B35680>>}}
2025-04-14 17:25:41,757 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:25:41,788 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:25:41,819 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:25:41,850 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"RUB","rate":"1.3"}
2025-04-14 17:25:41,880 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'RUB', 'rate': '1.3'}
2025-04-14 17:25:41,911 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'RUB', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:25:41,941 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:25:41,971 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017C50B35680>>
2025-04-14 17:25:42,003 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:25:42,033 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:25:42,065 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:25:42,096 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'RUB', 'rate': '1.3'}
2025-04-14 17:25:42,128 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-14 17:25:42,314 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 17:25:42,361 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> RUB успешно добавлен
2025-04-14 17:25:42,392 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-14 17:25:42,500 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-14 17:25:42,547 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> RUB: {'from': 'USD', 'to': 'RUB', 'rate': 1.3, 'id': 1}
2025-04-14 17:25:42,577 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> RUB успешно получен result = {'from': 'USD', 'to': 'RUB', 'rate': 1.3, 'id': 1}
2025-04-14 17:25:42,609 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:25:42,747 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:25:42,792 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:25:42,884 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:25:42,930 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}
2025-04-14 17:25:42,961 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}
2025-04-14 17:29:41,431 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:29:44,496 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:29:44,497 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:29:44,497 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:29:44,498 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:29:44,498 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:29:44,498 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:29:44,498 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:29:47,023 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:29:47,053 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:29:47,083 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:29:47,113 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:29:47,145 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:29:47,176 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:29:47,208 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:29:47,238 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:29:47,269 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:29:47,300 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x000002B31E67BCE0>>
2025-04-14 17:29:47,331 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:29:47,362 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:29:47,393 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:29:47,516 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:29:47,547 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                console.error('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                if (!response.ok) {
                    console.error('Error:', await response.json());
                }
            } catch (err) {
                console.error('Error:', err);
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:29:47,608 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 17:29:54,176 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:29:54,207 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:29:54,238 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:29:54,268 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002B31E61EA80>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002B31EC5C050>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002B31EC5C3D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002B31EC3A000>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002B31E60EA50>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002B31E60E990>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002B31E6731D0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002B31E6733E0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002B31EC46D50>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002B31EC46E90>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002B31E6669F0>>}}
2025-04-14 17:29:54,298 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:29:54,329 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:29:54,361 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:29:54,392 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.3"}
2025-04-14 17:29:54,423 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:29:54,455 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:29:54,485 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:29:54,517 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002B31E6669F0>>
2025-04-14 17:29:54,547 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:29:54,579 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:29:54,611 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:29:54,641 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:29:54,672 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.3
2025-04-14 17:29:54,874 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:29:54,920 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:29:54,952 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:29:55,074 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:29:55,121 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:29:55,151 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:29:55,181 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:29:55,306 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:29:55,368 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:29:55,475 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:29:55,521 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:29:55,551 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:30:11,892 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:30:11,923 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:30:11,954 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:30:11,985 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 17:30:12,017 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:30:12,047 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:30:12,078 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:30:12,109 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 17:30:12,140 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 17:30:12,170 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002B31EC1C110>>
2025-04-14 17:30:12,201 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 17:30:12,232 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 17:30:12,263 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 17:30:12,295 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:30:12,326 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:30:12,449 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:30:12,495 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:30:12,527 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:30:12,651 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:30:12,698 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:30:12,868 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:30:12,914 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:30:12,944 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:30:12,975 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:30:18,931 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:30:18,962 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:30:18,992 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:30:19,023 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002B31EC555E0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002B31EC556D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002B31EC55720>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002B31EC554F0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002B31EC55400>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002B31EC55540>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002B31EC55220>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002B31EC55770>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002B31EC55900>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002B31EC55950>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002B31EC559F0>>}}
2025-04-14 17:30:19,053 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:30:19,084 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:30:19,115 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:30:19,146 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.3"}
2025-04-14 17:30:19,177 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:30:19,208 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:30:19,239 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:30:19,270 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002B31EC559F0>>
2025-04-14 17:30:19,301 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:30:19,332 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:30:19,363 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:30:19,393 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:30:19,424 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.3
2025-04-14 17:30:19,627 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:30:19,672 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:30:19,704 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:30:19,813 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:30:19,859 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:30:19,891 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:30:19,922 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:30:20,061 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:30:20,109 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:30:20,232 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:30:20,292 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:30:20,323 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:32:59,451 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:33:00,565 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:33:00,565 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:33:00,566 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:33:00,566 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:33:00,567 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:33:00,567 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:33:00,567 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:33:03,446 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:33:03,478 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:33:03,509 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:33:03,539 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000239E5E5D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000239E5E65310>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000239E5E65590>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000239E5863950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000239E5863BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000239E5EC0050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000239E58BB9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000239E58BBCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000239E5899850>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000239E589B750>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000239E585EA80>>}}
2025-04-14 17:33:03,571 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:33:03,601 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:33:03,633 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:33:03,664 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.3"}
2025-04-14 17:33:03,694 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:33:03,725 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:33:03,756 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:33:03,787 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000239E585EA80>>
2025-04-14 17:33:03,819 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:33:03,850 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:33:03,897 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:33:03,928 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:33:03,959 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.3
2025-04-14 17:33:04,206 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:33:04,253 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:33:04,285 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:33:04,378 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:33:04,425 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:33:04,456 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:33:04,488 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:33:04,611 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:33:04,657 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:33:04,749 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:33:04,795 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:33:04,826 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:34:42,231 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:34:43,469 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:34:43,469 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:34:43,469 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:34:43,470 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:34:43,470 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:34:43,471 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:34:43,471 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:34:46,255 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:34:46,285 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:34:46,316 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:34:46,347 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000023BDED2D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000023BDED35310>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000023BDED35590>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000023BDE7C3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000023BDE7C3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000023BDED90050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000023BDE81B9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000023BDE81BCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000023BDE7F9850>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000023BDE7FB750>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDE7BEA80>>}}
2025-04-14 17:34:46,377 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:34:46,408 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:34:46,439 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:34:46,469 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.3"}
2025-04-14 17:34:46,500 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:34:46,531 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:34:46,546 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:34:46,577 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDE7BEA80>>
2025-04-14 17:34:46,609 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:34:46,639 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:34:46,669 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:34:46,700 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:34:46,732 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.3
2025-04-14 17:34:46,963 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:34:47,009 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:34:47,039 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:34:47,178 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:34:47,224 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:34:47,256 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:34:47,286 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:34:47,457 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:34:47,503 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:34:47,627 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:34:47,687 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:34:47,719 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:36:53,735 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:36:53,767 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:36:53,797 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:36:53,829 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000023BDE7BEA80>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000023BDED90130>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000023BDED903D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000023BDED6A000>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000023BDE7AE990>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000023BDE7ACB90>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000023BDE813280>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000023BDE8133E0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000023BDED76C10>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000023BDED76DF0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDE8069F0>>}}
2025-04-14 17:36:53,860 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:36:53,890 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:36:53,922 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:36:53,953 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.3"}
2025-04-14 17:36:53,983 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:36:54,013 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'Pragma': 'no-cache', 'Cache-Control': 'no-cache', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:36:54,045 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:36:54,077 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDE8069F0>>
2025-04-14 17:36:54,107 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:36:54,138 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:36:54,170 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:36:54,200 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:36:54,230 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.3
2025-04-14 17:36:54,431 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:36:54,478 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:36:54,509 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:36:54,617 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:36:54,665 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:36:54,695 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:36:54,727 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:36:54,835 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:36:54,881 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:36:54,972 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:36:55,020 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:36:55,051 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:37:05,985 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:37:06,016 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:37:06,046 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:37:06,077 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 17:37:06,107 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:37:06,137 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:37:06,168 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:37:06,199 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'no-cache', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 17:37:06,230 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 17:37:06,261 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000023BDED4CA70>>
2025-04-14 17:37:06,291 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 17:37:06,321 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 17:37:06,352 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 17:37:06,384 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 17:37:06,413 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:37:06,520 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:37:06,567 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:37:06,598 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:37:06,752 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:37:06,798 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:37:06,952 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:37:06,999 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:37:07,030 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:37:07,061 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:37:11,643 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:37:11,674 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:37:11,705 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:37:11,736 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:37:11,783 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:37:11,813 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:37:11,844 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:37:11,876 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Pragma': 'no-cache', 'Cache-Control': 'no-cache', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:37:11,906 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:37:11,936 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x0000023BDED858B0>>
2025-04-14 17:37:11,968 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:37:11,998 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:37:12,030 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:37:12,167 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:37:12,198 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Patch Exchange Rate</h2>
    <form id="path-exchange-rate-form">
        <label for="from-path">From Currency:</label>
        <input type="text" id="from-path" name="from" required><br>
        <label for="to-path">To Currency:</label>
        <input type="text" id="to-path" name="to" required><br>
        <label for="rate-path">Rate:</label>
        <input type="number" id="rate-path" name="rate" step="0.01" required><br>
        <button type="button" id="path-rate-button">Patch Rate</button>
    </form>

    <!-- Элемент для отображения ответа -->
    <div id="patch-response" style="margin-top: 20px; color: green;"></div>

    <script>
        document.getElementById('path-rate-button').addEventListener('click', async () => {
            const from = document.getElementById('from-path').value;
            const to = document.getElementById('to-path').value;
            const rate = document.getElementById('rate-path').value;

            if (!from || !to || !rate) {
                console.error('Please fill in all fields.');
                document.getElementById('patch-response').innerText = 'Please fill in all fields.';
                return;
            }

            try {
                const response = await fetch('/exchangeRate', {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ from, to, rate }),
                });

                const responseElement = document.getElementById('patch-response');

                if (response.ok) {
                    const data = await response.json();
                    responseElement.style.color = 'green';
                    responseElement.innerText = `Success: ${JSON.stringify(data)}`;
                } else {
                    const error = await response.json();
                    responseElement.style.color = 'red';
                    responseElement.innerText = `Error: ${JSON.stringify(error)}`;
                }
            } catch (err) {
                console.error('Error:', err);
                document.getElementById('patch-response').style.color = 'red';
                document.getElementById('patch-response').innerText = 'An error occurred while sending the request.';
            }
        });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:37:12,261 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 17:37:16,042 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:37:16,072 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:37:16,103 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:37:16,134 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000023BDED859F0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000023BDED85450>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000023BDED859A0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000023BDED85810>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000023BDED85770>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000023BDED857C0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000023BDED85360>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000023BDED854F0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000023BDED85590>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000023BDED85720>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDED856D0>>}}
2025-04-14 17:37:16,165 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:37:16,196 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:37:16,227 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:37:16,259 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.3"}
2025-04-14 17:37:16,275 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:37:16,306 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'Pragma': 'no-cache', 'Cache-Control': 'no-cache', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:37:16,336 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:37:16,368 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDED856D0>>
2025-04-14 17:37:16,398 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:37:16,429 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:37:16,460 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:37:16,490 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.3'}
2025-04-14 17:37:16,522 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.3
2025-04-14 17:37:16,693 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:37:16,740 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:37:16,772 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:37:16,878 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:37:16,925 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:37:16,956 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.3, 'id': 2}
2025-04-14 17:37:16,986 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:37:17,142 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:37:17,188 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:37:17,343 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:37:17,404 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:37:17,435 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.3}
2025-04-14 17:37:35,219 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:37:35,249 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:37:35,280 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:37:35,311 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=USD
2025-04-14 17:37:35,341 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-14 17:37:35,372 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:37:35,402 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:37:35,432 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'USD'}, response=None)
2025-04-14 17:37:35,462 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 17:37:35,492 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000023BDED85220>>
2025-04-14 17:37:35,524 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 17:37:35,554 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 17:37:35,586 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 17:37:35,616 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-14 17:37:35,648 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:37:35,771 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:37:35,817 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-14 17:37:35,849 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-14 17:37:35,880 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:37:35,911 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-14 17:37:51,088 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:37:51,119 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:37:51,149 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:37:51,179 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000023BDED85B80>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000023BDED857C0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000023BDED85B30>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000023BDED859F0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000023BDED85450>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000023BDED85400>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000023BDED855E0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000023BDED85540>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000023BDED85630>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000023BDED85860>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDED85220>>}}
2025-04-14 17:37:51,210 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:37:51,240 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:37:51,272 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:37:51,302 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.4"}
2025-04-14 17:37:51,333 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.4'}
2025-04-14 17:37:51,363 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.4'}, query_params={}, response=None)
2025-04-14 17:37:51,394 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:37:51,424 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023BDED85220>>
2025-04-14 17:37:51,455 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:37:51,486 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:37:51,517 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:37:51,547 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.4'}
2025-04-14 17:37:51,578 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.4
2025-04-14 17:37:51,811 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:37:51,856 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:37:51,887 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:37:52,026 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:37:52,074 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.4, 'id': 2}
2025-04-14 17:37:52,105 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.4, 'id': 2}
2025-04-14 17:37:52,136 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:37:52,305 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:37:52,352 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:37:52,491 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:37:52,537 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.4}
2025-04-14 17:37:52,569 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.4}
2025-04-14 17:39:01,177 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:39:02,581 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:39:02,582 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:39:02,582 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:39:02,583 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:39:02,583 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:39:02,583 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:39:02,584 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:39:05,278 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:39:05,309 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:39:05,340 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:39:05,372 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002738CA9D160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002738CAA5310>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002738CAA5590>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002738C5A3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002738C5A3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002738CB00050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002738C5FB9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002738C5FBCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002738C5D9850>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002738C5DB750>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002738C59EA80>>}}
2025-04-14 17:39:05,402 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:39:05,432 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:39:05,463 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:39:05,494 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.4"}
2025-04-14 17:39:05,526 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.4'}
2025-04-14 17:39:05,556 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.4'}, query_params={}, response=None)
2025-04-14 17:39:05,587 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:39:05,619 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002738C59EA80>>
2025-04-14 17:39:05,648 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:39:05,680 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:39:05,727 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:39:05,772 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.4'}
2025-04-14 17:39:05,804 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.4
2025-04-14 17:39:05,991 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:39:06,068 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:39:06,100 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:39:06,223 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:39:06,270 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.4, 'id': 2}
2025-04-14 17:39:06,300 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.4, 'id': 2}
2025-04-14 17:39:06,330 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:39:06,437 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:39:06,483 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:39:06,606 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:39:06,652 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.4}
2025-04-14 17:39:06,683 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.4}
2025-04-14 17:39:13,116 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:39:13,146 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:39:13,176 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:39:13,208 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002738C59EA80>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002738CB00050>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002738CB003D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002738CADA000>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002738C58E990>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002738C58E450>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002738C5F3280>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002738C5F33E0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002738CAE6C10>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002738CAE6DF0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002738C5E69F0>>}}
2025-04-14 17:39:13,238 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:39:13,270 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:39:13,300 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:39:13,332 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.6"}
2025-04-14 17:39:13,362 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.6'}
2025-04-14 17:39:13,393 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.6'}, query_params={}, response=None)
2025-04-14 17:39:13,425 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:39:13,455 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002738C5E69F0>>
2025-04-14 17:39:13,487 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:39:13,518 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:39:13,548 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:39:13,580 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.6'}
2025-04-14 17:39:13,580 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.6
2025-04-14 17:39:13,814 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:39:13,860 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:39:13,892 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:39:14,033 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:39:14,079 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.6, 'id': 2}
2025-04-14 17:39:14,110 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.6, 'id': 2}
2025-04-14 17:39:14,141 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:39:14,310 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:39:14,356 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:39:14,527 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:39:14,574 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}
2025-04-14 17:39:14,604 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}
2025-04-14 17:41:32,456 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:41:33,471 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:41:33,472 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:41:33,472 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:41:33,473 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:41:33,473 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:41:33,473 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:41:33,473 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:41:36,392 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:41:36,422 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:41:36,454 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:41:36,472 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000021DFFDBD160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000021DFFDC5310>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000021DFFDC5590>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000021DFFCC3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000021DFFCC3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000021DFFE20050>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000021DFFD1B9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000021DFFD1BCE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000021DFFCF9850>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000021DFFCFB750>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000021DFFCBEA80>>}}
2025-04-14 17:41:36,486 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate
2025-04-14 17:41:36,517 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {}
2025-04-14 17:41:36,547 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:41:36,563 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): {"from":"USD","to":"EUR","rate":"1.6"}
2025-04-14 17:41:36,593 - router       -_parse_body         - DEBUG    - Тело запроса (JSON): {'from': 'USD', 'to': 'EUR', 'rate': '1.6'}
2025-04-14 17:41:36,624 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '38', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/json', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'from': 'USD', 'to': 'EUR', 'rate': '1.6'}, query_params={}, response=None)
2025-04-14 17:41:36,655 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate
2025-04-14 17:41:36,685 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000021DFFCBEA80>>
2025-04-14 17:41:36,716 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate: update_exchange_rate
2025-04-14 17:41:36,747 - router       -resolve             - INFO     - Маршрут найден: PATCH /exchangeRate
2025-04-14 17:41:36,778 - controller   -update_exchange_rate- INFO     - Добавление нового курса обмена
2025-04-14 17:41:36,809 - controller   -update_exchange_rate- DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR', 'rate': '1.6'}
2025-04-14 17:41:36,840 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.6
2025-04-14 17:41:37,119 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 17:41:37,166 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно добавлен
2025-04-14 17:41:37,197 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 17:41:37,320 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 17:41:37,366 - controller   -update_exchange_rate- DEBUG    - Курс обмена USD -> EUR: {'from': 'USD', 'to': 'EUR', 'rate': 1.6, 'id': 2}
2025-04-14 17:41:37,397 - controller   -update_exchange_rate- INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.6, 'id': 2}
2025-04-14 17:41:37,427 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:41:37,550 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:41:37,597 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:41:37,737 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:41:37,784 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}
2025-04-14 17:41:37,814 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}
2025-04-14 17:52:06,639 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:52:06,670 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:52:06,701 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:52:06,731 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:52:06,761 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:52:06,792 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:52:06,823 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:52:06,853 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:52:06,884 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:52:06,916 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x0000021DFFD13490>>
2025-04-14 17:52:06,946 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:52:06,978 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:52:07,010 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:52:07,178 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:52:07,209 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:52:07,270 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 17:52:47,584 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:52:47,615 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:52:47,645 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate')])
2025-04-14 17:52:47,677 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000021DFF3BC6D0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000021DFFDEA9D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000021DFFD47F50>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000021DFFDF0830>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000021DFFDDC470>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000021DFFDDCB90>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000021DFFE15310>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000021DFFE15590>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000021DFFE15450>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000021DFFE154F0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000021DFFE15720>>}}
2025-04-14 17:52:47,709 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDRUB
2025-04-14 17:52:47,739 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-14 17:52:47,771 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:52:47,803 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=2
2025-04-14 17:52:47,833 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '2'}
2025-04-14 17:52:47,865 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '6', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '2'}, query_params={}, response=None)
2025-04-14 17:52:47,895 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-14 17:52:47,927 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 17:52:47,957 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDRUB: None
2025-04-14 17:52:47,989 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDRUB
2025-04-14 17:52:48,019 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 17:52:48,051 - router       -resolve             - WARNING  - Маршрут не найден: PATCH /exchangeRate/USDRUB
2025-04-14 17:52:48,081 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-14 17:52:48,113 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-14 17:55:12,696 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 17:55:13,877 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 17:55:13,877 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 17:55:13,877 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 17:55:13,878 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 17:55:13,878 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 17:55:13,879 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 17:55:13,879 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 17:55:18,012 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:55:18,043 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:55:18,074 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:55:18,106 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000023430969160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000023430955450>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000234309556D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000234303D3820>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000234303D3A80>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000023430943E30>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002343042F9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002343042FBD0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000023430960950>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000023430960B50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000234303CF6B0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x000002343096C5F0>>}}
2025-04-14 17:55:18,136 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDRUB
2025-04-14 17:55:18,167 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-14 17:55:18,198 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:55:18,229 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=2
2025-04-14 17:55:18,261 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '2'}
2025-04-14 17:55:18,292 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '6', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '2'}, query_params={}, response=None)
2025-04-14 17:55:18,323 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-14 17:55:18,354 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 17:55:18,385 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDRUB: None
2025-04-14 17:55:18,416 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDRUB
2025-04-14 17:55:18,447 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 17:55:18,477 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 17:55:18,508 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-14 17:55:18,539 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 17:55:18,570 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDRUB
2025-04-14 17:55:18,601 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 17:55:18,633 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '2'}, параметры: {'pair': 'USDRUB'}
2025-04-14 17:55:18,664 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 2.0
2025-04-14 17:55:18,880 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 17:55:18,927 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 17:55:18,959 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 17:55:18,989 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 17:55:31,380 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:55:31,409 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:55:31,441 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:55:31,473 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000234309AC210>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000234309AC2F0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000023430986000>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000234303BEA50>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000234303BE750>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002343043F330>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002343043F490>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000023430996DF0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000023430996F30>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000023430456E70>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000023430972850>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000234309728D0>>}}
2025-04-14 17:55:31,503 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/RUBUSD
2025-04-14 17:55:31,535 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/RUBUSD, параметры: {}
2025-04-14 17:55:31,565 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:55:31,597 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=2
2025-04-14 17:55:31,627 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '2'}
2025-04-14 17:55:31,658 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/RUBUSD', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '6', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '2'}, query_params={}, response=None)
2025-04-14 17:55:31,689 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/RUBUSD
2025-04-14 17:55:31,719 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 17:55:31,749 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/RUBUSD: None
2025-04-14 17:55:31,781 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/RUBUSD
2025-04-14 17:55:31,811 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 17:55:31,843 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/RUBUSD
2025-04-14 17:55:31,875 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = RUBUSD
2025-04-14 17:55:31,905 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/RUBUSD
2025-04-14 17:55:31,937 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/RUBUSD
2025-04-14 17:55:31,967 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 17:55:31,998 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '2'}, параметры: {'pair': 'RUBUSD'}
2025-04-14 17:55:32,029 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: RUB -> USD = 2.0
2025-04-14 17:55:32,215 - model        -patch_exchange_rate - INFO     - Курс обмена RUB -> USD успешно обновлен
2025-04-14 17:55:32,262 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена RUB -> USD успешно обновлен
2025-04-14 17:55:32,293 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate RUB -> USD updated successfully'}
2025-04-14 17:55:32,324 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate RUB -> USD updated successfully'}
2025-04-14 17:56:03,565 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:56:03,596 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:56:03,627 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:56:03,658 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002343046BBD0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000234309747C0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002343095D6D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002343095D850>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000234309A54F0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000234309A5720>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000234309A54A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000234309A5400>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000234309A57C0>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000234309A5860>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000234309A5900>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000234309A59A0>>}}
2025-04-14 17:56:03,689 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/RUBUSD
2025-04-14 17:56:03,720 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/RUBUSD, параметры: {}
2025-04-14 17:56:03,750 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:56:03,782 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=2
2025-04-14 17:56:03,812 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '2'}
2025-04-14 17:56:03,843 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/RUBUSD', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '6', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '2'}, query_params={}, response=None)
2025-04-14 17:56:03,875 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/RUBUSD
2025-04-14 17:56:03,905 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 17:56:03,936 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/RUBUSD: None
2025-04-14 17:56:03,968 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/RUBUSD
2025-04-14 17:56:03,999 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 17:56:04,029 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/RUBUSD
2025-04-14 17:56:04,061 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = RUBUSD
2025-04-14 17:56:04,092 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/RUBUSD
2025-04-14 17:56:04,123 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/RUBUSD
2025-04-14 17:56:04,155 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 17:56:04,186 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '2'}, параметры: {'pair': 'RUBUSD'}
2025-04-14 17:56:04,216 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: RUB -> USD = 2.0
2025-04-14 17:56:04,429 - model        -patch_exchange_rate - INFO     - Курс обмена RUB -> USD успешно обновлен
2025-04-14 17:56:04,476 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена RUB -> USD успешно обновлен
2025-04-14 17:56:04,506 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate RUB -> USD updated successfully'}
2025-04-14 17:56:04,536 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate RUB -> USD updated successfully'}
2025-04-14 17:56:25,378 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:56:25,407 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:56:25,440 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:56:25,471 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000234309A5630>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000234309A55E0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000234309A5900>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000234309A5860>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000234309A5400>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000234309A54A0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000234309A5720>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000234309A54F0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000234309A56D0>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000234309A5AE0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000234309A5B30>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000234309A5BD0>>}}
2025-04-14 17:56:25,502 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/RUBATY
2025-04-14 17:56:25,533 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/RUBATY, параметры: {}
2025-04-14 17:56:25,564 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:56:25,595 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=2
2025-04-14 17:56:25,626 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '2'}
2025-04-14 17:56:25,656 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/RUBATY', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '6', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '2'}, query_params={}, response=None)
2025-04-14 17:56:25,687 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/RUBATY
2025-04-14 17:56:25,717 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 17:56:25,748 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/RUBATY: None
2025-04-14 17:56:25,779 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/RUBATY
2025-04-14 17:56:25,810 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 17:56:25,841 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/RUBATY
2025-04-14 17:56:25,873 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = RUBATY
2025-04-14 17:56:25,904 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/RUBATY
2025-04-14 17:56:25,935 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/RUBATY
2025-04-14 17:56:25,966 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 17:56:25,997 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '2'}, параметры: {'pair': 'RUBATY'}
2025-04-14 17:56:26,027 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: RUB -> ATY = 2.0
2025-04-14 17:56:26,135 - model        -patch_exchange_rate - WARNING  - Курс обмена RUB -> ATY не найден
2025-04-14 17:56:26,166 - model        -patch_exchange_rate - ERROR    - Ошибка при обновлении курса обмена RUB -> ATY: Exchange rate not found
2025-04-14 17:56:26,212 - controller   -update_exchange_rate_by_pair- ERROR    - Ошибка при обновлении курса обмена: Exchange rate not found
2025-04-14 17:56:26,242 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-14 17:56:26,272 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': 'Exchange rate not found'}
2025-04-14 17:56:45,746 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:56:45,776 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:56:45,809 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:56:45,838 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-14 17:56:45,870 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 17:56:45,901 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:56:45,932 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:56:45,962 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:56:45,992 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-14 17:56:46,023 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000234309A5C20>>
2025-04-14 17:56:46,054 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-14 17:56:46,085 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-14 17:56:46,115 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-14 17:56:46,147 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-14 17:56:46,599 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 2.0), (2, 'USD', 'EUR', 1.6), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-14 17:56:46,629 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:46,738 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:46,784 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:56:46,878 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:56:46,924 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:47,064 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:47,111 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:56:47,235 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:56:47,283 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:56:47,421 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:56:47,468 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:47,592 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:47,637 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:56:47,730 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:56:47,776 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:56:47,885 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:56:47,931 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 17:56:48,071 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 17:56:48,117 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:56:48,225 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:56:48,272 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:56:48,393 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:56:48,440 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 17:56:48,549 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 17:56:48,596 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:56:48,766 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:56:48,814 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:48,969 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:49,014 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 17:56:49,169 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 17:56:49,215 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 17:56:49,324 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 17:56:49,371 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:49,480 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:49,526 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 17:56:49,634 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 17:56:49,681 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 17:56:49,805 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 17:56:49,850 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 17:56:49,956 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 17:56:50,002 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 17:56:50,095 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 17:56:50,141 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 17:56:50,296 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 17:56:50,342 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:50,464 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:50,511 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-14 17:56:50,603 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-14 17:56:50,648 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:50,803 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:50,848 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 17:56:50,956 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 17:56:51,002 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:56:51,110 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:56:51,157 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-14 17:56:51,297 - model        -get_currency_by_code- WARNING  - Валюта с кодом ZAR не найдена
2025-04-14 17:56:51,359 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 2.0}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 1.0}]
2025-04-14 17:56:51,390 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 2.0}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 1.0}]
2025-04-14 17:56:51,420 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:56:51,452 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 2.0}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 1.0}]
2025-04-14 17:57:01,124 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:57:01,156 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:57:01,187 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:57:01,219 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000234309A6120>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000234309A5B80>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000234309A6210>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000234309A5630>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000234309A5900>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000234309A5860>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000234309A5400>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000234309A54A0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000234309A5720>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000234309A56D0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000234309A5AE0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000234309A5B30>>}}
2025-04-14 17:57:01,248 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/RUBATY
2025-04-14 17:57:01,279 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/RUBATY, параметры: {}
2025-04-14 17:57:01,310 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:57:01,340 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=2
2025-04-14 17:57:01,371 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '2'}
2025-04-14 17:57:01,403 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/RUBATY', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '6', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '2'}, query_params={}, response=None)
2025-04-14 17:57:01,433 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/RUBATY
2025-04-14 17:57:01,465 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 17:57:01,495 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/RUBATY: None
2025-04-14 17:57:01,525 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/RUBATY
2025-04-14 17:57:01,556 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 17:57:01,587 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/RUBATY
2025-04-14 17:57:01,618 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = RUBATY
2025-04-14 17:57:01,649 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/RUBATY
2025-04-14 17:57:01,679 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/RUBATY
2025-04-14 17:57:01,710 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 17:57:01,741 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '2'}, параметры: {'pair': 'RUBATY'}
2025-04-14 17:57:01,772 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: RUB -> ATY = 2.0
2025-04-14 17:57:01,880 - model        -patch_exchange_rate - WARNING  - Курс обмена RUB -> ATY не найден
2025-04-14 17:57:01,911 - model        -patch_exchange_rate - ERROR    - Ошибка при обновлении курса обмена RUB -> ATY: Exchange rate not found
2025-04-14 17:57:01,958 - controller   -update_exchange_rate_by_pair- ERROR    - Ошибка при обновлении курса обмена: Exchange rate not found
2025-04-14 17:57:01,988 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-14 17:57:02,020 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': 'Exchange rate not found'}
2025-04-14 17:58:07,780 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:58:07,812 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:58:07,842 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:58:07,872 - router       -handle_request      - INFO     - Обработка запроса: GET /
2025-04-14 17:58:07,903 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-14 17:58:07,934 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:58:07,965 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:58:07,996 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'none', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 17:58:08,028 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-14 17:58:08,058 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.handle_html_page of <controller.Controller object at 0x00000234309A5860>>
2025-04-14 17:58:08,090 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /: handle_html_page
2025-04-14 17:58:08,121 - router       -resolve             - INFO     - Маршрут найден: GET /
2025-04-14 17:58:08,151 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-14 17:58:08,277 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-14 17:58:08,307 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-14 17:58:08,369 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-14 17:58:56,390 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 17:58:56,421 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:58:56,452 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:58:56,483 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000234309A5B80>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000234309A5720>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000234309A59F0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000234309A5950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000234309A5400>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000234309A54A0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000234309A56D0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000234309A5AE0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000234309A5B30>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000234309A55E0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000234309A58B0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000234309A61C0>>}}
2025-04-14 17:58:56,513 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDRUB
2025-04-14 17:58:56,544 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-14 17:58:56,574 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:58:56,605 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-14 17:58:56,637 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.3'}
2025-04-14 17:58:56,667 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.3'}, query_params={}, response=None)
2025-04-14 17:58:56,698 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-14 17:58:56,730 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 17:58:56,761 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDRUB: None
2025-04-14 17:58:56,791 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDRUB
2025-04-14 17:58:56,823 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 17:58:56,838 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 17:58:56,869 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-14 17:58:56,900 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 17:58:56,931 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDRUB
2025-04-14 17:58:56,962 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 17:58:56,993 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.3'}, параметры: {'pair': 'USDRUB'}
2025-04-14 17:58:57,024 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-14 17:58:57,208 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 17:58:57,271 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 17:58:57,302 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 17:58:57,334 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 17:59:04,376 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:59:04,406 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:59:04,438 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:59:04,469 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=USD
2025-04-14 17:59:04,499 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-14 17:59:04,530 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:59:04,561 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:59:04,592 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'USD'}, response=None)
2025-04-14 17:59:04,624 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 17:59:04,655 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000234309A5590>>
2025-04-14 17:59:04,686 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 17:59:04,717 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 17:59:04,748 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 17:59:04,778 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-14 17:59:04,809 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 17:59:04,950 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 17:59:04,996 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-14 17:59:05,027 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-14 17:59:05,058 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:59:05,088 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-14 17:59:17,773 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 17:59:17,805 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 17:59:17,835 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 17:59:17,867 - router       -handle_request      - INFO     - Обработка запроса: GET /currency?code=eee
2025-04-14 17:59:17,897 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'eee'}
2025-04-14 17:59:17,929 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 17:59:17,959 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 17:59:17,991 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'code': 'eee'}, response=None)
2025-04-14 17:59:18,021 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-14 17:59:18,051 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000234309A5AE0>>
2025-04-14 17:59:18,083 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currency: get_currency_by_code
2025-04-14 17:59:18,114 - router       -resolve             - INFO     - Маршрут найден: GET /currency
2025-04-14 17:59:18,146 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-14 17:59:18,176 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: eee
2025-04-14 17:59:18,206 - model        -get_currency_by_code- INFO     - Получение валюты по коду: eee
2025-04-14 17:59:18,298 - model        -get_currency_by_code- WARNING  - Валюта с кодом eee не найдена
2025-04-14 17:59:18,345 - controller   -get_currency_by_code- WARNING  - Валюта с кодом eee не найдена
2025-04-14 17:59:18,375 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-14 17:59:18,406 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 17:59:18,436 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-14 18:02:45,158 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 19:43:42,743 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 19:43:42,743 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 19:43:42,743 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 19:43:42,744 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 19:43:42,744 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 19:43:42,745 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 19:43:42,745 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 19:43:45,775 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 19:43:45,805 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:43:45,837 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:43:45,867 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-14 19:43:45,898 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-14 19:43:45,929 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:43:45,960 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 19:43:45,991 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 19:43:46,022 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-14 19:43:46,052 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x000001FA3E34D160>>
2025-04-14 19:43:46,083 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-14 19:43:46,113 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-14 19:43:46,144 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-14 19:43:46,175 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-14 19:43:46,361 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-14 19:43:46,407 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 19:43:46,438 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 19:43:46,468 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 19:43:46,500 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-14 19:43:52,467 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 19:43:52,498 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:43:52,529 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:43:52,559 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001FA3E3B4210>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001FA3E3B42F0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001FA3E38A000>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001FA3DE3EB10>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001FA3DE3EA50>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001FA3DE9F280>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001FA3DE9F490>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001FA3E39AE90>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001FA3E39AFD0>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001FA3DE90170>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001FA3E37E8D0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x000001FA3E37E950>>}}
2025-04-14 19:43:52,591 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDRUB
2025-04-14 19:43:52,622 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-14 19:43:52,654 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:43:52,684 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-14 19:43:52,715 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.3'}
2025-04-14 19:43:52,747 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.3'}, query_params={}, response=None)
2025-04-14 19:43:52,777 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-14 19:43:52,809 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 19:43:52,840 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDRUB: None
2025-04-14 19:43:52,870 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDRUB
2025-04-14 19:43:52,900 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 19:43:52,931 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 19:43:52,961 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-14 19:43:52,992 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 19:43:53,023 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDRUB
2025-04-14 19:43:53,055 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 19:43:53,085 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.3'}, параметры: {'pair': 'USDRUB'}
2025-04-14 19:43:53,115 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-14 19:43:53,345 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 19:43:53,406 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 19:43:53,437 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 19:43:53,468 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 19:47:24,794 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 19:47:26,111 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 19:47:26,111 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 19:47:26,111 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 19:47:26,112 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 19:47:26,112 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 19:47:26,112 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 19:47:26,113 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 19:47:33,467 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 19:47:33,497 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:47:33,529 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:47:33,559 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001DEDE751010>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001DEDE715450>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001DEDE7156D0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001DEDE5DFBB0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001DEDE5DFE10>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001DEDE6FFAD0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001DEDE61B9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001DEDE61BBD0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001DEDE724750>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001DEDE724950>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001DEDE5E36B0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x000001DEDE72C5F0>>}}
2025-04-14 19:47:33,589 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDRUB
2025-04-14 19:47:33,620 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-14 19:47:33,651 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:47:33,681 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-14 19:47:33,712 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.3'}
2025-04-14 19:47:33,742 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.3'}, query_params={}, response=None)
2025-04-14 19:47:33,774 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-14 19:47:33,805 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 19:47:33,836 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDRUB: None
2025-04-14 19:47:33,867 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDRUB
2025-04-14 19:47:33,898 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 19:47:33,929 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 19:47:33,960 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-14 19:47:33,990 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-14 19:47:34,021 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDRUB
2025-04-14 19:47:34,051 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 19:47:34,082 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.3'}, параметры: {'pair': 'USDRUB'}
2025-04-14 19:47:34,114 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-14 19:47:34,237 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-14 19:47:34,375 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 19:47:34,422 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-14 19:47:34,452 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 19:47:34,484 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> RUB updated successfully'}
2025-04-14 19:48:08,040 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 19:48:08,069 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:48:08,100 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:48:08,132 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRates?
2025-04-14 19:48:08,162 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-14 19:48:08,194 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:48:08,226 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 19:48:08,256 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-14 19:48:08,286 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-14 19:48:08,317 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001DEDE746000>>
2025-04-14 19:48:08,349 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRates: get_exchange_rates
2025-04-14 19:48:08,379 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRates
2025-04-14 19:48:08,409 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-14 19:48:08,440 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-14 19:48:08,825 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.6), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-14 19:48:08,855 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:08,948 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:08,994 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 19:48:09,117 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 19:48:09,162 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:09,284 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:09,331 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 19:48:09,455 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 19:48:09,502 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 19:48:09,640 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 19:48:09,685 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:09,808 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:09,855 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 19:48:09,980 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 19:48:10,027 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 19:48:10,134 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 19:48:10,181 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 19:48:10,288 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 19:48:10,335 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 19:48:10,460 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 19:48:10,507 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 19:48:10,615 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 19:48:10,677 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 19:48:10,787 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 19:48:10,833 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 19:48:10,941 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 19:48:10,987 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:11,111 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:11,158 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 19:48:11,266 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 19:48:11,328 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 19:48:11,450 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 19:48:11,496 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:11,635 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:11,680 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 19:48:11,788 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 19:48:11,835 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 19:48:11,991 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 19:48:12,053 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 19:48:12,179 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 19:48:12,225 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-14 19:48:12,380 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-14 19:48:12,426 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-14 19:48:12,566 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-14 19:48:12,628 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:12,766 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:12,811 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-14 19:48:12,921 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-14 19:48:12,966 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:13,122 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:13,168 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-14 19:48:13,338 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-14 19:48:13,383 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:48:13,568 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:48:13,614 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-14 19:48:13,706 - model        -get_currency_by_code- WARNING  - Валюта с кодом ZAR не найдена
2025-04-14 19:48:13,782 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 1.0}]
2025-04-14 19:48:13,813 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 1.0}]
2025-04-14 19:48:13,844 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 19:48:13,876 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.6}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': None, 'rate': 1.0}]
2025-04-14 19:48:41,778 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 19:48:41,810 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:48:41,842 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:48:41,872 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001DEDE657EE0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001DEDE7307C0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001DEDE721190>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001DEDE720AD0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001DEDE765AE0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001DEDE765BD0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001DEDE765CC0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001DEDE7654F0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001DEDE765D60>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001DEDE765E00>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001DEDE765EA0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x000001DEDE765F40>>}}
2025-04-14 19:48:41,904 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:48:41,935 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDEUR, параметры: {}
2025-04-14 19:48:41,965 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:48:41,997 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.0
2025-04-14 19:48:42,028 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.0'}
2025-04-14 19:48:42,058 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDEUR', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.0'}, query_params={}, response=None)
2025-04-14 19:48:42,090 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:48:42,120 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 19:48:42,151 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDEUR: None
2025-04-14 19:48:42,167 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDEUR
2025-04-14 19:48:42,167 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 19:48:42,167 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:48:42,181 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDEUR
2025-04-14 19:48:42,212 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:48:42,244 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDEUR
2025-04-14 19:48:42,274 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 19:48:42,305 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.0'}, параметры: {'pair': 'USDEUR'}
2025-04-14 19:48:42,336 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.0
2025-04-14 19:48:42,488 - model        -patch_exchange_rate - DEBUG    - result: (2,)
2025-04-14 19:48:42,611 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:48:42,658 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:48:42,689 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:48:42,720 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:53:01,315 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 19:53:01,346 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:53:01,377 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:53:01,408 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 19:53:01,440 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 19:53:01,471 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:53:01,501 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 19:53:01,533 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 19:53:01,564 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 19:53:01,595 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001DEDE765CC0>>
2025-04-14 19:53:01,627 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 19:53:01,658 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 19:53:01,688 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 19:53:01,720 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 19:53:01,751 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 19:53:01,875 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 19:53:01,922 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.0, 'id': 2}
2025-04-14 19:53:01,952 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:53:02,091 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:53:02,138 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 19:53:02,246 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 19:53:02,292 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-14 19:53:02,323 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 19:53:02,353 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-14 19:54:02,166 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 19:54:04,079 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 19:54:04,080 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 19:54:04,080 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 19:54:04,081 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 19:54:04,081 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 19:54:04,081 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 19:54:04,081 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 19:54:15,139 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 19:54:15,170 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:54:15,201 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:54:15,232 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000166F0DE5010>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000166F0DB91D0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000166F0DB9450>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000166F07FFBB0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000166F07FFE10>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000166F0D8FBF0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000166F085B9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000166F085BBD0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000166F0DB0750>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000166F0DB0950>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000166F08036B0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000166F0DBC5F0>>}}
2025-04-14 19:54:15,264 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:54:15,294 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDEUR, параметры: {}
2025-04-14 19:54:15,325 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:54:15,356 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.0
2025-04-14 19:54:15,388 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.0'}
2025-04-14 19:54:15,418 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDEUR', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.0'}, query_params={}, response=None)
2025-04-14 19:54:15,449 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:54:15,481 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 19:54:15,511 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDEUR: None
2025-04-14 19:54:15,541 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDEUR
2025-04-14 19:54:15,572 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 19:54:15,603 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:54:15,633 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDEUR
2025-04-14 19:54:15,665 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:54:15,695 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDEUR
2025-04-14 19:54:15,727 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 19:54:15,758 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.0'}, параметры: {'pair': 'USDEUR'}
2025-04-14 19:54:15,788 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.0
2025-04-14 19:54:15,927 - model        -patch_exchange_rate - DEBUG    - result: (2,)
2025-04-14 19:54:16,066 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:54:16,097 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 19:54:16,251 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 19:54:16,343 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:54:16,374 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:54:16,405 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:56:23,387 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 19:56:23,419 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:56:23,450 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:56:23,481 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000166F0E00210>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000166F0E002F0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000166F0DD6000>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000166F07E6A50>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000166F07E6510>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000166F084F3E0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000166F084F540>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000166F0DEADF0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000166F0DEAF30>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000166F083EE70>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000166F0DC68D0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000166F0DC69D0>>}}
2025-04-14 19:56:23,512 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:56:23,543 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDEUR, параметры: {}
2025-04-14 19:56:23,574 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:56:23,604 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.0
2025-04-14 19:56:23,634 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.0'}
2025-04-14 19:56:23,665 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDEUR', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.0'}, query_params={}, response=None)
2025-04-14 19:56:23,696 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:56:23,727 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 19:56:23,758 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDEUR: None
2025-04-14 19:56:23,789 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDEUR
2025-04-14 19:56:23,821 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 19:56:23,852 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:56:23,882 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDEUR
2025-04-14 19:56:23,913 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:56:23,944 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDEUR
2025-04-14 19:56:23,975 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 19:56:24,007 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.0'}, параметры: {'pair': 'USDEUR'}
2025-04-14 19:56:24,038 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.0
2025-04-14 19:56:24,162 - model        -patch_exchange_rate - DEBUG    - result: (2,)
2025-04-14 19:56:24,286 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:56:24,317 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 19:56:24,457 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 19:56:24,518 - controller   -update_exchange_rate_by_pair- INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:56:24,548 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:56:24,580 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:56:53,581 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 19:56:55,116 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 19:56:55,116 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 19:56:55,116 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 19:56:55,117 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 19:56:55,117 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 19:56:55,117 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 19:56:55,118 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 19:56:57,915 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 19:56:57,947 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:56:57,977 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:56:58,009 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000019784305160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000197842F5590>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000197842F5810>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000019783DF3950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000019783DF3BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000197842E3E30>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000019783E4B9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000019783E4BBD0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000019784300950>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000019784300B50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000019783DEF6B0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x000001978430C5F0>>}}
2025-04-14 19:56:58,040 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:56:58,070 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDEUR, параметры: {}
2025-04-14 19:56:58,101 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:56:58,133 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.0
2025-04-14 19:56:58,163 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.0'}
2025-04-14 19:56:58,195 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDEUR', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.0'}, query_params={}, response=None)
2025-04-14 19:56:58,225 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:56:58,257 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 19:56:58,287 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDEUR: None
2025-04-14 19:56:58,319 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDEUR
2025-04-14 19:56:58,351 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 19:56:58,381 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:56:58,413 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDEUR
2025-04-14 19:56:58,444 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:56:58,475 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDEUR
2025-04-14 19:56:58,506 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 19:56:58,538 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.0'}, параметры: {'pair': 'USDEUR'}
2025-04-14 19:56:58,568 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.0
2025-04-14 19:56:58,707 - model        -patch_exchange_rate - DEBUG    - result: (2,)
2025-04-14 19:56:58,814 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:56:58,845 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 19:56:58,968 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 19:56:59,045 - controller   -update_exchange_rate_by_pair- INFO     - ID = {'from': 'USD', 'to': 'EUR', 'rate': 1.0, 'id': 2}
2025-04-14 19:56:59,075 - router       -handle_request      - DEBUG    - Ответ DTO: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:56:59,106 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'message': 'Exchange rate USD -> EUR updated successfully'}
2025-04-14 19:58:59,493 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-14 19:58:59,522 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:58:59,554 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:58:59,586 - router       -handle_request      - INFO     - Обработка запроса: GET /exchangeRate?from=USD&to=EUR
2025-04-14 19:58:59,616 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-14 19:58:59,632 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:58:59,663 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-14 19:58:59,694 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-14 19:58:59,724 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-14 19:58:59,755 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000019783E5B490>>
2025-04-14 19:58:59,787 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /exchangeRate: get_exchange_rate
2025-04-14 19:58:59,817 - router       -resolve             - INFO     - Маршрут найден: GET /exchangeRate
2025-04-14 19:58:59,848 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-14 19:58:59,879 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-14 19:58:59,910 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 19:59:00,092 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 19:59:00,137 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.0, 'id': 2}
2025-04-14 19:59:00,169 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-14 19:59:00,324 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-14 19:59:00,369 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-14 19:59:00,491 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-14 19:59:00,537 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-14 19:59:00,569 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-14 19:59:00,600 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-14 19:59:42,067 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-14 19:59:43,766 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-14 19:59:43,767 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-14 19:59:43,767 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-14 19:59:43,768 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-14 19:59:43,768 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-14 19:59:43,769 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-14 19:59:43,769 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-14 19:59:47,145 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-14 19:59:47,176 - router       -__init__            - INFO     - Инициализация Router
2025-04-14 19:59:47,207 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-14 19:59:47,238 - app_server   -do_PATCH            - DEBUG    - Экземпляр класса Router - {'routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000255D0995160>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000255D0985590>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000255D0985810>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000255D0423950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000255D0423BB0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000255D096FE30>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000255D047B9B0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000255D047BBD0>>, ('GET', '/currency/:code'): <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000255D0990950>>, ('GET', '/exchangeRates/:pair'): <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000255D0990B50>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000255D041F6B0>>, ('PATCH', '/exchangeRate/:pair'): <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000255D099C5F0>>}}
2025-04-14 19:59:47,268 - router       -handle_request      - INFO     - Обработка запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:59:47,300 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDEUR, параметры: {}
2025-04-14 19:59:47,331 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-14 19:59:47,361 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.0
2025-04-14 19:59:47,391 - router       -_parse_body         - DEBUG    - Тело запроса (form-urlencoded): {'rate': '1.0'}
2025-04-14 19:59:47,422 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDEUR', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Content-Length': '8', 'sec-ch-ua-platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'Content-Type': 'application/x-www-form-urlencoded', 'sec-ch-ua-mobile': '?0', 'Accept': '*/*', 'Origin': 'http://localhost:8000', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={'rate': '1.0'}, query_params={}, response=None)
2025-04-14 19:59:47,453 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDEUR
2025-04-14 19:59:47,485 - router       -resolve             - DEBUG    - обработчик: None
2025-04-14 19:59:47,516 - router       -resolve             - DEBUG    - Обработчик для маршрута PATCH /exchangeRate/USDEUR: None
2025-04-14 19:59:47,547 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate с /exchangeRate/USDEUR
2025-04-14 19:59:47,577 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-14 19:59:47,608 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:59:47,638 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDEUR
2025-04-14 19:59:47,669 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDEUR
2025-04-14 19:59:47,700 - router       -resolve             - INFO     - Динамический маршрут найден: PATCH /exchangeRate/USDEUR
2025-04-14 19:59:47,731 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-14 19:59:47,761 - controller   -update_exchange_rate_by_pair- DEBUG    - Данные запроса: {'rate': '1.0'}, параметры: {'pair': 'USDEUR'}
2025-04-14 19:59:47,776 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> EUR = 1.0
2025-04-14 19:59:47,931 - model        -patch_exchange_rate - DEBUG    - result: (2,)
2025-04-14 19:59:48,039 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> EUR успешно обновлен
2025-04-14 19:59:48,069 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 19:59:48,178 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 19:59:48,240 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-14 19:59:48,396 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-14 19:59:48,442 - router       -handle_request      - DEBUG    - Ответ DTO: None
2025-04-14 19:59:48,472 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: None
2025-04-15 09:09:33,795 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:09:33,811 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:09:33,841 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:09:33,872 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-15 09:09:33,904 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 09:09:33,934 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 09:09:33,966 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 09:09:33,998 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-15 09:09:34,028 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 09:09:34,060 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x00000255D097FE70>>
2025-04-15 09:09:34,091 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-15 09:09:34,122 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-15 09:09:34,152 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 09:09:34,184 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 09:09:34,445 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 09:09:34,491 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:09:34,521 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:09:34,553 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 09:09:34,584 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:11:34,742 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:11:34,773 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:11:34,804 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:11:34,835 - router       -handle_request      - INFO     - Обработка запроса: GET /currencies?
2025-04-15 09:11:34,866 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 09:11:34,897 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 09:11:34,929 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 09:11:34,960 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-15 09:11:34,990 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 09:11:35,020 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x00000255D04B7B60>>
2025-04-15 09:11:35,050 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-15 09:11:35,081 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-15 09:11:35,112 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 09:11:35,143 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 09:11:35,282 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 09:11:35,329 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:11:35,360 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:11:35,391 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 09:11:35,422 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:32:38,046 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 09:33:09,024 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 09:33:09,024 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 09:33:09,024 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 09:33:09,025 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 09:33:09,025 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 09:33:09,026 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 09:33:09,026 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 09:33:15,521 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:33:15,551 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:33:15,583 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:33:17,454 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:33:17,486 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:33:17,517 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:33:18,155 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:33:18,186 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:33:18,216 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:33:23,529 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:33:23,559 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:33:23,591 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:33:24,273 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:33:24,304 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:33:24,336 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:33:27,451 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 09:34:08,032 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 09:34:08,033 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 09:34:08,033 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 09:34:08,034 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 09:34:08,034 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 09:34:08,034 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 09:34:08,035 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 09:34:10,348 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:34:10,380 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:34:10,410 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:34:10,442 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 09:34:10,472 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 09:34:10,504 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 09:34:10,536 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 09:34:10,566 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Cache-Control': 'max-age=0', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'cross-site', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7'}, body={}, query_params={}, response=None)
2025-04-15 09:34:10,596 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 09:34:10,627 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x000001C33C33D160>>
2025-04-15 09:34:10,657 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-15 09:34:10,689 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-15 09:34:10,721 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 09:34:10,751 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 09:34:10,923 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 09:34:10,969 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:34:11,001 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:34:11,032 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 09:34:11,062 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:36:38,484 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 09:36:39,529 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 09:36:39,529 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 09:36:39,530 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 09:36:39,530 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 09:36:39,530 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 09:36:39,531 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 09:36:39,531 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 09:36:50,386 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:36:50,415 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:36:50,446 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:36:50,477 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 09:36:50,507 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 09:36:50,539 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 09:36:50,570 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 09:36:50,602 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={'Host': 'localhost:8000', 'Connection': 'keep-alive', 'sec-ch-ua': '"Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'Upgrade-Insecure-Requests': '1', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', 'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'Sec-Fetch-Site': 'same-origin', 'Sec-Fetch-Mode': 'navigate', 'Sec-Fetch-User': '?1', 'Sec-Fetch-Dest': 'document', 'Referer': 'http://localhost:8000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'Cookie': 'Pycharm-a6e6ae6c=9579dcce-367f-4902-a210-84050e784aad'}, body={}, query_params={}, response=None)
2025-04-15 09:36:50,632 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 09:36:50,663 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x0000015C4D76D160>>
2025-04-15 09:36:50,695 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-15 09:36:50,725 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-15 09:36:50,757 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 09:36:50,788 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 09:36:51,019 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 09:36:51,065 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:36:51,096 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:36:51,127 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 09:36:51,157 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:39:58,785 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 09:39:59,972 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 09:39:59,972 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 09:39:59,973 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 09:39:59,974 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 09:39:59,974 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 09:39:59,974 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 09:39:59,974 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 09:40:03,295 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 09:40:03,325 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 09:40:03,357 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 09:40:03,387 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 09:40:03,419 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 09:40:03,450 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 09:40:03,482 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 09:40:03,512 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None)
2025-04-15 09:40:03,543 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 09:40:03,574 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x0000025CBF08D160>>
2025-04-15 09:40:03,606 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-15 09:40:03,636 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-15 09:40:03,668 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 09:40:03,698 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 09:40:04,007 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 09:40:04,055 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:40:04,086 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 09:40:04,117 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 09:40:04,148 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 10:43:30,926 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 10:43:31,996 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 10:43:31,996 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 10:43:31,997 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 10:43:31,997 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 10:43:31,998 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 10:43:31,998 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 10:43:31,998 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 10:43:38,983 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 10:43:39,013 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 10:43:39,045 - router       -__init__            - DEBUG    - Список маршрутов: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('GET', '/currency/:code'), ('GET', '/exchangeRates/:pair'), ('PATCH', '/exchangeRate'), ('PATCH', '/exchangeRate/:pair')])
2025-04-15 10:43:39,075 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 10:43:39,107 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 10:43:39,153 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 10:43:39,184 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 10:43:39,215 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None)
2025-04-15 10:43:39,247 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 10:43:39,277 - router       -resolve             - DEBUG    - обработчик: <bound method Controller.get_currencies of <controller.Controller object at 0x00000200E0D4D160>>
2025-04-15 10:43:39,309 - router       -resolve             - DEBUG    - Обработчик для маршрута GET /currencies: get_currencies
2025-04-15 10:43:39,340 - router       -resolve             - INFO     - Маршрут найден: GET /currencies
2025-04-15 10:43:39,371 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 10:43:39,402 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 10:43:39,586 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 10:43:39,633 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 10:43:39,664 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 10:43:39,694 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 10:43:39,724 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 10:48:29,580 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 11:03:56,681 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 11:03:56,682 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 11:03:56,682 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 11:03:56,683 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 11:03:56,683 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 11:03:56,684 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 11:03:56,684 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 11:04:04,682 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:04:04,713 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:04:04,745 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:04:04,776 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:04:04,807 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 11:04:04,838 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 11:04:04,869 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:04:04,899 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:04:04,930 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None)
2025-04-15 11:04:04,961 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 11:04:04,992 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 11:04:05,023 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 11:04:05,054 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 11:04:05,240 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 11:04:05,302 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 11:04:05,333 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 11:04:05,364 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:04:05,395 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 11:04:18,663 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:04:18,693 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:04:18,723 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:04:18,754 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:04:18,785 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 11:04:18,816 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 11:04:18,848 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:04:18,894 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:04:18,926 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None)
2025-04-15 11:04:18,957 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 11:04:18,987 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 11:04:19,017 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 11:04:19,049 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 11:04:19,079 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 11:04:19,185 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 11:04:19,231 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 11:04:19,263 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 11:04:19,293 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:04:19,325 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 11:04:25,857 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:04:25,888 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:04:25,919 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:04:25,950 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:04:25,981 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRate?from=USD&to=EUR
2025-04-15 11:04:26,012 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-15 11:04:26,044 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:04:26,075 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:04:26,106 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-15 11:04:26,137 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-15 11:04:26,168 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRate
2025-04-15 11:04:26,199 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-15 11:04:26,230 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-15 11:04:26,261 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-15 11:04:26,355 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-15 11:04:26,402 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.0, 'id': 2}
2025-04-15 11:04:26,432 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 11:04:26,573 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 11:04:26,620 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-15 11:04:26,728 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-15 11:04:26,776 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-15 11:04:26,806 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:04:26,838 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-15 11:04:36,593 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:04:36,622 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:04:36,654 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:04:36,684 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:04:36,715 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 11:04:36,746 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 11:04:36,777 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:04:36,807 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:04:36,838 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 11:04:36,870 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 11:04:36,900 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 11:04:36,931 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 11:04:36,963 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 11:04:36,993 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 11:04:37,086 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:04:37,132 - controller   -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:04:37,163 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-15 11:04:37,194 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:04:37,224 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-15 11:11:01,165 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:11:01,195 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:11:01,226 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:11:01,257 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:11:01,287 - router       -handle_request      - INFO     - Обработка запроса:  GET /currenc99
2025-04-15 11:11:01,319 - router       -handle_request      - DEBUG    - Путь запроса: /currenc99, параметры: {}
2025-04-15 11:11:01,348 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:11:01,379 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:11:01,410 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currenc99', headers={}, body={}, query_params={}, response=None)
2025-04-15 11:11:01,441 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currenc99
2025-04-15 11:11:01,471 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currenc99
2025-04-15 11:11:01,503 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-15 11:11:01,534 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /currenc99
2025-04-15 11:11:01,565 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-15 11:11:01,595 - router       -resolve             - WARNING  - Маршрут не найден: GET /currenc99
2025-04-15 11:11:01,626 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-15 11:11:01,656 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:11:01,687 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Route not found'}
2025-04-15 11:14:46,035 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 11:14:47,427 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 11:14:47,427 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 11:14:47,427 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 11:14:47,428 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 11:14:47,428 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 11:14:47,429 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 11:14:47,429 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 11:14:52,563 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:14:52,593 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:14:52,624 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:14:52,655 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:14:52,687 - router       -handle_request      - INFO     - Обработка запроса:  GET /currenc99
2025-04-15 11:14:52,718 - router       -handle_request      - DEBUG    - Путь запроса: /currenc99, параметры: {}
2025-04-15 11:14:52,749 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:14:52,780 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:14:52,812 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currenc99', headers={}, body={}, query_params={}, response=None)
2025-04-15 11:14:52,843 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currenc99
2025-04-15 11:14:52,873 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currenc99
2025-04-15 11:14:52,904 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-15 11:14:52,935 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRates/:pair с /currenc99
2025-04-15 11:14:52,966 - router       -match_dynamic_route - DEBUG    - Длина частей маршрута и URL не совпадает
2025-04-15 11:14:52,996 - router       -resolve             - WARNING  - Маршрут не найден: GET /currenc99
2025-04-15 11:14:53,028 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Route not found'}
2025-04-15 11:14:53,059 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:14:53,089 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': 'Route not found'}
2025-04-15 11:16:17,303 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:16:17,333 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:16:17,365 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:16:17,396 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:16:17,426 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 11:16:17,456 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 11:16:17,487 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:16:17,518 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:16:17,549 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 11:16:17,578 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 11:16:17,609 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 11:16:17,640 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 11:16:17,672 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 11:16:17,703 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 11:16:17,795 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:16:17,841 - controller   -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:16:17,873 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-15 11:16:17,903 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:16:17,935 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-15 11:36:50,383 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 11:36:51,994 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 11:36:51,995 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 11:36:51,995 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 11:36:51,996 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 11:36:51,996 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 11:36:51,996 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 11:36:51,996 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 11:36:59,265 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:36:59,297 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:37:01,126 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:37:01,157 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:37:01,808 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:37:01,840 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:37:07,188 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:37:07,219 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:37:07,882 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:37:07,912 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:21,670 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:21,701 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:22,362 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:22,394 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:23,745 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:23,776 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:24,441 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:24,471 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:29,817 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:29,847 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:30,496 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:30,527 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:42,502 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 11:38:43,847 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 11:38:43,848 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 11:38:43,848 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 11:38:43,849 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 11:38:43,849 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 11:38:43,850 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 11:38:43,850 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 11:38:47,662 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:47,693 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:47,725 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:38:47,756 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:38:47,786 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 11:38:47,817 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 11:38:47,847 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:38:47,877 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:38:47,908 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 11:38:47,940 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 11:38:47,971 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 11:38:48,002 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 11:38:48,033 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 11:38:48,064 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 11:38:48,156 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:38:48,201 - controller   -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:38:48,232 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-15 11:38:48,262 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:38:48,294 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-15 11:38:57,112 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:38:57,144 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:38:57,174 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:38:57,206 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:38:57,237 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 11:38:57,267 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 11:38:57,299 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:38:57,330 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:38:57,362 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None)
2025-04-15 11:38:57,392 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 11:38:57,423 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 11:38:57,455 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 11:38:57,485 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 11:38:57,750 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 11:38:57,795 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 11:38:57,827 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 11:38:57,859 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:38:57,889 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 11:39:02,009 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:39:02,040 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:39:02,070 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:39:02,103 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:39:02,134 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 11:39:02,164 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 11:39:02,194 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:39:02,224 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:39:02,271 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 11:39:02,301 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 11:39:02,332 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 11:39:02,363 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 11:39:02,394 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 11:39:02,426 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 11:39:02,519 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:39:02,565 - controller   -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 11:39:02,597 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-15 11:39:02,628 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:39:02,660 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-15 11:49:06,275 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:49:06,306 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:49:06,338 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:49:06,369 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:49:06,400 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRate?from=USD&to=EUR
2025-04-15 11:49:06,431 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'EUR'}
2025-04-15 11:49:06,462 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:49:06,492 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:49:06,523 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={}, body={}, query_params={'from': 'USD', 'to': 'EUR'}, response=None)
2025-04-15 11:49:06,554 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-15 11:49:06,584 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRate
2025-04-15 11:49:06,600 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-15 11:49:06,631 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD', 'to': 'EUR'}
2025-04-15 11:49:06,662 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> EUR
2025-04-15 11:49:06,769 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 2
2025-04-15 11:49:06,816 - controller   -get_exchange_rate   - INFO     - Курс обмена USD -> EUR успешно получен result = {'from': 'USD', 'to': 'EUR', 'rate': 1.0, 'id': 2}
2025-04-15 11:49:06,848 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 11:49:06,956 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 11:49:07,002 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-15 11:49:07,094 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-15 11:49:07,140 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-15 11:49:07,171 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:49:07,202 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 2, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}
2025-04-15 11:49:17,040 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 11:49:17,072 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 11:49:17,102 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 11:49:17,134 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 11:49:17,165 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRate?from=USD6&to=EUR
2025-04-15 11:49:17,195 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD6', 'to': 'EUR'}
2025-04-15 11:49:17,226 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 11:49:17,257 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 11:49:17,287 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={}, body={}, query_params={'from': 'USD6', 'to': 'EUR'}, response=None)
2025-04-15 11:49:17,317 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-15 11:49:17,349 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRate
2025-04-15 11:49:17,379 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-15 11:49:17,411 - controller   -get_exchange_rate   - DEBUG    - Данные запроса: {'from': 'USD6', 'to': 'EUR'}
2025-04-15 11:49:17,441 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD6 -> EUR
2025-04-15 11:49:17,535 - model        -get_exchange_rate   - WARNING  - Курс обмена USD6 -> EUR не найден
2025-04-15 11:49:17,582 - controller   -get_exchange_rate   - DEBUG    - Курс обмена USD6 -> EUR: None
2025-04-15 11:49:17,612 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Exchange rate not found'}
2025-04-15 11:49:17,644 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 11:49:17,675 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Exchange rate not found'}
2025-04-15 14:26:46,517 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 14:26:46,548 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 14:26:46,579 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 14:26:46,610 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 14:26:46,640 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 14:26:46,671 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 14:26:46,703 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 14:26:46,734 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 14:26:46,764 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None)
2025-04-15 14:26:46,794 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 14:26:46,825 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 14:26:46,856 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 14:26:46,887 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 14:26:47,120 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 14:26:47,166 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 14:26:47,197 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 14:26:47,228 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 14:26:47,259 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 14:26:59,390 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 14:26:59,421 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 14:26:59,452 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 14:26:59,483 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 14:26:59,514 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 14:26:59,545 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 14:26:59,576 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 14:26:59,607 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 14:26:59,637 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 14:26:59,668 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 14:26:59,699 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 14:26:59,730 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 14:26:59,760 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 14:26:59,792 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 14:26:59,883 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 14:26:59,930 - controller   -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 14:26:59,962 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency not found'}
2025-04-15 14:26:59,992 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 14:27:00,024 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Currency not found'}
2025-04-15 14:47:21,688 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 14:47:23,450 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 14:47:23,451 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 14:47:23,451 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 14:47:23,453 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 14:47:23,453 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 14:47:23,453 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 14:47:23,453 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 14:47:29,364 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 14:47:29,395 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 14:47:29,426 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 14:47:29,457 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 14:47:29,488 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 14:47:29,520 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 14:47:29,551 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 14:47:29,582 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 14:47:29,613 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 14:47:29,643 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 14:47:29,674 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 14:47:29,704 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 14:47:29,735 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 14:47:29,766 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 14:47:29,858 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 14:47:29,890 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 14:47:29,935 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 14:47:29,965 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'}
2025-04-15 14:47:29,980 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 14:47:30,012 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Failed to retrieve currency'}
2025-04-15 15:37:15,667 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 15:37:15,696 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 15:37:15,727 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 15:37:15,757 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 15:37:15,789 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 15:37:15,819 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 15:37:15,850 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 15:37:15,880 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 15:37:15,912 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None)
2025-04-15 15:37:15,942 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 15:37:15,974 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 15:37:16,004 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 15:37:16,158 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 15:37:16,190 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-15 15:37:16,252 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-15 15:37:21,535 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:19:24,129 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:19:24,129 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:19:24,129 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:19:24,130 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:19:24,130 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:19:24,131 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:19:24,131 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:19:31,662 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:19:31,693 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:19:31,724 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:19:31,756 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:19:31,787 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/USD
2025-04-15 18:19:31,818 - router       -handle_request      - DEBUG    - Путь запроса: /currency/USD, параметры: {}
2025-04-15 18:19:31,848 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:19:31,878 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:19:31,908 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/USD', headers={}, body={}, query_params={}, response=None)
2025-04-15 18:19:31,938 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/USD
2025-04-15 18:19:31,968 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/USD
2025-04-15 18:19:31,999 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = USD
2025-04-15 18:19:32,029 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/USD
2025-04-15 18:19:32,060 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/USD
2025-04-15 18:19:32,091 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 18:19:32,122 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:19:32,153 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:19:32,309 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:19:32,371 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:19:32,402 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:19:32,433 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:19:32,464 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:19:40,783 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:19:40,814 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:19:40,844 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:19:40,876 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:19:40,906 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 18:19:40,938 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 18:19:40,968 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:19:41,000 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:19:41,030 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None)
2025-04-15 18:19:41,061 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 18:19:41,092 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 18:19:41,123 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 18:19:41,245 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 18:19:41,277 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-15 18:19:41,338 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-15 18:19:48,054 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:19:48,086 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:19:48,117 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:19:48,148 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:19:48,178 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 18:19:48,208 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 18:19:48,239 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:19:48,269 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:19:48,300 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None)
2025-04-15 18:19:48,331 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 18:19:48,363 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 18:19:48,393 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 18:19:48,424 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 18:19:48,610 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 18:19:48,657 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 18:19:48,689 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 18:19:48,719 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:19:48,751 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 18:20:35,018 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:20:35,048 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:20:35,078 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:20:35,109 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:20:35,139 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:20:35,170 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:20:35,200 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:20:35,231 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:20:35,262 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 18:20:35,293 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:20:35,308 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:20:35,338 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:20:35,369 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:20:35,400 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:20:35,492 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:20:35,524 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:20:35,570 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:20:35,601 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'}
2025-04-15 18:20:35,632 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:20:35,663 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Failed to retrieve currency'}
2025-04-15 18:23:13,379 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:23:14,881 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:23:14,881 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:23:14,881 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:23:14,882 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:23:14,882 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:23:14,883 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:23:14,883 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:23:17,781 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:23:17,811 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:23:17,842 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:23:17,874 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:23:17,904 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:23:17,936 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:23:17,983 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:23:18,014 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:23:18,045 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 18:23:18,076 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:23:18,107 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:23:18,138 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:23:18,169 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:23:18,200 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:23:18,308 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:23:18,341 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:18,387 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:20,300 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:23:20,332 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:23:20,363 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:23:20,393 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:23:20,423 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:23:20,455 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:23:20,487 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:23:20,517 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:23:20,548 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 18:23:20,580 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:23:20,610 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:23:20,642 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:23:20,674 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:23:20,704 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:23:20,797 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:23:20,827 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:20,890 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:21,527 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:23:21,557 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:23:21,588 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:23:21,619 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:23:21,651 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:23:21,682 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:23:21,713 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:23:21,744 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:23:21,775 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 18:23:21,806 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:23:21,837 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:23:21,869 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:23:21,900 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:23:21,930 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:23:22,020 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:23:22,050 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:22,096 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:27,424 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:23:27,456 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:23:27,487 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:23:27,517 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:23:27,547 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:23:27,578 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:23:27,609 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:23:27,641 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:23:27,671 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 18:23:27,702 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:23:27,732 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:23:27,763 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:23:27,793 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:23:27,825 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:23:27,901 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:23:27,931 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:27,979 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:23:28,625 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:23:28,655 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:23:28,686 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:23:28,717 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:23:28,747 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:23:28,778 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:23:28,809 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:23:28,840 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:23:28,871 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None)
2025-04-15 18:23:28,901 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:23:28,932 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:23:28,963 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:23:28,994 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:23:29,024 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:23:29,087 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:26:11,634 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:26:11,634 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:26:11,635 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:26:11,635 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:26:11,635 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:26:11,636 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:26:11,636 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:26:15,283 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:26:15,314 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:26:15,345 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:26:15,377 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:26:15,407 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:26:15,438 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:26:15,469 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:26:15,499 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:26:15,530 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:26:15,561 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:26:15,592 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:26:15,624 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:26:15,656 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:26:15,688 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:26:15,781 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:26:15,812 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:26:15,860 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:26:15,892 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:26:15,923 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:26:15,954 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:26:17,793 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:26:17,823 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:26:17,854 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:26:17,884 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:26:17,916 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:26:17,947 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:26:17,979 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:26:18,009 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:26:18,040 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:26:18,071 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:26:18,103 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:26:18,134 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:26:18,165 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:26:18,197 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:26:18,291 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:26:18,322 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:26:18,369 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:26:18,400 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:26:18,431 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:26:18,462 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:26:19,161 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:26:19,192 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:26:19,223 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:26:19,254 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:26:19,285 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:26:19,317 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:26:19,347 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:26:19,378 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:26:19,409 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:26:19,441 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:26:19,472 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:26:19,504 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:26:19,534 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:26:19,566 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:26:19,660 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:26:19,692 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:26:19,738 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:26:19,770 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:26:19,801 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:26:19,833 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:26:20,004 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:28:55,845 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:28:55,846 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:28:55,846 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:28:55,846 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:28:55,847 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:28:55,847 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:28:55,847 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:28:58,505 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:28:58,535 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:28:58,567 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:28:58,614 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:28:58,629 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:28:58,661 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:28:58,692 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:28:58,722 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:28:58,754 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:28:58,786 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:28:58,816 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:28:58,848 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:28:58,878 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:28:58,910 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:28:59,004 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:28:59,034 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:28:59,081 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:28:59,112 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:28:59,143 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:28:59,175 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:29:00,977 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:29:01,008 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:29:01,039 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:29:01,070 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:29:01,100 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:29:01,130 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:29:01,161 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:29:01,192 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:29:01,222 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:29:01,253 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:29:01,284 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:29:01,315 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:29:01,346 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:29:01,377 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:29:01,486 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:29:01,516 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:29:01,578 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:29:01,609 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:29:01,640 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:29:01,670 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:29:02,367 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:29:02,398 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:29:02,429 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:29:02,459 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:29:02,490 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:29:02,521 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:29:02,552 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:29:02,583 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:29:02,614 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:29:02,644 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:29:02,674 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:29:02,705 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:29:02,735 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:29:02,766 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:29:02,874 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:29:02,905 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:29:02,952 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:29:02,983 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:29:03,014 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:29:03,045 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:29:04,383 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:32:19,487 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:32:19,487 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:32:19,488 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:32:19,488 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:32:19,489 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:32:19,489 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:32:19,489 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:32:22,071 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:32:22,102 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:32:22,132 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:32:22,163 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:32:22,194 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:32:22,225 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:32:22,257 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:32:22,288 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:32:22,319 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:32:22,350 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:32:22,380 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:32:22,411 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:32:22,442 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:32:22,474 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:32:22,552 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:32:22,582 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:32:22,629 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:32:22,659 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:32:22,690 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-15 18:32:22,721 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:32:22,752 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:32:24,550 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:32:24,582 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:32:24,612 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:32:24,644 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:32:24,674 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:32:24,704 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:32:24,735 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:32:24,766 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:32:24,798 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:32:24,827 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:32:24,858 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:32:24,889 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:32:24,919 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:32:24,949 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:32:25,043 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:32:25,073 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:32:25,119 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:32:25,149 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:32:25,181 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-15 18:32:25,211 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:32:25,242 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:32:25,963 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:32:25,994 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:32:26,024 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:32:26,056 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:32:26,088 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:32:26,119 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:32:26,149 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:32:26,180 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:32:26,211 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:32:26,241 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:32:26,257 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:32:26,288 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:32:26,319 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:32:26,350 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:32:26,457 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:32:26,487 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:32:26,533 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:32:26,565 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-15 18:32:26,596 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-15 18:32:26,627 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:32:26,658 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-15 18:32:27,317 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:34:16,974 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:34:16,974 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:34:16,974 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:34:16,975 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:34:16,975 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:34:16,976 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:34:16,976 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:34:17,876 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:34:17,906 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:34:17,937 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:34:17,968 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:34:17,999 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:34:18,029 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:34:18,061 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:34:18,092 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:34:18,123 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:34:18,154 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:34:18,185 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:34:18,216 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:34:18,247 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:34:18,279 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:34:18,388 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:34:18,418 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:18,463 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:20,324 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:34:20,355 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:34:20,386 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:34:20,417 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:34:20,448 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:34:20,480 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:34:20,495 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:34:20,528 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:34:20,559 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:34:20,589 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:34:20,619 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:34:20,650 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:34:20,698 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:34:20,729 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:34:20,819 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:34:20,850 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:20,897 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:21,550 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:34:21,581 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:34:21,612 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:34:21,642 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:34:21,674 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:34:21,704 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:34:21,734 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:34:21,765 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:34:21,797 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:34:21,827 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:34:21,858 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:34:21,889 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:34:21,919 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:34:21,951 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:34:22,043 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:34:22,074 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:22,120 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:22,470 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:34:24,338 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:34:24,338 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:34:24,338 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:34:24,339 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:34:24,339 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:34:24,340 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:34:24,340 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:34:27,789 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:34:27,819 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:34:27,835 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:34:27,867 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:34:27,898 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:34:27,929 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:34:27,960 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:34:27,991 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:34:28,022 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:34:28,053 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:34:28,085 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:34:28,116 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:34:28,147 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:34:28,178 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:34:28,286 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:34:28,318 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:28,365 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:30,677 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:34:45,231 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:34:45,231 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:34:45,231 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:34:45,232 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:34:45,232 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:34:45,233 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:34:45,233 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:34:49,441 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:34:49,471 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:34:49,502 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:34:49,532 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:34:49,563 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:34:49,594 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:34:49,625 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:34:49,657 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:34:49,688 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:34:49,719 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:34:49,750 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:34:49,781 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:34:49,812 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:34:49,844 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:34:49,968 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:34:49,999 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:50,046 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:34:51,919 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:34:51,951 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:34:51,982 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:34:52,012 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:34:52,042 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:34:52,073 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:34:52,104 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:34:52,135 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:34:52,166 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:34:52,168 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:34:52,168 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:34:52,168 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:39:40,953 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:39:40,953 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:39:40,953 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:39:40,954 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:39:40,954 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:39:40,955 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:39:40,955 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:39:47,479 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:39:47,509 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:39:47,540 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:39:47,570 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:39:47,600 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:39:47,631 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:39:47,662 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:39:47,693 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:39:47,724 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:39:47,755 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:39:47,786 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:39:47,817 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:39:47,848 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:39:47,878 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:39:48,016 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:39:48,080 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:39:49,925 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:39:49,956 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:39:49,987 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:39:50,018 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:39:50,049 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:39:50,080 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:39:50,111 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:39:50,142 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:39:50,174 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:39:50,205 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:39:50,236 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:39:50,267 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:39:50,298 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:39:50,329 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:39:50,454 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:39:50,502 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:39:51,138 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:39:51,170 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:39:51,201 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:39:51,232 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:39:51,263 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:39:51,294 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:39:51,309 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:39:51,340 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:39:51,371 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:39:51,401 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:39:51,433 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:39:51,463 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:39:51,495 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:39:51,525 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:39:51,666 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:39:51,712 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:10,029 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:40:11,276 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:40:11,276 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:40:11,276 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:40:11,277 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:40:11,277 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:40:11,278 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:40:11,278 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:40:13,927 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:13,958 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:13,990 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:14,020 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:14,051 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:14,081 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:14,112 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:14,142 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:14,174 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:14,174 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:14,205 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:14,235 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:14,265 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:14,296 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:14,421 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:14,467 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:16,326 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:16,356 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:16,388 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:16,418 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:16,450 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:16,480 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:16,511 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:16,541 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:16,571 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:16,603 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:16,633 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:16,665 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:16,696 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:16,726 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:16,836 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:16,883 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:17,511 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:17,542 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:17,590 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:17,620 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:17,652 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:17,683 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:17,713 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:17,745 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:17,776 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:17,808 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:17,838 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:17,869 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:17,901 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:17,931 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:18,072 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:18,119 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:23,479 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:23,509 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:23,540 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:23,572 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:23,602 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:23,633 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:23,663 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:23,693 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:23,724 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:23,754 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:23,786 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:23,818 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:23,848 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:23,880 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:23,989 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:24,035 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:24,679 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:24,708 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:24,739 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:24,770 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:24,802 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:24,832 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:24,864 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:24,895 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:24,925 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:24,957 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:24,989 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:25,019 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:25,066 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:25,097 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:25,190 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:25,252 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:25,355 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:40:39,989 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:40:39,989 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:40:39,990 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:40:39,990 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:40:39,990 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:40:39,991 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:40:39,991 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:40:40,609 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:40,641 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:40,671 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:40,702 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:40,733 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:40,763 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:40,795 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:40,827 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:40,857 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:40,889 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:40,920 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:40,950 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:40,980 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:41,011 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:41,136 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:41,182 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:42,901 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:42,932 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:42,962 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:42,994 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:43,025 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:43,055 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:43,085 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:43,115 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:43,147 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:43,177 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:43,224 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:43,255 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:43,286 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:43,317 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:43,473 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:43,535 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:43,883 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:40:48,181 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:40:48,181 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:40:48,181 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:40:48,182 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:40:48,182 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:40:48,183 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:40:48,183 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:40:50,870 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:50,901 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:50,932 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:50,962 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:50,993 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:51,024 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:51,055 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:51,086 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:51,116 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:51,147 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:51,177 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:51,207 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:51,223 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:51,254 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:51,395 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:40:51,442 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:40:53,160 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:40:53,189 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:40:53,220 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:40:53,251 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:40:53,282 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:40:53,313 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:40:53,344 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:40:53,375 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:40:53,406 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:40:53,438 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:40:53,469 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:40:53,500 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:40:53,532 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:40:53,563 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:40:53,621 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:41:10,041 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:41:10,041 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:41:10,041 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:41:10,042 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:41:10,042 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:41:10,043 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:41:10,043 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:41:12,203 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:12,233 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:12,265 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:12,296 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:12,326 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:12,358 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:12,388 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:12,420 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:12,450 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:12,481 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:12,513 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:12,528 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:12,558 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:12,588 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:12,726 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:12,773 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:14,521 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:14,552 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:14,582 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:14,614 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:14,644 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:14,674 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:14,705 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:14,735 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:14,765 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:14,797 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:14,829 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:14,859 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:14,890 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:14,920 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:15,060 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:15,106 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:15,743 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:15,789 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:15,821 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:15,851 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:15,883 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:15,913 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:15,943 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:15,973 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:16,005 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:16,035 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:16,065 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:16,096 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:16,127 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:16,158 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:16,266 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:16,312 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:21,630 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:21,661 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:21,692 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:21,723 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:21,754 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:21,786 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:21,817 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:21,848 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:21,879 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:21,910 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:21,941 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:21,972 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:22,003 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:22,034 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:22,126 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:22,171 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:22,805 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:22,835 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:22,867 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:22,897 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:22,927 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:22,958 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:22,989 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:23,020 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:23,051 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:23,082 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:23,113 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:23,144 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:23,160 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:23,191 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:23,330 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:23,377 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:31,330 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:41:32,449 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:41:32,449 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:41:32,449 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:41:32,450 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:41:32,450 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:41:32,451 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:41:32,451 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:41:36,798 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:36,828 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:36,859 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:36,889 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:36,920 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:36,951 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:36,983 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:37,014 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:37,045 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:37,075 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:37,106 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:37,137 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:37,167 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:37,198 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:37,320 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:37,365 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:37,396 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:41:37,428 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:39,189 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:39,220 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:39,251 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:39,282 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:39,313 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:39,329 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:39,359 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:39,389 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:39,420 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:39,450 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:39,480 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:39,512 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:39,542 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:39,574 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:39,710 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:39,755 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:39,785 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:41:39,817 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:40,508 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:41:40,538 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:41:40,569 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:41:40,599 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:41:40,630 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:41:40,661 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:41:40,692 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:41:40,722 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:41:40,753 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:41:40,783 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:41:40,814 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:41:40,845 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:41:40,875 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:41:40,907 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:41:41,059 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:41:41,105 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:41,135 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:41:41,165 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:41:45,268 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:43:23,679 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:43:23,679 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:43:23,679 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:43:23,680 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:43:23,680 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:43:23,681 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:43:23,681 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:43:27,675 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:43:27,706 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:43:27,737 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:43:27,768 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:43:27,800 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:43:27,831 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:43:27,862 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:43:27,893 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:43:27,925 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:43:27,956 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:43:27,986 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:43:28,017 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:43:28,048 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:43:28,079 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:43:28,203 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:43:28,251 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:43:28,282 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 18:43:28,313 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:43:28,345 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:43:30,225 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:43:30,256 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:43:30,286 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:43:30,317 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:43:30,347 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:43:30,378 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:43:30,405 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:43:30,405 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:43:30,406 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:46:14,940 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:46:14,940 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:46:14,940 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:46:14,941 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:46:14,941 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:46:14,941 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:46:14,941 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:46:22,056 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:46:22,086 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:46:22,117 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:46:22,148 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:46:22,180 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:46:22,211 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:46:22,242 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:46:22,273 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:46:22,304 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:46:22,334 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:46:22,364 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:46:22,395 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:46:22,426 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:46:22,458 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:46:22,611 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:46:22,658 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:46:24,357 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:46:24,387 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:46:24,417 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:46:24,463 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:46:24,494 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:46:24,526 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:46:24,557 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:46:24,588 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:46:24,619 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:46:24,650 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:46:24,681 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:46:24,712 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:46:24,742 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:46:24,774 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:46:24,913 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:46:24,960 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:46:25,581 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:46:25,612 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:46:25,643 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:46:25,674 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:46:25,705 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:46:25,736 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:46:25,768 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:46:25,799 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:46:25,830 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:46:25,861 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:46:25,892 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:46:25,923 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:46:25,954 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:46:25,985 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:46:26,125 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:46:26,171 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:46:27,423 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:46:55,820 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:46:55,820 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:46:55,821 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:46:55,821 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:46:55,821 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:46:55,822 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:46:55,822 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:46:58,851 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:46:58,882 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:46:58,913 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:46:58,944 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:46:58,974 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:46:59,006 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:46:59,037 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:46:59,068 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:46:59,099 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:46:59,130 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:46:59,145 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:46:59,177 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:46:59,209 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:46:59,239 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:46:59,348 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:46:59,395 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:46:59,427 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 
2025-04-15 18:46:59,457 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 18:46:59,502 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:46:59,533 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:47:01,277 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:47:01,308 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:47:01,308 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:47:01,338 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:47:01,368 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:47:01,400 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:47:01,432 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:47:01,462 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:47:01,492 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:47:01,524 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:47:01,554 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:47:01,585 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:47:01,631 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:47:01,663 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:47:01,772 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:47:01,834 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:47:01,864 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 
2025-04-15 18:47:01,896 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 18:47:01,928 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:47:01,958 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:47:02,638 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:47:02,668 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:47:02,699 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:47:02,731 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:47:02,761 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:47:02,793 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:47:02,822 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:47:02,855 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:47:02,886 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:47:02,918 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:47:02,948 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:47:02,980 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:47:03,011 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:47:03,041 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:47:03,165 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:47:03,213 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:47:03,244 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 
2025-04-15 18:47:03,275 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 18:47:03,321 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:47:03,353 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:47:04,027 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:48:51,704 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:48:51,704 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:48:51,704 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:48:51,705 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:48:51,705 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:48:51,706 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:48:51,706 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:48:54,595 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:48:54,626 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:48:54,657 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:48:54,688 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:48:54,719 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:48:54,750 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:48:54,782 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:48:54,813 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:48:54,844 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:48:54,875 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:48:54,906 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:48:54,937 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:48:54,969 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:48:55,000 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:48:55,106 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:48:55,153 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:48:55,184 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-15 18:48:55,215 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 18:48:55,247 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:48:55,278 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:48:57,066 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:48:57,098 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:48:57,128 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:48:57,160 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:48:57,192 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:48:57,222 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:48:57,252 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:48:57,283 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:48:57,313 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:48:57,345 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:48:57,377 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:48:57,407 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:48:57,439 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:48:57,469 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:48:57,577 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:48:57,623 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:48:57,653 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-15 18:48:57,684 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 18:48:57,714 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:48:57,745 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:48:58,443 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:48:58,475 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:48:58,505 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:48:58,536 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:48:58,567 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:48:58,597 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:48:58,628 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:48:58,658 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:48:58,689 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:48:58,719 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:48:58,750 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:48:58,780 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:48:58,811 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:48:58,842 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:48:58,950 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:48:58,997 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:48:59,027 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-15 18:48:59,057 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 18:48:59,088 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:48:59,119 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:48:59,359 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:52:24,937 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:52:24,937 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:52:24,937 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:52:24,938 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:52:24,938 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:52:24,939 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:52:24,939 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:52:29,288 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:52:29,317 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:52:29,347 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:52:29,379 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:52:29,408 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 18:52:29,441 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 18:52:29,471 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:52:29,503 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:52:29,533 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 18:52:29,563 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:52:29,595 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:52:29,626 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:52:29,657 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 18:52:29,687 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 18:52:29,809 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 18:52:29,856 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:52:29,887 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-15 18:52:29,917 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 200
2025-04-15 18:52:29,947 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:52:29,979 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 18:53:31,235 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:53:31,267 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:53:31,298 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:53:31,328 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:53:31,360 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:53:31,391 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:53:31,423 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:53:31,453 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:53:31,484 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:53:31,516 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:53:31,546 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:53:31,578 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:53:31,609 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:53:31,640 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:53:31,778 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:53:31,810 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:53:31,856 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:53:31,887 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} 200
2025-04-15 18:53:31,917 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, 200
2025-04-15 18:53:31,949 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 18:53:31,979 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Failed to retrieve currency'}
2025-04-15 18:55:15,299 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:55:16,406 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:55:16,406 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:55:16,406 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:55:16,407 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:55:16,407 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:55:16,408 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:55:16,408 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:55:22,240 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:55:22,270 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:55:22,301 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:55:22,333 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:55:22,365 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:55:22,395 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:55:22,426 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:55:22,458 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:55:22,488 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:55:22,520 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:55:22,552 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:55:22,582 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:55:22,612 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:55:22,643 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:55:22,736 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:55:22,768 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:55:22,814 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:55:24,653 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:55:24,683 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:55:24,715 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:55:24,746 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:55:24,776 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:55:24,807 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:55:24,854 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:55:24,885 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:55:24,916 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:55:24,947 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:55:24,978 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:55:24,993 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:55:25,026 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:55:25,057 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:55:25,165 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:55:25,196 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:55:25,243 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:55:25,893 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:55:25,924 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:55:25,956 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:55:25,987 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:55:26,018 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:55:26,048 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:55:26,079 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:55:26,109 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:55:26,141 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:55:26,172 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:55:26,202 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:55:26,232 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:55:26,278 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:55:26,308 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:55:26,400 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:55:26,431 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:55:26,477 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:55:27,546 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 18:56:34,854 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 18:56:34,854 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 18:56:34,854 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 18:56:34,855 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 18:56:34,855 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 18:56:34,856 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 18:56:34,856 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 18:56:37,104 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 18:56:37,135 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 18:56:37,167 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 18:56:37,197 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 18:56:37,228 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-15 18:56:37,259 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-15 18:56:37,290 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 18:56:37,320 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 18:56:37,351 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-15 18:56:37,382 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 18:56:37,412 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 18:56:37,443 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 18:56:37,475 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-15 18:56:37,505 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-15 18:56:37,583 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-15 18:56:37,613 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:56:37,659 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-15 18:56:39,393 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 19:09:09,596 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 19:09:09,596 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 19:09:09,596 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 19:09:09,597 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 19:09:09,597 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 19:09:09,597 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 19:09:09,597 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 19:09:15,784 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:09:15,816 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:09:15,847 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:09:15,878 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:09:15,909 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 19:09:15,939 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 19:09:15,971 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 19:09:16,001 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:09:16,033 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:09:16,065 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 19:09:16,095 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 19:09:16,127 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 19:09:16,158 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 19:09:16,188 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 19:09:16,391 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 19:09:16,437 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 19:09:18,282 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:09:18,313 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:09:18,344 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:09:18,375 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:09:18,406 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 19:09:18,437 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 19:09:18,468 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 19:09:18,499 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:09:18,530 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:09:18,561 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 19:09:18,592 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 19:09:18,623 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 19:09:18,654 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 19:09:18,685 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 19:09:18,917 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 19:09:18,964 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 19:09:19,634 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:09:19,665 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:09:19,695 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:09:19,725 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:09:19,756 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 19:09:19,786 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 19:09:19,816 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 19:09:19,848 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:09:19,880 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:09:19,910 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 19:09:19,940 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 19:09:19,971 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 19:09:20,002 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 19:09:20,032 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 19:09:20,203 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 19:09:20,250 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 19:09:21,015 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 19:14:21,963 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 19:14:21,963 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 19:14:21,963 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 19:14:21,965 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 19:14:21,965 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 19:14:21,965 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 19:14:21,965 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 19:14:23,617 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:14:23,647 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:14:23,678 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:14:23,708 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:14:23,738 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 19:14:23,768 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 19:14:23,800 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 19:14:23,830 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:14:23,862 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:14:23,893 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 19:14:23,924 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 19:14:23,954 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 19:14:23,985 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 19:14:24,015 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 19:14:24,047 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 19:14:24,186 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 19:14:24,232 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 19:14:26,089 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:14:26,119 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:14:26,149 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:14:26,181 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:14:26,211 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 19:14:26,243 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 19:14:26,273 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 19:14:26,304 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:14:26,336 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:14:26,367 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 19:14:26,399 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 19:14:26,407 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 19:14:26,407 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 19:14:26,408 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 19:27:16,430 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 19:27:16,430 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 19:27:16,430 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 19:27:16,431 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 19:27:16,431 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 19:27:16,432 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 19:27:16,432 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 19:27:23,827 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:27:23,859 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:27:23,889 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:27:23,919 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:27:23,950 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 19:27:23,982 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 19:27:24,012 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 19:27:24,044 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:27:24,076 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:27:24,107 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 19:27:24,137 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 19:27:24,168 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 19:27:24,199 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 19:27:24,353 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 19:27:26,191 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:27:26,222 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:27:26,252 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:27:26,282 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:27:26,313 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 19:27:26,344 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 19:27:26,375 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 19:27:26,406 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:27:26,437 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:27:26,469 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 19:27:26,500 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 19:27:26,531 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 19:27:26,562 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 19:27:26,700 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 19:27:27,318 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:27:27,348 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:27:27,380 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:27:27,410 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:27:27,442 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 19:27:27,474 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 19:27:27,506 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 19:27:27,536 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:27:27,567 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:27:27,597 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 19:27:27,629 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 19:27:27,661 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 19:27:27,691 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 19:27:27,816 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 19:27:45,571 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:27:45,601 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:27:45,633 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:27:45,664 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:27:45,695 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 19:27:45,725 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 19:27:45,756 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 19:27:45,788 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:27:45,819 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:27:45,850 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 19:27:45,881 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 19:27:45,912 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 19:27:45,943 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 19:27:45,989 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 19:27:46,020 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 19:27:46,142 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 19:27:46,189 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 19:27:46,804 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:27:46,835 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:27:46,866 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:27:46,896 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:27:46,927 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 19:27:46,958 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 19:27:46,989 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 19:27:47,019 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:27:47,049 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:27:47,081 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 19:27:47,111 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 19:27:47,145 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 19:27:47,174 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 19:27:47,205 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 19:27:47,236 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 19:27:47,436 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 19:27:47,483 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 19:27:48,842 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:27:48,873 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:27:48,903 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:27:48,934 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:27:48,966 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 19:27:48,996 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 19:27:49,027 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 19:27:49,057 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:27:49,088 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:27:49,119 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 19:27:49,149 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 19:27:49,180 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 19:27:49,211 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 19:27:49,241 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 19:27:49,273 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 19:27:49,366 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 19:27:49,412 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 19:27:50,043 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 19:27:50,075 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:27:50,105 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:27:50,136 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:27:50,168 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 19:27:50,198 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 19:27:50,228 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 19:27:50,259 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:27:50,291 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 19:27:50,321 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 19:27:50,353 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 19:27:50,383 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 19:27:50,414 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 19:27:50,444 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 19:27:50,476 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 19:27:50,600 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 19:27:50,647 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 19:27:51,249 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 19:28:30,304 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 19:28:30,304 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 19:28:30,304 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 19:28:30,305 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 19:28:30,305 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 19:28:30,306 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 19:28:30,306 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 19:28:45,065 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-15 19:28:45,096 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 19:28:45,127 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 19:28:45,157 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 19:28:45,188 - app_server   -do_POST             - DEBUG    - Экземпляр класса Router - {'static_routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000165CA6016A0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000165CA6016A0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000165CA6016A0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000165CA6016A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000165CA6016A0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000165CA6016A0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000165CA6016A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000165CA6016A0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000165CA6016A0>>}, 'dynamic_routes': [('GET', '/currency/:code', <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000165CA6016A0>>), ('GET', '/exchangeRates/:pair', <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000165CA6016A0>>), ('PATCH', '/exchangeRate/:pair', <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000165CA6016A0>>)]}
2025-04-15 19:28:45,219 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-15 19:28:45,250 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 19:28:45,281 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 19:28:45,311 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 19:28:45,343 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=ALL&name=Dollar
2025-04-15 19:28:45,373 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'ALL', 'name': 'Dollar'}, query_params={}, response=None, status_code=None)
2025-04-15 19:28:45,404 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-15 19:28:45,436 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-15 19:28:45,466 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-15 19:28:45,498 - controller   -add_currency        - DEBUG    - Данные запроса: {'code': 'ALL', 'name': 'Dollar'}
2025-04-15 19:28:45,529 - model        -add_currency        - INFO     - Добавление валюты: ALL, Албанский лек, L
2025-04-15 19:28:45,653 - model        -add_currency        - WARNING  - Валюта ALL уже существует в базе данных
2025-04-15 19:28:45,699 - controller   -add_currency        - ERROR    - Ошибка при добавлении валюты ALL: Currency already exists
2025-04-15 19:28:50,696 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:20:10,292 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:20:10,293 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:20:10,293 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:20:10,294 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:20:10,294 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:20:10,295 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:20:10,295 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:20:20,119 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:20:20,150 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:20:22,002 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:20:22,033 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:20:22,694 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:20:22,725 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:20:28,065 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:20:28,095 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:20:28,763 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:20:28,792 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:20:30,715 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:25:24,954 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:25:24,954 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:25:24,955 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:25:24,955 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:25:24,955 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:25:24,956 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:25:24,956 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:25:31,425 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:25:31,455 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:25:33,341 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:25:33,372 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:25:34,055 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:25:34,086 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:25:39,443 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:25:39,473 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:25:40,134 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:25:40,164 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:26:10,512 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:26:10,543 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:26:11,221 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:26:11,252 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:27:11,939 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:27:11,970 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:29:02,670 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:29:04,168 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:29:04,168 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:29:04,168 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:29:04,169 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:29:04,169 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:29:04,170 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:29:04,170 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:29:09,477 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:29:09,508 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:29:11,397 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:29:11,428 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:29:12,090 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:29:12,121 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:29:17,455 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:29:17,486 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:29:18,151 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:29:18,181 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:29:48,526 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:29:48,557 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:29:49,224 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:29:49,254 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:30:49,975 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:30:50,006 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:31:25,608 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:32:56,469 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:32:56,469 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:32:56,469 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:32:56,470 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:32:56,470 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:32:56,470 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:32:56,470 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:33:06,326 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:33:06,357 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:33:06,389 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:33:06,419 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:33:06,450 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 20:33:06,481 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 20:33:06,513 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 20:33:06,543 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:33:06,573 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:33:06,604 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:33:06,635 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 20:33:06,665 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 20:33:06,696 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 20:33:06,726 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 20:33:06,992 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 20:33:07,038 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:07,070 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-15 20:33:07,101 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-15 20:33:07,131 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-15 20:33:07,163 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:33:07,195 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:09,023 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:33:09,053 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:33:09,085 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:33:09,116 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:33:09,147 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 20:33:09,178 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 20:33:09,209 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 20:33:09,240 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:33:09,270 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:33:09,302 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:33:09,333 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 20:33:09,364 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 20:33:09,395 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 20:33:09,425 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 20:33:09,656 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 20:33:09,702 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:09,733 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-15 20:33:09,765 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-15 20:33:09,796 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-15 20:33:09,827 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:33:09,858 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:10,554 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:33:10,585 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:33:10,617 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:33:10,647 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:33:10,679 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 20:33:10,711 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 20:33:10,741 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 20:33:10,773 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:33:10,803 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:33:10,833 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:33:10,864 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 20:33:10,895 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 20:33:10,925 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 20:33:10,957 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 20:33:11,143 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 20:33:11,191 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:11,222 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-15 20:33:11,252 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-15 20:33:11,283 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-15 20:33:11,314 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:33:11,345 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:16,736 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:33:16,767 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:33:16,798 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:33:16,829 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:33:16,860 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 20:33:16,892 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 20:33:16,923 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 20:33:16,954 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:33:16,985 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:33:17,016 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:33:17,047 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 20:33:17,079 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 20:33:17,110 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 20:33:17,141 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 20:33:17,311 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 20:33:17,357 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:17,388 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-15 20:33:17,419 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-15 20:33:17,449 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-15 20:33:17,480 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:33:17,511 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:18,193 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:33:18,223 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:33:18,253 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:33:18,283 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:33:18,314 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-15 20:33:18,345 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-15 20:33:18,375 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-15 20:33:18,407 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:33:18,438 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:33:18,469 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:33:18,500 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-15 20:33:18,531 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-15 20:33:18,562 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-15 20:33:18,592 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-15 20:33:18,838 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-15 20:33:18,885 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:18,917 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-15 20:33:18,947 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-15 20:33:18,978 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-15 20:33:19,010 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:33:19,040 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-15 20:33:20,459 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:34:16,909 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:34:16,909 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:34:16,909 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:34:16,910 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:34:16,910 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:34:16,911 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:34:16,911 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:34:19,524 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:34:19,555 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:34:19,586 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:34:19,616 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:34:19,645 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 20:34:19,675 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 20:34:19,708 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 20:34:19,739 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:34:19,769 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:34:19,800 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 20:34:19,830 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 20:34:19,861 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 20:34:19,891 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 20:34:19,921 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 20:34:19,952 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 20:34:20,076 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 20:34:20,122 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:34:20,154 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-15 20:34:20,185 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-15 20:34:20,215 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 20:34:20,245 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:34:20,276 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:34:22,056 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:34:22,085 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:34:22,116 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:34:22,147 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:34:22,178 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 20:34:22,208 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 20:34:22,239 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 20:34:22,271 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:34:22,302 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:34:22,333 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 20:34:22,364 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 20:34:22,395 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 20:34:22,428 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 20:34:22,458 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 20:34:22,490 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 20:34:22,645 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 20:34:22,691 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:34:22,722 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-15 20:34:22,753 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-15 20:34:22,784 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 20:34:22,815 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:34:22,846 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:34:22,883 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:37:08,449 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:37:08,449 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:37:08,449 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:37:08,450 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:37:08,451 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:37:08,451 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:37:08,451 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:37:11,424 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:37:11,454 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:37:11,485 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:37:11,515 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:37:11,546 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 20:37:11,577 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 20:37:11,609 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 20:37:11,640 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:37:11,686 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:37:11,718 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 20:37:11,750 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 20:37:11,780 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 20:37:11,811 - router       -_safe_call          - DEBUG    - Вызов обработчика get_currency_by_code
2025-04-15 20:37:11,842 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 20:37:11,872 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 20:37:11,902 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 20:37:12,026 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 20:37:12,073 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:37:12,105 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-15 20:37:12,136 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-15 20:37:12,152 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, None
2025-04-15 20:37:12,182 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:37:12,214 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:37:13,453 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:40:27,618 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:40:27,618 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:40:27,618 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:40:27,619 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:40:27,619 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:40:27,620 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:40:27,620 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:40:30,859 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:40:30,889 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:40:30,919 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:40:30,949 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:40:30,980 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-15 20:40:31,011 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-15 20:40:31,041 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-15 20:40:31,072 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:40:31,102 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:40:31,133 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-15 20:40:31,164 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-15 20:40:31,196 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-15 20:40:31,227 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-15 20:40:31,258 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-15 20:40:31,290 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-15 20:40:31,414 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-15 20:40:31,460 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:40:31,490 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-15 20:40:31,520 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-15 20:40:31,550 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 200
2025-04-15 20:40:31,582 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:40:31,614 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-15 20:42:00,028 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:00,057 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:00,088 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:00,119 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:00,151 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:00,181 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:00,213 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:00,243 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:00,275 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:00,305 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:00,336 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:00,366 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:00,382 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:00,413 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:00,444 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:00,475 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:00,506 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:00,538 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:00,629 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:00,676 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:00,706 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:00,738 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} None
2025-04-15 20:42:00,768 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, None
2025-04-15 20:42:00,799 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:00,831 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:02,624 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:02,669 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:02,699 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:02,731 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:02,761 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:02,793 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:02,824 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:02,854 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:02,886 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:02,917 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:02,949 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:02,979 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:03,011 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:03,042 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:03,073 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:03,104 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:03,135 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:03,166 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:03,257 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:03,302 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:03,334 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:03,364 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} None
2025-04-15 20:42:03,396 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, None
2025-04-15 20:42:03,427 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:03,457 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:04,152 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:04,183 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:04,214 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:04,246 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:04,276 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:04,307 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:04,339 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:04,370 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:04,401 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:04,432 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:04,462 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:04,493 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:04,525 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:04,556 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:04,587 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:04,618 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:04,649 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:04,680 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:04,789 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:04,835 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:04,865 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:04,896 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} None
2025-04-15 20:42:04,928 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, None
2025-04-15 20:42:04,959 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:04,990 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:10,365 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:10,397 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:10,427 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:10,459 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:10,489 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:10,521 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:10,553 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:10,583 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:10,613 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:10,645 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:10,675 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:10,705 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:10,735 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:10,766 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:10,797 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:10,827 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:10,859 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:10,890 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:11,029 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:11,075 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:11,108 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:11,139 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} None
2025-04-15 20:42:11,169 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, None
2025-04-15 20:42:11,201 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:11,233 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:11,911 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:11,942 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:11,972 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:12,003 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:12,035 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:12,065 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:12,097 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:12,128 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:12,158 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:12,189 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:12,219 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:12,250 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:12,282 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:12,313 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:12,344 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:12,375 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:12,406 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:12,436 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:12,559 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:12,606 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:12,637 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:12,667 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} None
2025-04-15 20:42:12,699 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, None
2025-04-15 20:42:12,731 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:12,761 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:43,162 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:43,192 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:43,223 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:43,255 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:43,286 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:43,317 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:43,348 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:43,380 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:43,411 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:43,442 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:43,473 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:43,504 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:43,536 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:43,566 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:43,596 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:43,626 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:43,672 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:43,704 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:43,825 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:43,871 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:43,902 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:43,934 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} None
2025-04-15 20:42:43,965 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, None
2025-04-15 20:42:43,995 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:44,025 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:44,708 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:44,738 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:44,770 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:44,800 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:44,832 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:44,864 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:44,894 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:44,926 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:44,957 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:44,988 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:45,019 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:45,050 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:45,080 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:45,112 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:45,159 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:45,189 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:45,236 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:45,268 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:45,391 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:45,439 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:45,470 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:45,501 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} None
2025-04-15 20:42:45,532 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, None
2025-04-15 20:42:45,562 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:45,592 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:47,546 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:42:50,802 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:42:50,803 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:42:50,803 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:42:50,804 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:42:50,804 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:42:50,804 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:42:50,804 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:42:53,620 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:42:53,652 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:42:53,683 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:42:53,714 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:42:53,745 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:42:53,777 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:42:53,807 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:42:53,839 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:42:53,870 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:42:53,901 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:42:53,932 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:42:53,963 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:42:53,994 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:42:54,025 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:42:54,057 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:42:54,088 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:42:54,119 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:42:54,150 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:42:54,274 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:42:54,335 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:42:54,366 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:42:54,396 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} 200
2025-04-15 20:42:54,426 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 200
2025-04-15 20:42:54,457 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:42:54,488 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:43:09,877 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:09,907 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:09,937 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:09,969 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:09,999 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:10,029 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:10,060 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:10,090 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:10,122 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:10,153 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:10,183 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:10,214 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:10,244 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:10,384 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:10,415 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:10,447 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:10,478 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:11,519 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:11,549 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:11,581 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:11,611 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:11,641 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:11,673 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:11,703 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:11,735 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:11,766 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:11,796 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:11,827 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:11,858 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:11,890 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:12,012 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:12,042 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:12,073 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:12,103 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:13,467 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:13,497 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:13,527 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:13,557 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:13,588 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:13,619 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:13,651 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:13,682 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:13,713 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:13,744 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:13,775 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:13,806 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:13,837 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:13,978 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:14,009 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:14,040 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:14,072 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:14,738 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:14,769 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:14,799 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:14,846 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:14,877 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:14,907 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:14,938 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:14,969 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:14,999 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:15,030 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:15,060 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:15,091 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:15,121 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:15,260 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:15,292 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:15,322 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:15,353 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:17,189 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:17,219 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:17,250 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:17,280 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:17,312 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:17,343 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:17,374 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:17,405 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:17,436 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:17,468 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:17,499 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:17,530 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:17,561 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:17,684 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:17,715 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:17,746 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:17,777 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:18,456 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:18,486 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:18,517 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:18,548 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:18,579 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:18,610 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:18,641 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:18,671 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:18,702 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:18,732 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:18,763 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:18,794 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:18,824 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:18,963 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:18,995 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:19,025 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:19,057 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:24,427 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:24,459 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:24,490 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:24,521 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:24,552 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:24,582 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:24,613 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:24,643 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:24,674 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:24,704 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:24,735 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:24,766 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:24,797 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:24,950 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:24,982 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:25,012 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:25,042 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:25,710 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:25,739 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:25,771 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:25,801 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:25,832 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:25,862 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:25,894 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:25,924 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:25,955 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:25,987 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:26,017 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:26,049 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:26,080 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:26,204 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:26,236 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:26,266 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:26,298 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:43:45,959 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:43:50,003 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:43:50,003 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:43:50,004 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:43:50,004 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:43:50,004 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:43:50,005 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:43:50,005 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:43:52,728 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:43:52,758 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:43:52,789 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:43:52,821 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:43:52,852 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:43:52,883 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:43:52,915 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:43:52,945 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:43:52,978 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:43:53,009 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:43:53,040 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:43:53,070 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:43:53,101 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:43:53,240 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:43:53,270 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:43:53,300 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:43:53,330 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:44:21,560 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:44:25,628 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:44:25,628 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:44:25,628 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:44:25,629 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:44:25,629 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:44:25,630 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:44:25,630 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:44:26,259 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:44:26,289 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:44:26,320 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:44:26,352 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:44:26,382 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:44:26,414 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:44:26,445 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:44:26,475 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:44:26,507 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:44:26,539 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:44:26,569 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:44:26,601 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:44:26,631 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:44:26,787 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:44:26,817 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:44:26,848 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:44:26,878 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:44:30,110 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:45:25,720 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:45:25,720 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:45:25,721 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:45:25,721 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:45:25,722 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:45:25,722 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:45:25,722 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:45:26,306 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:45:26,338 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:45:26,369 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:45:26,399 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:45:26,429 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:45:26,461 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:45:26,493 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:45:26,523 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:45:26,554 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:45:26,584 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:45:26,616 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:45:26,646 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:45:26,678 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:45:26,801 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:45:26,831 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:45:26,862 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:45:26,894 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:45:28,679 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:45:28,710 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:45:28,741 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:45:28,773 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:45:28,802 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:45:28,832 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:45:28,863 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:45:28,893 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:45:28,924 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:45:28,954 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:45:28,985 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:45:29,016 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:45:29,047 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:45:29,171 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:45:29,201 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:45:29,231 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:45:29,262 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:45:29,945 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:45:29,977 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:45:30,008 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:45:30,038 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:45:30,069 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:45:30,100 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:45:30,131 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:45:30,163 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:45:30,194 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:45:30,224 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:45:30,254 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:45:30,285 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:45:30,316 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:45:30,440 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:45:30,472 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:45:30,503 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:45:30,533 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:45:35,897 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:45:35,927 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:45:35,957 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:45:35,988 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:45:36,019 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:45:36,049 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:45:36,080 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:45:36,110 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:45:36,141 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:45:36,172 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:45:36,203 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:45:36,234 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:45:36,264 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:45:36,402 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:45:36,434 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:45:36,465 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:45:36,497 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:45:37,175 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:45:37,206 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:45:37,236 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:45:37,266 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:45:37,297 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:45:37,328 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:45:37,359 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:45:37,390 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:45:37,421 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:45:37,452 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:45:37,484 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:45:37,515 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:45:37,546 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:45:37,687 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:45:37,717 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:45:37,748 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:45:37,779 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:46:08,140 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:46:08,171 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:46:08,202 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:46:08,233 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:46:08,265 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:46:08,296 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:46:08,327 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:46:08,358 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:46:08,389 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:46:08,420 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:46:08,450 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:46:08,481 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:46:08,512 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:46:08,652 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:46:08,684 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:46:08,714 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:46:08,746 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:46:09,429 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:46:09,461 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:46:09,508 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:46:09,539 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:46:09,570 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:46:09,601 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:46:09,632 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:46:09,663 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:46:09,695 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:46:09,726 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:46:09,757 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:46:09,788 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:46:09,819 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:46:09,944 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:46:09,975 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:46:10,006 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:46:10,037 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:47:10,743 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:47:10,774 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:47:10,805 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:47:10,836 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:47:10,867 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:47:10,899 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:47:10,945 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:47:10,961 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:47:10,977 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:47:11,007 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:47:11,039 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:47:11,069 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:47:11,101 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:47:11,241 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:47:11,272 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:47:11,304 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:47:11,335 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:32,094 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:32,124 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:32,155 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:32,185 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:32,218 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:32,249 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:32,279 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:32,310 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:32,340 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:32,371 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:32,402 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:32,433 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:32,464 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:32,589 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:32,620 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:32,651 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:32,683 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:35,262 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:35,292 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:35,323 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:35,354 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:35,386 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:35,417 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:35,447 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:35,477 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:35,507 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:35,539 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:35,569 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:35,601 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:35,632 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:35,768 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:35,800 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:35,830 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:35,860 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:36,528 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:36,559 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:36,606 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:36,636 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:36,668 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:36,699 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:36,731 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:36,761 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:36,791 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:36,822 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:36,852 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:36,882 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:36,914 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:37,068 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:37,099 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:37,129 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:37,159 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:40,082 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:40,114 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:40,144 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:40,176 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:40,207 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:40,237 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:40,268 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:40,299 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:40,330 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:40,360 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:40,392 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:40,423 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:40,454 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:40,591 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:40,621 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:40,652 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:40,683 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:41,365 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:41,396 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:41,427 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:41,458 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:41,490 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:41,521 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:41,551 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:41,582 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:41,613 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:41,644 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:41,674 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:41,721 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:41,767 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:41,908 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:41,938 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:41,970 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:42,001 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:43,362 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:43,392 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:43,423 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:43,454 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:43,485 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:43,516 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:43,547 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:43,578 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:43,609 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:43,640 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:43,671 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:43,703 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:43,734 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:43,874 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:43,906 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:43,936 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:43,967 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:44,647 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:44,677 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:44,709 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:44,739 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:44,771 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:44,801 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:44,832 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:44,863 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:44,894 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:44,926 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:44,956 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:44,989 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:45,020 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:45,158 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:45,188 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:45,219 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:45,249 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:50,632 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:50,662 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:50,693 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:50,725 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:50,755 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:50,787 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:50,819 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:50,849 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:50,881 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:50,912 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:50,942 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:50,974 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:51,005 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:51,144 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:51,175 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:51,206 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:51,237 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:51,905 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:51,935 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:51,950 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:51,981 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:52,012 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:51:52,043 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:51:52,074 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:51:52,105 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:52,136 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:52,167 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:52,197 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:51:52,228 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:51:52,260 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:51:52,384 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:51:52,415 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:51:52,446 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:51:52,477 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:51:52,882 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:51:52,913 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:51:52,944 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:51:52,974 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:51:53,005 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-15 20:51:53,036 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-15 20:51:53,067 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-15 20:51:53,098 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:51:53,129 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:51:53,160 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:51:53,190 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-15 20:51:53,221 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-15 20:51:53,251 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-15 20:51:53,282 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-15 20:51:53,313 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-15 20:51:53,344 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-15 20:51:53,375 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-15 20:51:53,406 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-15 20:51:53,529 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-15 20:51:53,576 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:51:53,607 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-15 20:51:53,639 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} 200
2025-04-15 20:51:53,668 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 200
2025-04-15 20:51:53,700 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-15 20:51:53,732 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-15 20:52:00,145 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:52:00,176 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:52:00,207 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:52:00,238 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:52:00,268 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:52:00,299 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:52:00,330 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:52:00,361 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:52:00,391 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:52:00,423 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:52:00,454 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:52:00,485 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:52:00,532 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:52:00,670 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:52:00,700 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:52:00,731 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:52:00,761 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:52:01,422 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:52:01,452 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:52:01,484 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:52:01,514 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:52:01,545 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:52:01,575 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:52:01,606 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:52:01,638 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:52:01,668 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:52:01,698 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:52:01,729 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:52:01,760 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:52:01,791 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:52:01,915 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:52:01,946 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:52:01,977 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:52:02,009 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:52:03,409 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:52:03,441 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:52:03,471 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:52:03,502 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:52:03,534 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:52:03,564 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:52:03,596 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:52:03,626 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:52:03,657 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:52:03,687 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:52:03,719 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:52:03,749 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:52:03,781 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:52:03,904 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:52:03,936 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:52:03,966 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:52:03,997 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:52:04,677 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:52:04,707 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:52:04,739 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:52:04,769 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:52:04,801 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:52:04,833 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:52:04,863 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:52:04,895 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:52:04,926 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:52:04,956 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:52:04,988 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:52:05,020 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:52:05,050 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:52:05,203 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:52:05,235 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:52:05,281 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:52:05,312 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:52:10,667 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:52:10,699 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:52:10,731 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:52:10,761 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:52:10,792 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:52:10,823 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:52:10,853 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:52:10,884 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:52:10,915 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:52:10,946 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:52:10,976 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:52:11,007 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:52:11,039 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:52:11,163 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:52:11,195 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:52:11,226 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:52:11,256 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:52:11,922 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:52:11,953 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:52:11,984 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:52:12,016 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:52:12,047 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:52:12,078 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:52:12,109 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:52:12,140 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:52:12,171 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:52:12,203 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:52:12,234 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:52:12,265 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:52:12,296 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:52:12,451 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:52:12,482 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:52:12,513 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:52:12,544 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:52:14,457 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:52:14,613 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:52:14,613 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:52:14,613 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:52:14,614 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:52:14,614 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:52:14,615 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:52:14,615 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:52:21,859 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:52:27,377 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:52:27,377 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:52:27,377 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:52:27,378 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:52:27,378 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:52:27,379 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:52:27,379 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:52:31,602 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:52:31,634 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:52:31,666 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:52:31,696 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:52:31,727 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:52:31,758 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:52:31,789 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:52:31,819 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:52:31,850 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:52:31,880 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:52:31,912 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:52:31,942 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:52:31,974 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:52:32,113 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:52:32,144 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:52:32,175 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:52:32,206 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:52:33,787 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 20:58:11,346 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 20:58:11,346 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 20:58:11,347 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 20:58:11,347 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 20:58:11,347 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 20:58:11,348 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 20:58:11,348 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 20:58:15,336 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:58:15,366 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:58:15,398 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:58:15,428 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:58:15,458 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:58:15,488 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:58:15,520 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:58:15,550 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:58:15,582 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:58:15,614 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:58:15,644 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:58:15,675 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:58:15,707 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:58:15,831 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:58:15,861 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:58:15,892 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:58:15,938 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:58:17,763 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:58:17,794 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:58:17,824 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:58:17,856 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:58:17,887 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:58:17,918 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:58:17,948 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:58:17,979 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:58:18,009 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:58:18,039 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:58:18,069 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:58:18,101 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:58:18,130 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:58:18,256 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:58:18,286 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:58:18,318 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:58:18,348 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:58:19,025 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:58:19,057 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:58:19,087 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:58:19,118 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:58:19,148 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:58:19,179 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:58:19,210 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:58:19,240 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:58:19,271 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:58:19,302 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:58:19,332 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:58:19,364 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:58:19,395 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:58:19,519 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:58:19,549 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:58:19,579 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:58:19,611 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:58:25,009 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:58:25,038 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:58:25,070 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:58:25,101 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:58:25,131 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:58:25,177 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:58:25,208 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:58:25,239 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:58:25,270 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:58:25,301 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:58:25,332 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:58:25,363 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:58:25,395 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:58:25,533 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:58:25,563 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:58:25,595 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:58:25,625 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:58:26,287 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 20:58:26,317 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 20:58:26,347 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 20:58:26,378 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 20:58:26,409 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 20:58:26,439 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 20:58:26,470 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 20:58:26,502 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 20:58:26,532 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 20:58:26,563 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 20:58:26,593 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 20:58:26,624 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 20:58:26,655 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 20:58:26,796 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 20:58:26,826 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 20:58:26,858 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 20:58:26,889 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 20:58:30,026 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 21:01:30,295 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 21:01:30,295 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 21:01:30,295 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 21:01:30,296 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 21:01:30,296 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 21:01:30,297 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 21:01:30,297 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 21:01:33,844 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:01:33,874 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:01:33,904 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:01:33,936 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:01:33,967 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:01:33,998 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:01:34,029 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:01:34,060 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:01:34,091 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:01:34,122 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:01:34,153 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:01:34,184 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:01:34,215 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:01:34,340 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:01:34,371 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:01:34,401 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:01:34,432 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:01:34,494 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-15 21:02:57,750 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 21:03:00,154 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 21:03:00,154 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 21:03:00,155 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 21:03:00,155 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 21:03:00,155 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 21:03:00,156 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 21:03:00,156 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 21:03:04,303 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:03:04,334 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:03:04,350 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:03:04,381 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:03:04,412 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:03:04,443 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:03:04,474 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:03:04,505 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:03:04,536 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:03:04,552 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:03:04,582 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:03:04,613 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:03:04,644 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:03:04,784 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:03:04,815 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:03:04,847 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:03:04,878 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-15 21:03:04,909 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:03:06,705 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:03:06,736 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:03:06,768 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:03:06,799 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:03:06,830 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:03:06,861 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:03:06,892 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:03:06,923 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:03:06,955 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:03:06,986 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:03:07,017 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:03:07,048 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:03:07,080 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:03:07,202 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:03:07,234 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:03:07,265 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:03:07,295 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-15 21:03:07,325 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:03:08,022 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:03:08,053 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:03:08,084 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:03:08,115 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:03:08,146 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:03:08,177 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:03:08,207 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:03:08,238 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:03:08,268 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:03:08,298 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:03:08,330 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:03:08,360 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:03:08,391 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:03:08,527 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:03:08,558 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:03:08,588 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:03:08,618 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-15 21:03:08,649 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:03:14,014 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:03:14,045 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:03:14,076 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:03:14,107 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:03:14,137 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:03:14,169 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:03:14,199 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:03:14,230 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:03:14,262 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:03:14,293 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:03:14,324 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:03:14,355 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:03:14,386 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:03:14,524 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:03:14,555 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:03:14,587 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:03:14,618 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-15 21:03:14,650 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:03:15,316 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:03:15,346 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:03:15,378 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:03:15,409 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:03:15,440 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:03:15,471 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:03:15,502 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:03:15,533 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:03:15,565 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:03:15,597 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:03:15,627 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:03:15,659 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:03:15,690 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:03:15,813 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:03:15,844 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:03:15,875 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:03:15,906 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-15 21:03:15,936 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:03:22,053 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 21:03:24,177 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 21:03:24,177 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 21:03:24,177 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 21:03:24,178 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 21:03:24,178 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 21:03:24,179 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 21:03:24,179 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 21:03:27,256 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:03:27,287 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:03:27,318 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:03:27,349 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:03:27,381 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:03:27,412 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:03:27,443 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:03:27,474 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:03:27,490 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:03:27,520 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:03:27,550 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:03:27,582 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:03:27,612 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:03:27,735 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:03:27,750 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:03:27,782 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:03:27,813 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-15 21:03:27,844 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:03:27,906 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-15 21:06:43,952 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-15 21:06:46,078 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-15 21:06:46,078 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-15 21:06:46,078 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-15 21:06:46,079 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-15 21:06:46,079 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-15 21:06:46,080 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-15 21:06:46,080 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-15 21:06:49,490 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-15 21:06:49,519 - router       -__init__            - INFO     - Инициализация Router
2025-04-15 21:06:49,551 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-15 21:06:49,582 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-15 21:06:49,613 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-15 21:06:49,645 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-15 21:06:49,676 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-15 21:06:49,707 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-15 21:06:49,738 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-15 21:06:49,768 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-15 21:06:49,799 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-15 21:06:49,829 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-15 21:06:49,861 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-15 21:06:50,000 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-15 21:06:50,032 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-15 21:06:50,064 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-15 21:06:50,094 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-15 21:06:50,125 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-15 21:06:50,186 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-16 09:05:39,609 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:05:39,610 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:05:39,610 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:05:39,611 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:05:39,611 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:05:39,612 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:05:39,612 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:05:46,230 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:05:46,260 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:05:46,292 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:05:46,324 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:05:46,356 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 09:05:46,388 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 09:05:46,420 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 09:05:46,452 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:05:46,484 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:05:46,517 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:05:46,548 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 09:05:46,580 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 09:05:46,612 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 09:05:46,772 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 09:05:46,804 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 09:05:46,852 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 09:05:46,884 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:05:46,916 - app_server   -do_GET              - DEBUG    - dto ответа: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>, None
2025-04-16 09:05:46,979 - viewer       -render_html         - INFO     - Рендеринг HTML-страницы
2025-04-16 09:05:53,857 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:05:53,888 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:05:53,920 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:05:53,952 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:05:53,983 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 09:05:54,014 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 09:05:54,046 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 09:05:54,078 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:05:54,110 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:05:54,142 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 09:05:54,174 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:05:54,206 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:05:54,238 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:05:54,270 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 09:05:54,302 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:05:54,474 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:05:54,522 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 09:05:54,552 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:05:54,583 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 09:05:54,614 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:05:54,645 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 200
2025-04-16 09:05:54,677 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:05:54,709 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 09:06:07,636 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:07,667 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:07,700 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:07,731 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:07,764 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-16 09:06:07,796 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=iii', fragment='')
2025-04-16 09:06:07,828 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-16 09:06:07,858 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:07,889 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:07,921 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-16 09:06:07,953 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:06:07,985 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:06:08,017 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:06:08,049 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-16 09:06:08,081 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-16 09:06:08,175 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-16 09:06:08,207 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-16 09:06:08,255 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-16 09:06:08,287 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:06:08,319 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:06:08,351 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:08,383 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:06:08,415 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:08,447 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:06:09,561 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:09,593 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:09,625 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:09,657 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:09,689 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-16 09:06:09,721 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=iii', fragment='')
2025-04-16 09:06:09,752 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-16 09:06:09,784 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:09,816 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:09,848 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-16 09:06:09,880 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:06:09,912 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:06:09,944 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:06:09,976 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-16 09:06:10,008 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-16 09:06:10,120 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-16 09:06:10,152 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-16 09:06:10,199 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-16 09:06:10,229 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:06:10,260 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:06:10,292 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:10,323 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:06:10,355 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:10,387 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:06:11,780 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:11,811 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:11,842 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:11,873 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:11,905 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=iii
2025-04-16 09:06:11,937 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=iii', fragment='')
2025-04-16 09:06:11,969 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'iii'}
2025-04-16 09:06:12,001 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:12,033 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:12,065 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'iii'}, response=None, status_code=None)
2025-04-16 09:06:12,096 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:06:12,127 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:06:12,159 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:06:12,191 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: iii
2025-04-16 09:06:12,222 - model        -get_currency_by_code- INFO     - Получение валюты по коду: iii
2025-04-16 09:06:12,315 - model        -get_currency_by_code- WARNING  - Валюта с кодом iii не найдена
2025-04-16 09:06:12,347 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-16 09:06:12,395 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду iii: Валюта с кодом iii не найдена
2025-04-16 09:06:12,427 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:06:12,458 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:06:12,490 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:12,522 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:06:12,554 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:12,586 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:06:15,619 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:15,651 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:15,682 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:15,713 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:15,745 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:06:15,776 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:06:15,808 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:06:15,840 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:15,872 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:15,904 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:15,936 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:06:15,968 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:06:15,999 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:06:16,031 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:06:16,271 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:06:16,319 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:16,351 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:06:16,382 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:06:16,413 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:16,445 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:06:16,477 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:16,509 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:17,894 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:17,926 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:17,958 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:17,990 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:18,022 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:06:18,053 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:06:18,084 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:06:18,131 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:18,162 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:18,195 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:18,226 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:06:18,258 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:06:18,291 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:06:18,321 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:06:18,559 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:06:18,606 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:18,638 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:06:18,670 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:06:18,701 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:18,733 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:06:18,765 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:18,796 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:19,505 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:19,537 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:19,569 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:19,601 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:19,633 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:06:19,665 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:06:19,697 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:06:19,729 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:19,761 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:19,792 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:19,823 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:06:19,855 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:06:19,887 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:06:19,918 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:06:20,043 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:06:20,091 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:20,123 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:06:20,154 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:06:20,185 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:20,217 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:06:20,248 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:20,280 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:25,884 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:25,916 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:25,948 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:25,978 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:26,008 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:06:26,039 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:06:26,071 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:06:26,101 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:26,132 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:26,162 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:06:26,193 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:06:26,225 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:06:26,257 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:06:26,289 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:06:26,321 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:06:26,415 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:06:26,447 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:06:26,495 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:06:26,526 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:06:26,557 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:06:26,588 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:26,619 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:06:26,651 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:26,683 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:06:27,374 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:27,405 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:27,437 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:27,469 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:27,500 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:06:27,531 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:06:27,563 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:06:27,595 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:27,627 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:27,659 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:06:27,691 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:06:27,723 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:06:27,755 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:06:27,787 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:06:27,819 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:06:27,914 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:06:27,946 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:06:27,994 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:06:28,024 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:06:28,055 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:06:28,086 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:28,118 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:06:28,148 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:28,180 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:06:29,525 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:29,554 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:29,587 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:29,618 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:29,650 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:06:29,681 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:06:29,713 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:06:29,744 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:29,775 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:29,806 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:06:29,837 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:06:29,868 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:06:29,899 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:06:29,931 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:06:29,961 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:06:30,089 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:06:30,121 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:06:30,169 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:06:30,201 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:06:30,233 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:06:30,265 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:30,297 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:06:30,329 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:30,345 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:06:35,872 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:35,904 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:35,936 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:35,968 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:36,000 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 09:06:36,032 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 09:06:36,064 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 09:06:36,096 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:36,128 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:36,160 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 09:06:36,191 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:06:36,222 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:06:36,254 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:06:36,286 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 09:06:36,318 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:36,427 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:36,475 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 09:06:36,507 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:06:36,539 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 09:06:36,571 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:06:36,603 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 200
2025-04-16 09:06:36,635 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:36,665 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 09:06:39,953 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:39,984 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:40,016 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:40,048 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:40,078 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:06:40,109 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:06:40,140 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:06:40,171 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:40,202 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:40,234 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:40,265 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:06:40,295 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:06:40,326 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:06:40,357 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:06:40,530 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:06:40,578 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:40,610 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:06:40,642 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:06:40,674 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:40,706 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:06:40,738 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:40,769 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:41,465 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:41,496 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:41,528 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:41,560 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:41,592 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:06:41,624 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:06:41,655 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:06:41,686 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:41,717 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:41,749 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:41,781 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:06:41,813 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:06:41,845 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:06:41,877 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:06:42,145 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:06:42,193 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:42,225 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:06:42,257 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:06:42,288 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:42,319 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:06:42,351 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:42,383 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:43,777 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:43,807 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:43,838 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:43,869 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:43,901 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:06:43,933 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:06:43,965 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:06:43,997 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:44,029 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:44,061 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:44,093 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:06:44,125 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:06:44,157 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:06:44,189 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:06:44,333 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:06:44,379 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:44,411 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:06:44,443 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:06:44,475 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:44,507 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:06:44,539 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:44,571 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:45,310 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:45,342 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:45,373 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:45,404 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:45,436 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:06:45,468 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:06:45,500 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:06:45,532 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:45,563 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:45,595 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:45,626 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:06:45,657 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:06:45,689 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:06:45,721 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:06:45,974 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:06:46,022 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:46,054 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:06:46,086 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:06:46,118 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:46,149 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:06:46,179 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:46,210 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:06:52,732 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:52,763 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:52,795 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:52,826 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:52,857 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 09:06:52,888 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 09:06:52,919 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 09:06:52,951 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:52,982 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:53,013 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:53,044 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 09:06:53,075 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 09:06:53,106 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:06:53,137 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:06:53,352 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 09:06:53,383 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:53,477 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:53,525 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:06:53,635 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:06:53,681 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:53,837 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:53,883 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:06:53,993 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:06:54,041 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:06:54,169 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:06:54,217 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:54,329 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:54,377 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:06:54,520 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:06:54,568 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:06:54,712 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:06:54,759 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:06:54,885 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:06:54,933 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:06:55,059 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:06:55,106 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:06:55,277 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:06:55,325 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:06:55,451 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:06:55,497 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:06:55,624 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:06:55,672 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:55,798 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:55,845 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:06:55,972 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:06:56,020 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:06:56,180 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:06:56,244 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:56,387 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:56,433 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:06:56,560 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:06:56,608 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:06:56,735 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:06:56,781 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:06:56,937 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:06:56,985 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:06:57,109 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:06:57,156 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:06:57,266 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:06:57,313 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:57,441 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:57,488 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:06:57,582 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-16 09:06:57,612 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду IDR: Валюта с кодом IDR не найдена
2025-04-16 09:06:57,661 - model        -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:06:57,708 - controller   -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:06:57,741 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 09:06:57,773 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve exchange rates'} None
2025-04-16 09:06:57,805 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:06:57,836 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve exchange rates'}, None
2025-04-16 09:06:57,868 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:06:57,901 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve exchange rates'}
2025-04-16 09:06:58,614 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:06:58,646 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:06:58,678 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:06:58,710 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:06:58,742 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 09:06:58,774 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 09:06:58,806 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 09:06:58,838 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:06:58,868 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:06:58,899 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:06:58,930 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 09:06:58,962 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 09:06:58,994 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:06:59,026 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:06:59,421 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 09:06:59,453 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:59,562 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:59,609 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:06:59,721 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:06:59,769 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:06:59,896 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:06:59,941 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:00,099 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:00,146 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:00,241 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:00,289 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:00,417 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:00,465 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:00,655 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:00,703 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:00,829 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:00,877 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:07:00,988 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:07:01,036 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:01,178 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:01,226 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:01,370 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:01,416 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:07:01,542 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:07:01,590 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:01,718 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:01,765 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:01,905 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:01,951 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:02,062 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:02,109 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:02,237 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:02,285 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:02,411 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:02,459 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:02,587 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:02,635 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:07:02,759 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:07:02,807 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:02,951 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:02,997 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:03,123 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:03,171 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:03,281 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:03,329 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:03,457 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:03,505 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:07:03,581 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-16 09:07:03,613 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду IDR: Валюта с кодом IDR не найдена
2025-04-16 09:07:03,661 - model        -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:07:03,709 - controller   -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:07:03,741 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 09:07:03,773 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve exchange rates'} None
2025-04-16 09:07:03,805 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:07:03,837 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve exchange rates'}, None
2025-04-16 09:07:03,869 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:07:03,901 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve exchange rates'}
2025-04-16 09:07:05,298 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:07:05,329 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:07:05,361 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:07:05,393 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:07:05,425 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 09:07:05,457 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 09:07:05,489 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 09:07:05,521 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:07:05,569 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:07:05,600 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:07:05,631 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 09:07:05,663 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 09:07:05,695 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:07:05,727 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:07:06,294 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 09:07:06,326 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:06,438 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:06,502 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:06,612 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:06,660 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:06,804 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:06,852 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:06,980 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:07,044 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:07,204 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:07,252 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:07,393 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:07,439 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:07,548 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:07,596 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:07,738 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:07,786 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:07:07,910 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:07:07,956 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:08,100 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:08,148 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:08,259 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:08,306 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:07:08,448 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:07:08,496 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:08,624 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:08,688 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:08,765 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:08,797 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:07:08,940 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:07:08,986 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:09,176 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:09,224 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:09,320 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:09,368 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:09,478 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:09,526 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:07:09,686 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:07:09,732 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:09,842 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:09,890 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:07:10,032 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:07:10,078 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:07:10,201 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:07:10,249 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:07:10,393 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:07:10,439 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:07:10,532 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-16 09:07:10,562 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду IDR: Валюта с кодом IDR не найдена
2025-04-16 09:07:10,610 - model        -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:07:10,658 - controller   -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:07:10,690 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 09:07:10,722 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve exchange rates'} None
2025-04-16 09:07:10,752 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:07:10,784 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve exchange rates'}, None
2025-04-16 09:07:10,816 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:07:10,846 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve exchange rates'}
2025-04-16 09:07:13,668 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:10:24,762 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:10:24,762 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:10:24,762 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:10:24,763 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:10:24,763 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:10:24,763 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:10:24,764 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:10:25,466 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:10:25,498 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:10:25,530 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:10:25,561 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:10:25,593 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 09:10:25,625 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 09:10:25,657 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 09:10:25,689 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:10:25,737 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:10:25,769 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 09:10:25,800 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:10:25,831 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:10:25,861 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:10:25,893 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 09:10:25,925 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:10:26,032 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:10:26,079 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 09:10:26,112 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:10:26,144 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 09:10:26,176 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:10:26,208 - app_server   -do_GET              - DEBUG    - dto ответа: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 200
2025-04-16 09:10:26,240 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:10:26,272 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 09:10:38,949 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:10:38,981 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:10:39,012 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:10:39,044 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:10:39,077 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:10:39,108 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:10:39,140 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:10:39,172 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:10:39,204 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:10:39,235 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:10:39,265 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:10:39,298 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:10:39,329 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:10:39,362 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:10:39,394 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:10:39,486 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:10:39,517 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:10:39,565 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:10:39,598 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:10:39,629 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:10:39,661 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:10:39,692 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:10:39,724 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:10:39,755 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:10:41,558 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:10:41,590 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:10:41,622 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:10:41,654 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:10:41,686 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:10:41,718 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:10:41,750 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:10:41,781 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:10:41,812 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:10:41,844 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:10:41,876 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:10:41,908 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:10:41,940 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:10:41,972 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:10:42,004 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:10:42,100 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:10:42,132 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:10:42,180 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:10:42,212 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:10:42,244 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:10:42,276 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:10:42,308 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:10:42,340 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:10:42,372 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:10:43,063 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:10:43,094 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:10:43,126 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:10:43,158 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:10:43,190 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:10:43,198 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:10:43,199 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:10:43,199 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:18:33,175 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:18:33,175 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:18:33,176 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:18:33,176 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:18:33,176 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:18:33,177 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:18:33,177 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:18:36,366 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:18:36,397 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:18:36,429 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:18:36,461 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:18:36,493 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:18:36,525 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:18:36,557 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:18:36,589 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:18:36,621 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:18:36,653 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:18:36,685 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:18:36,717 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:18:36,748 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:18:36,779 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:18:36,811 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:18:36,907 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:18:36,939 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:18:36,987 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:18:37,019 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:18:37,050 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:18:37,082 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:18:37,113 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:18:37,145 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:18:37,177 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:18:39,001 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:18:39,033 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:18:39,065 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:18:39,097 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:18:39,128 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:18:39,159 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:18:39,191 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:18:39,223 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:18:39,255 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:18:39,287 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:18:39,319 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:18:39,350 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:18:39,382 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:18:39,413 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:18:39,445 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:18:39,572 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:18:39,604 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:18:39,651 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:18:39,681 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:18:39,711 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:18:39,742 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:18:39,773 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:18:39,805 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:18:39,837 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:18:40,526 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:18:40,557 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:18:40,589 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:18:40,621 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:18:40,652 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:18:40,684 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:18:40,716 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:18:40,748 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:18:40,780 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:18:40,812 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:18:40,844 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:18:40,876 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:18:40,908 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:18:40,940 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:18:40,972 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:18:41,066 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:18:41,098 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:18:41,146 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:18:41,178 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:18:41,210 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} None
2025-04-16 09:18:41,240 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:18:41,272 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, None
2025-04-16 09:18:41,303 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:18:41,334 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'error': 'Failed to retrieve currency'}
2025-04-16 09:18:41,778 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:19:03,882 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:19:03,882 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:19:03,882 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:19:03,883 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:19:03,883 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:19:03,884 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:19:03,884 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:19:06,437 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:19:06,466 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:19:06,497 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:19:06,529 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:19:06,561 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:19:06,593 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:19:06,625 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:19:06,657 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:19:06,689 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:19:06,721 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:19:06,753 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:19:06,785 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:19:06,817 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:19:06,849 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:19:06,881 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:19:06,976 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:19:07,006 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:19:07,053 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:19:07,085 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:19:07,117 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} 404
2025-04-16 09:19:07,148 - app_server   -do_GET              - DEBUG    - Статус ответа: 404
2025-04-16 09:19:07,179 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, 404
2025-04-16 09:19:07,209 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:19:07,241 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': 'Failed to retrieve currency'}
2025-04-16 09:21:16,231 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:21:16,263 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:21:16,295 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:21:16,327 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:21:16,359 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:21:16,391 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:21:16,423 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:21:16,455 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:21:16,487 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:21:16,519 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:21:16,551 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:21:16,583 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:21:16,614 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:21:16,645 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:21:16,835 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:21:16,881 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:21:16,913 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:21:16,945 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:21:16,977 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:21:17,008 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:21:17,038 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:21:17,069 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:21:18,931 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:21:18,963 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:21:18,994 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:21:19,025 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:21:19,055 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:21:19,087 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:21:19,119 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:21:19,151 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:21:19,182 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:21:19,214 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:21:19,246 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:21:19,278 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:21:19,310 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:21:19,342 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:21:19,530 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:21:19,577 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:21:19,609 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:21:19,641 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:21:19,673 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:21:19,705 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:21:19,736 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:21:19,767 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:21:20,484 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:21:20,515 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:21:20,546 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:21:20,578 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:21:20,610 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:21:20,642 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:21:20,674 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:21:20,704 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:21:20,736 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:21:20,768 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:21:20,800 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:21:20,831 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:21:20,861 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:21:20,892 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:21:21,129 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:21:21,176 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:21:21,207 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:21:21,238 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:21:21,270 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:21:21,302 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:21:21,334 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:21:21,366 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:21:21,869 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:26:48,976 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:26:48,977 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:26:48,977 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:26:48,978 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:26:48,978 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:26:48,978 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:26:48,978 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:26:52,211 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:26:52,243 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:26:52,275 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:26:52,307 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:26:52,339 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:26:52,371 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:26:52,403 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:26:52,435 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:26:52,466 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:26:52,496 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:26:52,528 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:26:52,560 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:26:52,592 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:26:52,624 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:26:52,858 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:26:52,905 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:26:52,936 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:26:52,968 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:26:53,000 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:26:53,032 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:26:53,064 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:26:53,096 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:26:54,888 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:26:54,920 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:26:54,952 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:26:54,984 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:26:55,016 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:26:55,048 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:26:55,080 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:26:55,112 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:26:55,144 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:26:55,176 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:26:55,208 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:26:55,240 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:26:55,272 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:26:55,304 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:26:55,415 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:26:55,463 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:26:55,495 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:26:55,527 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:26:55,559 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:26:55,591 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:26:55,623 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:26:55,655 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:26:56,345 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:26:56,376 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:26:56,408 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:26:56,440 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:26:56,472 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:26:56,504 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:26:56,536 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:26:56,567 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:26:56,597 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:26:56,628 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:26:56,660 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:26:56,691 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:26:56,722 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:26:56,754 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:26:56,962 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:26:57,010 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:26:57,043 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:26:57,075 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:26:57,107 - app_server   -do_GET              - DEBUG    - Статус ответа: None
2025-04-16 09:26:57,139 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], None
2025-04-16 09:26:57,171 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:26:57,203 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:26:58,103 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:27:26,271 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:27:26,271 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:27:26,271 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:27:26,272 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:27:26,272 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:27:26,272 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:27:26,272 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:27:28,620 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:27:28,652 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:27:28,684 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:27:28,716 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:27:28,748 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:27:28,780 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:27:28,811 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:27:28,842 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:27:28,874 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:27:28,906 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:27:28,938 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:27:28,968 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:27:28,999 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:27:29,030 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:27:29,152 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br')]
2025-04-16 09:27:29,214 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:27:29,246 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:27:29,278 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}] None
2025-04-16 09:27:29,310 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:27:29,342 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}], 200
2025-04-16 09:27:29,374 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:27:29,406 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}]
2025-04-16 09:27:43,253 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:27:43,283 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:27:43,315 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:27:43,347 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:27:43,379 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:27:43,411 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:27:43,443 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:27:43,475 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:27:43,507 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:27:43,539 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:27:43,570 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:27:43,601 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:27:43,633 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:27:43,665 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:27:43,697 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:27:43,791 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:27:43,822 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:27:43,869 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:27:43,900 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:27:43,931 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} 404
2025-04-16 09:27:43,963 - app_server   -do_GET              - DEBUG    - Статус ответа: 404
2025-04-16 09:27:43,995 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, 404
2025-04-16 09:27:44,026 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:27:44,057 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': 'Failed to retrieve currency'}
2025-04-16 09:27:55,634 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:27:55,666 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:27:55,698 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:27:55,730 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:27:55,760 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 09:27:55,792 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 09:27:55,824 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 09:27:55,856 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:27:55,887 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:27:55,920 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:27:55,952 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 09:27:55,984 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 09:27:56,016 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:27:56,048 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:27:56,288 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 09:27:56,319 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:27:56,429 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:27:56,477 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:27:56,635 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:27:56,683 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:27:56,777 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:27:56,839 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:27:56,963 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:27:57,009 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:27:57,103 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:27:57,150 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:27:57,244 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:27:57,292 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:27:57,404 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:27:57,452 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:27:57,612 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:27:57,660 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:27:57,798 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:27:57,862 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:27:57,986 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:27:58,033 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:27:58,159 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:27:58,206 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:27:58,317 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:27:58,365 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:27:58,507 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:27:58,555 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:27:58,682 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:27:58,730 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:27:58,858 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:27:58,906 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:27:59,050 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:27:59,096 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:27:59,224 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:27:59,270 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:27:59,445 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:27:59,492 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:27:59,618 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:27:59,665 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:27:59,776 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:27:59,822 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:27:59,950 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:27:59,998 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:28:00,141 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:28:00,189 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:28:00,284 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:28:00,332 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:28:00,428 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-16 09:28:00,460 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду IDR: Валюта с кодом IDR не найдена
2025-04-16 09:28:00,508 - model        -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:28:00,556 - controller   -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:28:00,588 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 09:28:00,618 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve exchange rates'} None
2025-04-16 09:28:00,648 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:28:00,680 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve exchange rates'}, 200
2025-04-16 09:28:00,711 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:28:00,742 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Failed to retrieve exchange rates'}
2025-04-16 09:28:08,489 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:28:08,521 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:28:08,553 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:28:08,585 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:28:08,617 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 09:28:08,648 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 09:28:08,679 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 09:28:08,711 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:28:08,743 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:28:08,775 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:28:08,807 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 09:28:08,838 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 09:28:08,869 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:28:08,899 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:28:09,086 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 09:28:09,117 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:28:09,275 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:28:09,322 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:28:09,449 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:28:09,497 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:28:09,641 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:28:09,688 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:28:09,797 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:28:09,845 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:28:10,004 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:28:10,050 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:28:10,160 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:28:10,208 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:28:10,400 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:28:10,448 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:28:10,560 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:28:10,608 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:28:10,732 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:28:10,780 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:28:10,889 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:28:10,937 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:28:11,065 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:28:11,113 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:28:11,221 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:28:11,269 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:28:11,381 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:28:11,445 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:28:11,555 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:28:11,601 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:28:11,709 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:28:11,757 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:28:11,917 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:28:11,965 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:28:12,093 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:28:12,141 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:28:12,269 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:28:12,317 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:28:12,445 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:28:12,492 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:28:12,587 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:28:12,635 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:28:12,777 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:28:12,825 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:28:12,969 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:28:13,017 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:28:13,111 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:28:13,174 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:28:13,251 - model        -get_currency_by_code- WARNING  - Валюта с кодом IDR не найдена
2025-04-16 09:28:13,283 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду IDR: Валюта с кодом IDR не найдена
2025-04-16 09:28:13,331 - model        -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:28:13,379 - controller   -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом IDR не найдена
2025-04-16 09:28:13,411 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 09:28:13,443 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve exchange rates'} None
2025-04-16 09:28:13,474 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:28:13,506 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve exchange rates'}, 200
2025-04-16 09:28:13,538 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:28:13,569 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Failed to retrieve exchange rates'}
2025-04-16 09:31:04,917 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-16 09:31:04,947 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:31:04,979 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:31:05,012 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:31:05,044 - app_server   -do_POST             - DEBUG    - Экземпляр класса Router - {'static_routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x00000154F4FDBE10>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x00000154F4FDBE10>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x00000154F4FDBE10>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x00000154F4FDBE10>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x00000154F4FDBE10>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x00000154F4FDBE10>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x00000154F4FDBE10>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x00000154F4FDBE10>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x00000154F4FDBE10>>}, 'dynamic_routes': [('GET', '/currency/:code', <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x00000154F4FDBE10>>), ('GET', '/exchangeRates/:pair', <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x00000154F4FDBE10>>), ('PATCH', '/exchangeRate/:pair', <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x00000154F4FDBE10>>)]}
2025-04-16 09:31:05,075 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-16 09:31:05,107 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:31:05,137 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:31:05,169 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:31:05,200 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=IDR&name=22
2025-04-16 09:31:05,232 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'IDR', 'name': '22'}, query_params={}, response=None, status_code=None)
2025-04-16 09:31:05,262 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-16 09:31:05,293 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-16 09:31:05,325 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-16 09:31:05,357 - controller   -add_currency        - DEBUG    - Данные запроса: {'code': 'IDR', 'name': '22'}
2025-04-16 09:31:05,389 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 95, in add_currency
    currency_DTO = Currency(code=code, name=name, sign=sign)
                   ^^^^^^^^
NameError: name 'Currency' is not defined. Did you mean: 'currencyDTO'?
2025-04-16 09:31:05,628 - router       -_safe_call          - DEBUG    - Обработчик add_currency завершил выполнение без ошибок
2025-04-16 09:31:05,658 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-16 09:31:05,689 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 500: {'error': 'Internal server error'}
2025-04-16 09:32:35,033 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:32:36,567 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:32:36,567 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:32:36,568 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:32:36,568 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:32:36,568 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:32:36,569 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:32:36,569 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:32:41,918 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-16 09:32:41,949 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:32:41,980 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:32:42,012 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:32:42,044 - app_server   -do_POST             - DEBUG    - Экземпляр класса Router - {'static_routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000017DF05296A0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000017DF05296A0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000017DF05296A0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000017DF05296A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000017DF05296A0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000017DF05296A0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000017DF05296A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000017DF05296A0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000017DF05296A0>>}, 'dynamic_routes': [('GET', '/currency/:code', <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000017DF05296A0>>), ('GET', '/exchangeRates/:pair', <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000017DF05296A0>>), ('PATCH', '/exchangeRate/:pair', <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x0000017DF05296A0>>)]}
2025-04-16 09:32:42,076 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-16 09:32:42,108 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:32:42,140 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:32:42,171 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:32:42,202 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=IDR&name=22
2025-04-16 09:32:42,234 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'IDR', 'name': '22'}, query_params={}, response=None, status_code=None)
2025-04-16 09:32:42,266 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-16 09:32:42,298 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-16 09:32:42,330 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-16 09:32:42,361 - controller   -add_currency        - DEBUG    - Данные запроса: {'code': 'IDR', 'name': '22'}
2025-04-16 09:32:42,392 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 95, in add_currency
    currency_DTO = Currency_DTO(code=code, name=name, sign=sign)
                   ^^^^^^^^^^^^
NameError: name 'Currency_DTO' is not defined. Did you mean: 'currencyDTO'?
2025-04-16 09:32:42,663 - router       -_safe_call          - DEBUG    - Обработчик add_currency завершил выполнение без ошибок
2025-04-16 09:32:42,695 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-16 09:32:42,727 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 500: {'error': 'Internal server error'}
2025-04-16 09:33:28,963 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:33:30,125 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:33:30,125 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:33:30,125 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:33:30,126 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:33:30,126 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:33:30,127 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:33:30,127 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:33:34,592 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-16 09:33:34,622 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:33:34,654 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:33:34,686 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:33:34,718 - app_server   -do_POST             - DEBUG    - Экземпляр класса Router - {'static_routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x0000011E0ED156A0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x0000011E0ED156A0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x0000011E0ED156A0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x0000011E0ED156A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x0000011E0ED156A0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x0000011E0ED156A0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x0000011E0ED156A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x0000011E0ED156A0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x0000011E0ED156A0>>}, 'dynamic_routes': [('GET', '/currency/:code', <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x0000011E0ED156A0>>), ('GET', '/exchangeRates/:pair', <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x0000011E0ED156A0>>), ('PATCH', '/exchangeRate/:pair', <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x0000011E0ED156A0>>)]}
2025-04-16 09:33:34,750 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-16 09:33:34,782 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:33:34,814 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:33:34,846 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:33:34,876 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=IDR&name=22
2025-04-16 09:33:34,908 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'IDR', 'name': '22'}, query_params={}, response=None, status_code=None)
2025-04-16 09:33:34,940 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-16 09:33:34,972 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-16 09:33:35,004 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-16 09:33:35,036 - controller   -add_currency        - DEBUG    - Данные запроса: {'code': 'IDR', 'name': '22'}
2025-04-16 09:33:35,084 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 95, in add_currency
    currency_DTO = currencyDTO(code=code, name=name, sign=sign)
TypeError: currencyDTO.__init__() got an unexpected keyword argument 'sign'
2025-04-16 09:33:35,338 - router       -_safe_call          - DEBUG    - Обработчик add_currency завершил выполнение без ошибок
2025-04-16 09:33:35,370 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-16 09:33:35,402 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 500: {'error': 'Internal server error'}
2025-04-16 09:37:52,024 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:37:53,564 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:37:53,564 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:37:53,564 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:37:53,565 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:37:53,565 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:37:53,565 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:37:53,566 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:37:59,856 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-16 09:37:59,888 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:37:59,920 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:37:59,952 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:37:59,984 - app_server   -do_POST             - DEBUG    - Экземпляр класса Router - {'static_routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000002C25CBDD6A0>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000002C25CBDD6A0>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000002C25CBDD6A0>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000002C25CBDD6A0>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000002C25CBDD6A0>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000002C25CBDD6A0>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000002C25CBDD6A0>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000002C25CBDD6A0>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000002C25CBDD6A0>>}, 'dynamic_routes': [('GET', '/currency/:code', <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000002C25CBDD6A0>>), ('GET', '/exchangeRates/:pair', <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000002C25CBDD6A0>>), ('PATCH', '/exchangeRate/:pair', <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x000002C25CBDD6A0>>)]}
2025-04-16 09:38:00,016 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-16 09:38:00,047 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:38:00,078 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:38:00,110 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:38:00,142 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=IDR&name=22
2025-04-16 09:38:00,174 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'IDR', 'name': '22'}, query_params={}, response=None, status_code=None)
2025-04-16 09:38:00,205 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-16 09:38:00,236 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-16 09:38:00,268 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-16 09:38:00,300 - controller   -add_currency        - DEBUG    - Данные запроса: {'code': 'IDR', 'name': '22'}
2025-04-16 09:38:00,332 - model        -add_currency        - INFO     - Добавление валюты: IDR, Индонезийская рупия, Rp
2025-04-16 09:38:00,460 - model        -add_currency        - DEBUG    - Валюта IDR успешно добавлена в базу данных
2025-04-16 09:38:00,508 - controller   -add_currency        - INFO     - Валюта IDR успешно добавлена
2025-04-16 09:38:00,539 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:38:00,650 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-16 09:38:00,698 - router       -_safe_call          - DEBUG    - Обработчик add_currency завершил выполнение без ошибок
2025-04-16 09:38:00,730 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'} None
2025-04-16 09:38:00,762 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом None: {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}
2025-04-16 09:38:08,230 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 09:41:34,664 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 09:41:34,664 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 09:41:34,664 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 09:41:34,665 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 09:41:34,665 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 09:41:34,666 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 09:41:34,666 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 09:41:43,385 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:41:43,417 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:41:43,448 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:41:43,479 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:41:43,511 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 09:41:43,543 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:41:43,575 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:41:43,607 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:41:43,639 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:41:43,671 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:41:43,703 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 09:41:43,735 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 09:41:43,767 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 09:41:43,799 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 09:41:44,069 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp')]
2025-04-16 09:41:44,117 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}]
2025-04-16 09:41:44,147 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 09:41:44,178 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}] None
2025-04-16 09:41:44,209 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:41:44,241 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}], 200
2025-04-16 09:41:44,273 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:41:44,305 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}]
2025-04-16 09:41:49,097 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:41:49,129 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:41:49,160 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:41:49,192 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:41:49,224 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 09:41:49,257 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 09:41:49,289 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 09:41:49,321 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:41:49,353 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:41:49,384 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:41:49,416 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 09:41:49,448 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 09:41:49,480 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:41:49,512 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:41:49,953 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 09:41:49,984 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:50,138 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:50,184 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:41:50,328 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:41:50,376 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:50,488 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:50,536 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:41:50,648 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:41:50,696 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:41:50,856 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:41:50,904 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:51,031 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:51,078 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:41:51,206 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:41:51,270 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:41:51,412 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:41:51,460 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:41:51,602 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:41:51,650 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:41:51,761 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:41:51,823 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:41:51,964 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:41:52,012 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:41:52,140 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:41:52,188 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:41:52,364 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:41:52,410 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:52,537 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:52,585 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:41:52,727 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:41:52,775 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:41:52,872 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:41:52,920 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:53,046 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:53,094 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:41:53,202 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:41:53,250 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:41:53,376 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:41:53,424 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:41:53,552 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:41:53,600 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:41:53,728 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:41:53,774 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:41:53,901 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:41:53,949 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:54,126 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:54,173 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:41:54,301 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-16 09:41:54,349 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:54,477 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:54,525 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:41:54,653 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:41:54,700 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:41:54,828 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:41:54,891 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-16 09:41:54,984 - model        -get_currency_by_code- WARNING  - Валюта с кодом ZAR не найдена
2025-04-16 09:41:55,016 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду ZAR: Валюта с кодом ZAR не найдена
2025-04-16 09:41:55,076 - model        -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом ZAR не найдена
2025-04-16 09:41:55,125 - controller   -get_exchange_rates  - ERROR    - Ошибка при получении курсов обмена: Валюта с кодом ZAR не найдена
2025-04-16 09:41:55,157 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 09:41:55,189 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve exchange rates'} None
2025-04-16 09:41:55,221 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:41:55,252 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve exchange rates'}, 200
2025-04-16 09:41:55,284 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:41:55,316 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'error': 'Failed to retrieve exchange rates'}
2025-04-16 09:42:17,052 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-16 09:42:17,082 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:42:17,113 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:42:17,145 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:42:17,177 - app_server   -do_POST             - DEBUG    - Экземпляр класса Router - {'static_routes': {('GET', '/currencies'): <bound method Controller.get_currencies of <controller.Controller object at 0x000001E221C11950>>, ('GET', '/currency'): <bound method Controller.get_currency_by_code of <controller.Controller object at 0x000001E221C11950>>, ('GET', '/exchangeRates'): <bound method Controller.get_exchange_rates of <controller.Controller object at 0x000001E221C11950>>, ('POST', '/currencies'): <bound method Controller.add_currency of <controller.Controller object at 0x000001E221C11950>>, ('POST', '/exchangeRates'): <bound method Controller.add_exchange_rate of <controller.Controller object at 0x000001E221C11950>>, ('GET', '/exchangeRate'): <bound method Controller.get_exchange_rate of <controller.Controller object at 0x000001E221C11950>>, ('GET', '/convert'): <bound method Controller.convert_currency of <controller.Controller object at 0x000001E221C11950>>, ('GET', '/'): <bound method Controller.handle_html_page of <controller.Controller object at 0x000001E221C11950>>, ('PATCH', '/exchangeRate'): <bound method Controller.update_exchange_rate of <controller.Controller object at 0x000001E221C11950>>}, 'dynamic_routes': [('GET', '/currency/:code', <bound method Controller.get_currency_by_code_dynamic of <controller.Controller object at 0x000001E221C11950>>), ('GET', '/exchangeRates/:pair', <bound method Controller.get_exchange_rates_dynamic of <controller.Controller object at 0x000001E221C11950>>), ('PATCH', '/exchangeRate/:pair', <bound method Controller.update_exchange_rate_by_pair of <controller.Controller object at 0x000001E221C11950>>)]}
2025-04-16 09:42:17,209 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-16 09:42:17,241 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 09:42:17,273 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 09:42:17,305 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:42:17,337 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=ZAR&name=22
2025-04-16 09:42:17,369 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'ZAR', 'name': '22'}, query_params={}, response=None, status_code=None)
2025-04-16 09:42:17,399 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-16 09:42:17,431 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-16 09:42:17,462 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-16 09:42:17,493 - controller   -add_currency        - DEBUG    - Данные запроса: {'code': 'ZAR', 'name': '22'}
2025-04-16 09:42:17,525 - model        -add_currency        - INFO     - Добавление валюты: ZAR, Южноафриканский рэнд, R
2025-04-16 09:42:17,651 - model        -add_currency        - DEBUG    - Валюта ZAR успешно добавлена в базу данных
2025-04-16 09:42:17,697 - controller   -add_currency        - INFO     - Валюта ZAR успешно добавлена
2025-04-16 09:42:17,729 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-16 09:42:17,870 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-16 09:42:17,934 - router       -_safe_call          - DEBUG    - Обработчик add_currency завершил выполнение без ошибок
2025-04-16 09:42:17,965 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'} None
2025-04-16 09:42:17,996 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}
2025-04-16 09:42:26,381 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:42:26,412 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:42:26,443 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:42:26,475 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:42:26,507 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 09:42:26,539 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 09:42:26,571 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 09:42:26,601 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:42:26,632 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:42:26,663 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 09:42:26,695 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 09:42:26,727 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 09:42:26,757 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:42:26,789 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 09:42:27,361 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 09:42:27,393 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:27,520 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:27,567 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:42:27,709 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:42:27,755 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:27,897 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:27,945 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:42:28,070 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:42:28,118 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:42:28,244 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:42:28,306 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:28,448 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:28,496 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:42:28,656 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:42:28,703 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:42:28,862 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:42:28,910 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:42:29,038 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:42:29,086 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:42:29,212 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:42:29,260 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:42:29,372 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:42:29,434 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:42:29,543 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:42:29,591 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:42:29,730 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:42:29,777 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:29,901 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:29,949 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 09:42:30,091 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 09:42:30,137 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:42:30,246 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:42:30,293 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:30,405 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:30,451 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:42:30,561 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:42:30,609 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:42:30,718 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:42:30,765 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:42:30,892 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:42:30,940 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 09:42:31,068 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 09:42:31,132 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 09:42:31,258 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 09:42:31,306 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:31,434 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:31,481 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 09:42:31,624 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-16 09:42:31,670 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:31,796 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:31,844 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 09:42:31,954 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 09:42:32,002 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 09:42:32,145 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 09:42:32,191 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-16 09:42:32,333 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-16 09:42:32,397 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-16 09:42:32,429 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 09:42:32,461 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-16 09:42:32,493 - app_server   -do_GET              - DEBUG    - Статус ответа: 200
2025-04-16 09:42:32,524 - app_server   -do_GET              - DEBUG    - dto ответа: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}], 200
2025-04-16 09:42:32,555 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:42:32,586 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-16 09:59:30,302 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 09:59:30,333 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 09:59:30,365 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 09:59:30,397 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 09:59:30,429 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 09:59:30,460 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 09:59:30,490 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 09:59:30,521 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 09:59:30,552 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 09:59:30,584 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 09:59:30,616 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 09:59:30,648 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 09:59:30,680 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 09:59:30,712 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 09:59:30,744 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 09:59:30,872 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 09:59:30,904 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:59:30,952 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Валюта с кодом usd не найдена
2025-04-16 09:59:30,982 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 09:59:31,014 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Failed to retrieve currency'} 404
2025-04-16 09:59:31,046 - app_server   -do_GET              - DEBUG    - Статус ответа: 404
2025-04-16 09:59:31,077 - app_server   -do_GET              - DEBUG    - dto ответа: {'error': 'Failed to retrieve currency'}, 404
2025-04-16 09:59:31,107 - viewer       -render_json         - INFO     - Рендеринг JSON-ответа
2025-04-16 09:59:31,138 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': 'Failed to retrieve currency'}
2025-04-16 12:06:29,470 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 12:22:17,410 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 12:22:17,410 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 12:22:17,410 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 12:22:17,412 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 12:22:17,412 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 12:22:17,413 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 12:22:17,413 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 12:22:26,661 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:22:28,506 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:22:29,219 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:22:31,846 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:22:31,878 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:22:31,910 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:22:31,941 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:23:58,599 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 12:23:59,856 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 12:23:59,857 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 12:23:59,857 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 12:23:59,858 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 12:23:59,858 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 12:23:59,858 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 12:23:59,858 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 12:24:03,071 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:24:04,901 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:24:05,622 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:24:09,474 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 12:29:07,494 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 12:29:07,494 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 12:29:07,494 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 12:29:07,495 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 12:29:07,495 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 12:29:07,496 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 12:29:07,496 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 12:29:12,476 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:29:12,508 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:29:12,539 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:29:12,569 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:29:12,838 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:29:12,870 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:29:12,902 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:29:12,934 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:29:17,405 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:29:17,436 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 12:29:17,468 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 12:29:17,499 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 12:29:17,530 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 12:29:17,562 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 12:29:17,594 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 12:29:17,626 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 12:29:17,658 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 12:29:17,690 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 12:29:17,827 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 12:29:17,858 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 12:29:17,888 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 12:29:17,920 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-16 12:29:18,642 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:29:18,673 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:29:18,719 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:29:18,751 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:29:19,018 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:29:19,050 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:29:19,082 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:29:19,114 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:36:42,191 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:36:42,223 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:36:42,255 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:36:42,287 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:36:42,541 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:36:42,573 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:36:42,605 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:36:42,637 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:36:44,737 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:36:44,769 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 12:36:44,800 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 12:36:44,830 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 12:36:44,860 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 12:36:44,890 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 12:36:44,921 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 12:36:44,951 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 12:36:44,983 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 12:36:45,016 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 12:36:45,048 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 12:36:45,080 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 32, in get_currency_by_code
    currency = self.model.get_currency_by_code(code)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CurrencyModel' object has no attribute 'get_currency_by_code'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 35, in get_currency_by_code
    except CurrencyNotFoundError as e:
           ^^^^^^^^^^^^^^^^^^^^^
NameError: name 'CurrencyNotFoundError' is not defined
2025-04-16 12:36:45,351 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 12:36:45,383 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-16 12:36:45,415 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 500: {'error': 'Internal server error'}
2025-04-16 12:36:46,162 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:36:46,194 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:36:46,226 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:36:46,258 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:36:46,492 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:36:46,524 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:36:46,556 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:36:46,588 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:51:29,729 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 12:53:06,446 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 12:53:06,446 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 12:53:06,446 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 12:53:06,447 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 12:53:06,447 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 12:53:06,448 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 12:53:06,448 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 12:53:09,435 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:53:09,466 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:53:09,496 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:53:09,526 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:53:09,573 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:53:09,603 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 12:53:09,635 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 12:53:09,666 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 12:53:09,697 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 12:53:09,729 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 12:53:09,761 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 12:53:09,791 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 12:53:09,821 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 12:53:09,852 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 12:53:09,897 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 12:53:09,927 - controller   -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: 'CurrencyModel' object has no attribute 'get_currency_by_code'
2025-04-16 12:53:09,959 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 32, in get_currency_by_code
    currency = self.model.get_currency_by_code(code)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CurrencyModel' object has no attribute 'get_currency_by_code'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 40, in get_currency_by_code
    raise APIError("Failed to retrieve currency")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-16 12:53:10,228 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 12:53:10,260 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-16 12:53:10,292 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 500: {'error': 'Internal server error'}
2025-04-16 12:53:10,435 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:53:10,465 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:53:10,496 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:53:10,528 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:54:25,895 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 12:54:27,148 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 12:54:27,149 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 12:54:27,149 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 12:54:27,150 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 12:54:27,150 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 12:54:27,151 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 12:54:27,151 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 12:54:29,935 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:54:29,965 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:54:29,995 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:54:30,027 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:54:30,072 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:54:30,104 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 12:54:30,134 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 12:54:30,164 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 12:54:30,195 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 12:54:30,226 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 12:54:30,256 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 12:54:30,287 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 12:54:30,318 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 12:54:30,348 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 12:54:30,378 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 12:54:30,410 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 12:54:30,490 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 12:54:30,522 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Currency 'usd' not found
2025-04-16 12:54:30,570 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency 'usd' not found
2025-04-16 12:54:30,600 - router       -_safe_call          - ERROR    - API ошибка: Currency 'usd' not found
2025-04-16 12:54:30,630 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 12:54:30,661 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'usd' not found"} 404
2025-04-16 12:54:30,693 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': "Currency 'usd' not found"}
2025-04-16 12:54:30,837 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:54:30,869 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:54:30,901 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:54:30,933 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:55:07,352 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:55:07,384 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:55:07,416 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:55:07,448 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 12:55:07,496 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 12:55:07,527 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 12:55:07,560 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 12:55:07,589 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 12:55:07,622 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 12:55:07,653 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 12:55:07,686 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 12:55:07,716 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 12:55:07,747 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 12:55:07,779 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 12:55:07,811 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 12:55:07,843 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 12:55:07,983 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 12:55:08,031 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 12:55:08,061 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 12:55:08,093 - router       -handle_request      - DEBUG    - Ответ DTO: None None
2025-04-16 12:55:08,125 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: None
2025-04-16 12:55:08,267 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 12:55:08,299 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 12:55:08,329 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 12:55:08,359 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:44:55,645 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 13:44:56,896 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 13:44:56,896 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 13:44:56,896 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 13:44:56,897 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 13:44:56,897 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 13:44:56,898 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 13:44:56,898 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 13:44:59,564 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:44:59,596 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:44:59,626 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:44:59,672 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:44:59,719 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 13:44:59,750 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 13:44:59,782 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 13:44:59,814 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 13:44:59,846 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 13:44:59,878 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 13:44:59,910 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 13:44:59,940 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 13:44:59,972 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 13:45:00,004 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 13:45:00,036 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 13:45:00,068 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 13:45:00,212 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 13:45:00,275 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 13:45:00,306 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 13:45:00,337 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 13:45:00,369 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 13:45:00,513 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:45:00,545 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:45:00,577 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:45:00,609 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:45:29,428 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:45:29,459 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:45:29,489 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:45:29,520 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:45:29,566 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 13:45:29,596 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 13:45:29,626 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 13:45:29,657 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 13:45:29,688 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 13:45:29,718 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 13:45:29,749 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 13:45:29,780 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 13:45:29,810 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 13:45:29,841 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 13:45:29,980 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 13:45:30,011 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 13:45:30,041 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 13:45:30,073 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-16 13:45:30,217 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:45:30,248 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:45:30,280 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:45:30,313 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:53:04,268 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 13:53:05,544 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 13:53:05,544 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 13:53:05,544 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 13:53:05,545 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 13:53:05,545 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 13:53:05,546 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 13:53:05,546 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 13:53:08,295 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:53:08,326 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:53:08,357 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:53:08,389 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:53:08,451 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 13:53:08,483 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 13:53:08,514 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 13:53:08,545 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 13:53:08,576 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 13:53:08,607 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 13:53:08,639 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 13:53:08,671 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 13:53:08,703 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 13:53:08,735 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 13:53:08,895 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 13:53:08,927 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 13:53:08,959 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 13:53:08,989 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-16 13:53:11,005 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:53:11,037 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:53:11,069 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:53:11,101 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:55:20,476 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 13:55:22,179 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 13:55:22,180 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 13:55:22,180 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 13:55:22,181 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 13:55:22,181 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 13:55:22,182 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 13:55:22,182 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 13:55:24,973 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:55:25,005 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:55:25,037 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:55:25,068 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:55:25,115 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 13:55:25,146 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 13:55:25,176 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 13:55:25,207 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 13:55:25,238 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 13:55:25,268 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 13:55:25,299 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 13:55:25,329 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 13:55:25,359 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 13:55:25,390 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 13:55:25,534 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 13:55:25,566 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 13:55:25,597 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 13:55:25,628 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-16 13:55:25,692 - app_server   -send_json_response  - DEBUG    - тип данных в ответе, <class 'str'>
2025-04-16 13:55:25,804 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:55:25,836 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:55:25,868 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:55:25,900 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:55:56,380 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:55:56,411 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:55:56,442 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:55:56,472 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:55:56,503 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 13:55:56,534 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 13:55:56,566 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 13:55:56,598 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 13:55:56,629 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 13:55:56,660 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 13:55:56,692 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 13:55:56,724 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 13:55:56,756 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 13:55:56,788 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 13:55:56,820 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 13:55:56,852 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 13:55:56,996 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 13:55:57,043 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 13:55:57,075 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 13:55:57,107 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 13:55:57,139 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 13:55:57,203 - app_server   -send_json_response  - DEBUG    - тип данных в ответе, <class 'dict'>
2025-04-16 13:55:57,314 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:55:57,345 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:55:57,393 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:55:57,425 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:57:44,093 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 13:59:19,065 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 13:59:19,065 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 13:59:19,066 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 13:59:19,066 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 13:59:19,066 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 13:59:19,067 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 13:59:19,067 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 13:59:22,790 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:59:22,821 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:59:22,852 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:59:22,883 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:59:22,931 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 13:59:22,961 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 13:59:22,992 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 13:59:23,022 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 13:59:23,052 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 13:59:23,083 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 13:59:23,114 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 13:59:23,144 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 13:59:23,175 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 13:59:23,206 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 13:59:23,238 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 13:59:23,270 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 13:59:23,380 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 13:59:23,427 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 13:59:23,459 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 13:59:23,491 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 13:59:23,521 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 13:59:23,585 - app_server   -send_json_response  - DEBUG    - тип данных в ответе, <class 'dict'>
2025-04-16 13:59:23,695 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:59:23,727 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:59:23,758 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:59:23,789 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:59:29,022 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:59:29,054 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:59:29,086 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:59:29,118 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 13:59:29,164 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 13:59:29,196 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 13:59:29,228 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 13:59:29,260 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 13:59:29,290 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 13:59:29,320 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 13:59:29,350 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 13:59:29,380 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 13:59:29,412 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 13:59:29,442 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 13:59:29,582 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 13:59:29,612 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 13:59:29,643 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 13:59:29,673 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-16 13:59:29,736 - app_server   -send_json_response  - DEBUG    - тип данных в ответе, <class 'str'>
2025-04-16 13:59:29,846 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 13:59:29,878 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 13:59:29,910 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 13:59:29,942 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:00:58,958 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:01:21,726 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:01:21,726 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:01:21,727 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:01:21,727 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:01:21,727 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:01:21,728 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:01:21,728 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:01:25,175 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:01:25,205 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:01:25,237 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:01:25,269 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:01:25,317 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:01:25,348 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:01:25,380 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:01:25,412 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:01:25,444 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:01:25,476 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:01:25,508 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:01:25,540 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:01:25,570 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:01:25,602 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:01:25,728 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:01:25,760 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:01:25,792 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:01:25,824 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>
2025-04-16 14:01:25,888 - app_server   -send_json_response  - DEBUG    - тип данных в ответе, <class 'str'>
2025-04-16 14:01:25,997 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:01:26,029 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:01:26,059 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:01:26,091 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:01:32,972 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:01:33,004 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:01:33,036 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:01:33,066 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:01:33,113 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:01:33,144 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 14:01:33,175 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 14:01:33,207 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 14:01:33,239 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:01:33,271 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:01:33,303 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 14:01:33,335 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 14:01:33,366 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 14:01:33,396 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 14:01:33,427 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 14:01:33,457 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 14:01:33,548 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 14:01:33,580 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Currency 'usd' not found
2025-04-16 14:01:33,625 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency 'usd' not found
2025-04-16 14:01:33,656 - router       -_safe_call          - ERROR    - API ошибка: Currency 'usd' not found
2025-04-16 14:01:33,688 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 14:01:33,720 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'usd' not found"} 404
2025-04-16 14:01:33,752 - app_server   -send_json_response  - DEBUG    - Отправка JSON-ответа с кодом 404: {'error': "Currency 'usd' not found"}
2025-04-16 14:01:33,814 - app_server   -send_json_response  - DEBUG    - тип данных в ответе, <class 'dict'>
2025-04-16 14:01:33,922 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:01:33,954 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:01:33,986 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:01:34,018 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:04:16,695 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:04:17,886 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:04:17,887 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:04:17,887 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:04:17,887 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:04:17,888 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:04:17,888 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:04:17,888 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:04:22,573 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:04:22,605 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:04:22,635 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:04:22,666 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:04:22,713 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:04:22,743 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:04:22,775 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:04:22,807 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:04:22,839 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:04:22,870 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:04:22,902 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:04:22,934 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:04:22,966 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:04:22,998 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:04:23,126 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:04:23,156 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:04:23,186 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:04:23,218 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:04:24,101 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:04:24,133 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:04:24,163 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:04:24,194 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:04:25,104 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:04:25,135 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:04:25,166 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:04:25,197 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:04:25,229 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:04:25,261 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:04:25,292 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:04:25,322 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:04:25,354 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:04:25,383 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:04:25,507 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:04:25,540 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:04:25,569 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:04:25,601 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:04:26,333 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:04:26,365 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:04:26,397 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:04:26,428 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:04:26,474 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:04:26,504 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:04:26,535 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:04:26,566 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:04:26,597 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:04:26,629 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:04:26,661 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:04:26,692 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:04:26,723 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:04:26,755 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:04:26,899 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:04:26,931 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:04:26,963 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:04:26,995 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:04:27,422 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:04:27,454 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:04:27,486 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:04:27,518 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:04:32,384 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:04:32,416 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:04:32,448 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:04:32,480 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:04:32,512 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:04:32,544 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:04:32,576 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:04:32,606 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:04:32,637 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:04:32,669 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:04:32,813 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:04:32,845 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:04:32,877 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:04:32,909 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:04:33,610 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:04:33,641 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:04:33,672 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:04:33,703 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:04:33,750 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:04:33,782 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:04:33,814 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:04:33,846 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:04:33,878 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:04:33,909 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:04:33,939 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:04:33,970 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:04:34,001 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:04:34,031 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:04:34,170 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:04:34,202 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:04:34,232 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:04:34,264 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:04:34,707 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:04:34,739 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:04:34,771 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:04:34,803 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:05:04,681 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:05:04,712 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:05:04,745 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:05:04,776 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:05:04,824 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:05:04,856 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:05:04,888 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:05:04,920 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:05:04,952 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:05:04,984 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:05:05,108 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:05:05,140 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:05:05,172 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:05:05,204 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:05:05,918 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:05:05,950 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:05:05,980 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:05:06,012 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:05:06,061 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:05:06,092 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:05:06,125 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:05:06,157 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:05:06,189 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:05:06,221 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:05:06,252 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:05:06,283 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:05:06,315 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:05:06,346 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:05:06,469 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:05:06,501 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:05:06,533 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:05:06,563 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:05:07,022 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:05:07,054 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:05:07,084 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:05:07,116 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:05:47,975 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:05:49,174 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:05:49,174 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:05:49,174 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:05:49,175 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:05:49,175 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:05:49,175 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:05:49,175 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:05:51,859 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:05:51,891 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:05:51,923 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:05:51,955 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:05:52,003 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:05:52,034 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:05:52,065 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:05:52,097 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:05:52,129 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:05:52,161 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:05:52,193 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:05:52,225 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:05:52,257 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:05:52,289 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:05:52,416 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:05:52,448 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:05:52,480 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:05:52,512 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-16 14:05:52,668 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8
2025-04-16 14:05:52,812 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:05:52,844 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:05:52,876 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:05:52,908 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:13:23,748 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:13:24,717 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:13:24,718 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:13:24,718 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:13:24,718 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:13:24,719 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:13:24,719 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:13:24,719 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:13:27,322 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:13:27,354 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:13:27,386 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:13:27,417 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:13:27,463 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:13:27,493 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:13:27,524 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:13:27,555 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:13:27,585 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:13:27,616 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:13:27,646 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:13:27,677 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:13:27,709 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:13:27,740 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:13:27,876 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:13:27,921 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:13:27,952 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:13:27,983 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/html; charset=utf-8
2025-04-16 14:13:28,125 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:13:28,157 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:13:28,189 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:13:28,221 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:14:15,910 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:14:15,942 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:14:15,974 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:14:16,006 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:14:16,054 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:14:16,086 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:14:16,118 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:14:16,149 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:14:16,181 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:14:16,213 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:14:16,245 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:14:16,277 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:14:16,309 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:14:16,341 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:14:16,373 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:14:16,629 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:14:16,676 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:14:16,706 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:14:16,737 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:14:16,767 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:14:16,905 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:14:16,937 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:14:16,969 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:14:17,001 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:17:28,503 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:17:29,643 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:17:29,643 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:17:29,644 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:17:29,644 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:17:29,644 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:17:29,645 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:17:29,645 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:17:34,259 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:17:34,291 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:17:34,323 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:17:34,355 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:17:34,403 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:17:34,435 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:17:34,465 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:17:34,497 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:17:34,529 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:17:34,559 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:17:34,591 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:17:34,621 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:17:34,651 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:17:34,681 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:17:34,711 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:17:35,085 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:17:35,133 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:17:35,163 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:17:35,193 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:17:35,225 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:17:35,368 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:17:35,400 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:17:35,432 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:17:35,464 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:17:44,074 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:17:44,105 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:17:44,135 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:17:44,165 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:17:44,213 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:17:44,243 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:17:44,273 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:17:44,305 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:17:44,336 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:17:44,369 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:17:44,401 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:17:44,432 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:17:44,464 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:17:44,497 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:17:44,528 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:17:44,848 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:17:44,896 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:17:44,928 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:17:44,958 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:17:44,988 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:17:45,131 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:17:45,161 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:17:45,193 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:17:45,225 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:18:20,952 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:18:22,503 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:18:22,503 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:18:22,504 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:18:22,504 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:18:22,504 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:18:22,505 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:18:22,505 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:18:25,563 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:18:25,593 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:18:25,625 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:18:25,657 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:18:25,705 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:18:25,737 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:18:25,767 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:18:25,798 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:18:25,828 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:18:25,859 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:18:25,889 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:18:25,919 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:18:25,951 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:18:25,981 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:18:26,013 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:18:26,285 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:18:26,333 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:18:26,364 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:18:26,396 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:18:26,428 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:18:26,565 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:18:26,595 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:18:26,626 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:18:26,658 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:18:33,984 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:18:34,016 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:18:34,046 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:18:34,078 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:18:34,126 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:18:34,158 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:18:34,190 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:18:34,222 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:18:34,254 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:18:34,284 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:18:34,316 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:18:34,348 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:18:34,380 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:18:34,412 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:18:34,442 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:18:34,745 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:18:34,793 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:18:34,825 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:18:34,857 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:18:34,889 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:18:35,032 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:18:35,063 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:18:35,095 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:18:35,127 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:18:41,430 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:18:41,461 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 14:18:41,492 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 14:18:41,524 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 14:18:41,556 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:18:41,588 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:18:41,619 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 14:18:41,650 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 14:18:41,681 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 14:18:41,712 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 14:18:41,745 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 14:18:41,777 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:41,872 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:41,920 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 14:18:41,953 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 14:18:41,985 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 14:18:42,015 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:18:52,706 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:18:52,738 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:18:52,770 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:18:52,800 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:18:52,846 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:18:52,876 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 14:18:52,892 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 14:18:52,921 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 14:18:52,953 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:18:52,985 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:18:53,017 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:18:53,049 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 14:18:53,081 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 14:18:53,113 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 14:18:53,143 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 14:18:53,287 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 14:18:53,319 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:53,445 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:53,493 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:18:53,621 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:18:53,669 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:53,797 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:53,845 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:18:53,955 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:18:54,003 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:18:54,179 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:18:54,227 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:54,339 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:54,387 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:18:54,497 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:18:54,545 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:18:54,657 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:18:54,705 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:18:54,815 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:18:54,863 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:18:54,975 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:18:55,022 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:18:55,145 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:18:55,193 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:18:55,319 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:18:55,366 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:18:55,509 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:18:55,557 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:55,669 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:55,717 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:18:55,829 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:18:55,877 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:18:55,987 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:18:56,035 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:56,176 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:56,223 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:18:56,366 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:18:56,412 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:18:56,554 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:18:56,600 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:18:56,707 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:18:56,753 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:18:56,881 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:18:56,929 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:18:57,041 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:18:57,089 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:57,243 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:57,290 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 14:18:57,418 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-16 14:18:57,465 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:57,590 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:57,638 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:18:57,748 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:18:57,796 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:18:57,924 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:18:57,972 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-16 14:18:58,084 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-16 14:18:58,147 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-16 14:18:58,178 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 14:18:58,209 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-16 14:18:58,241 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:18:58,385 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:18:58,415 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:18:58,446 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:18:58,476 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:19:09,240 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:19:09,272 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 14:19:09,304 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 14:19:09,336 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 14:19:09,368 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:19:09,400 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:19:09,432 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 14:19:09,464 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 14:19:09,496 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 14:19:09,528 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 14:19:09,560 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 14:19:09,591 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:19:09,717 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:19:09,762 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 14:19:09,794 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 14:19:09,826 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 14:19:09,856 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:19:17,980 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:19:18,010 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:19:18,042 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:19:18,074 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:19:18,123 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:19:18,153 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:19:18,183 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:19:18,214 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:19:18,246 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:19:18,278 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:19:18,310 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:19:18,342 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:19:18,374 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:19:18,406 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:19:18,438 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:19:18,710 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:19:18,758 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:19:18,790 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:19:18,822 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:19:18,854 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:19:18,995 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:19:19,026 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:19:19,056 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:19:19,086 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:20:20,401 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:20:20,433 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:20:20,465 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:20:20,480 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:20:20,510 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:20:20,541 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:20:20,571 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:20:20,601 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:20:20,649 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:20:20,681 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:20:20,713 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:20:20,743 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:20:20,775 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:20:20,806 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:20:20,837 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:20:21,035 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:20:21,081 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:20:21,111 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:20:21,141 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:20:21,172 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:20:21,313 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:20:21,345 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:20:21,377 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:20:21,409 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:24:51,134 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:24:52,438 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:24:52,439 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:24:52,439 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:24:52,439 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:24:52,440 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:24:52,440 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:24:52,440 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:24:58,558 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:24:58,589 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:24:58,621 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:24:58,653 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:24:58,701 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:24:58,733 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 14:24:58,765 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 14:24:58,796 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 14:24:58,828 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:24:58,858 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:24:58,891 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 14:24:58,921 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 14:24:58,953 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 14:24:58,985 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 14:24:59,016 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 14:24:59,046 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:24:59,186 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:24:59,250 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 14:24:59,298 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 14:24:59,330 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 14:24:59,362 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8
2025-04-16 14:24:59,505 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:24:59,537 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:24:59,569 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:24:59,601 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:25:49,945 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:25:49,976 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:25:50,006 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:25:50,037 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:25:50,068 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:25:50,099 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:25:50,130 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:25:50,160 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:25:50,191 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:25:50,221 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:25:50,253 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:25:50,555 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:25:50,602 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:25:50,635 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:25:50,666 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:25:50,697 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:26:02,434 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:26:03,877 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:26:03,878 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:26:03,878 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:26:03,878 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:26:03,879 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:26:03,879 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:26:03,879 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:26:13,340 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:26:13,371 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:26:13,402 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:26:13,434 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:26:13,480 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:26:13,512 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 14:26:13,543 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 14:26:13,574 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 14:26:13,604 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:26:13,634 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:26:13,665 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 14:26:13,695 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 14:26:13,726 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 14:26:13,756 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 14:26:13,787 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 14:26:13,817 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:26:13,923 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:26:13,971 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 14:26:14,001 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 14:26:14,031 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 14:26:14,061 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8
2025-04-16 14:26:14,200 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:26:14,231 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:26:14,261 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:26:14,293 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:26:23,391 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:26:23,423 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:26:23,455 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:26:23,487 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:26:23,519 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:26:23,551 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:26:23,583 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:26:23,615 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:26:23,647 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:26:23,679 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:26:23,711 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:26:23,987 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:26:24,033 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:26:24,065 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:26:24,097 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:26:24,129 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:27:39,461 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:27:39,492 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:27:39,523 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:27:39,555 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:27:39,602 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:27:39,632 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:27:39,663 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:27:39,695 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:27:39,726 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:27:39,757 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:27:39,786 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:27:39,816 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:27:39,846 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:27:39,876 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:27:39,997 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:27:40,029 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:27:40,061 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:27:40,093 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/html; charset=utf-8
2025-04-16 14:27:40,237 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:27:40,269 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:27:40,301 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:27:40,333 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:28:03,899 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:28:05,521 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:28:05,522 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:28:05,522 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:28:05,523 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:28:05,523 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:28:05,523 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:28:05,523 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:28:08,428 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:28:08,459 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:28:08,488 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:28:08,519 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:28:08,551 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:28:08,581 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:28:08,612 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:28:08,644 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:28:08,674 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:28:08,706 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:28:08,738 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:28:08,770 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:28:08,802 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:28:08,834 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:28:08,866 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:28:09,120 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:28:09,168 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:28:09,200 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:28:09,232 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:28:09,263 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8
2025-04-16 14:28:09,403 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:28:09,433 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:28:09,464 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:28:09,496 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:28:42,366 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:28:46,476 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:28:46,476 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:28:46,476 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:28:46,477 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:28:46,477 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:28:46,477 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:28:46,477 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:28:51,158 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:28:51,190 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:28:51,222 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:28:51,254 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:28:51,287 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:28:51,318 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:28:51,350 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:28:51,381 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:28:51,412 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:28:51,444 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:28:51,476 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:28:51,506 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:28:51,537 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:28:51,569 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:28:51,601 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:28:51,914 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:28:51,961 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:28:51,992 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:28:52,040 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:28:52,072 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8
2025-04-16 14:28:52,136 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_response_content(status_code, dto.response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 37, in send_response_content
    self.wfile.write(response_body.encode('utf-8'))
                     ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'encode'
2025-04-16 14:28:52,264 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8
2025-04-16 14:28:52,406 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:28:52,437 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:28:52,468 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:28:52,497 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:29:08,044 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:29:08,075 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 14:29:08,105 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 14:29:08,136 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 14:29:08,166 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:29:08,197 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:29:08,228 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 14:29:08,258 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 14:29:08,290 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 14:29:08,322 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 14:29:08,354 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 14:29:08,385 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:29:08,522 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:29:08,568 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 14:29:08,598 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 14:29:08,629 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 14:29:08,661 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8
2025-04-16 14:29:19,275 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:29:19,307 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:29:19,339 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:29:19,371 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:29:19,419 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:29:19,451 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:29:19,481 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:29:19,511 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:29:19,543 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:29:19,575 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:29:19,607 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:29:19,639 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:29:19,671 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:29:19,703 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:29:19,735 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:29:19,989 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:29:20,037 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:29:20,069 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:29:20,101 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:29:20,133 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8
2025-04-16 14:29:20,196 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 58, in do_GET
    self.send_response_content(status_code, dto.response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 37, in send_response_content
    self.wfile.write(response_body.encode('utf-8'))
                     ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'encode'
2025-04-16 14:29:20,243 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8
2025-04-16 14:29:20,382 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:29:20,413 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:29:20,445 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:29:20,477 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:32:46,203 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:32:47,366 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:32:47,366 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:32:47,367 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:32:47,368 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:32:47,368 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:32:47,368 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:32:47,368 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:32:54,862 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:32:54,894 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:32:54,925 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:32:54,955 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:32:55,002 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:32:55,004 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:32:55,004 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:32:55,033 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:32:55,065 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:32:55,097 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:32:55,129 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:32:55,161 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:32:55,192 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:32:55,222 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:32:55,252 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:32:55,522 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:32:55,570 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:32:55,602 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:32:55,634 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:32:55,664 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8
2025-04-16 14:32:55,790 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:32:55,820 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:32:55,851 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:32:55,881 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:36:19,841 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:36:21,000 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:36:21,000 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:36:21,001 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:36:21,001 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:36:21,001 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:36:21,002 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:36:21,002 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:36:24,178 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:36:24,210 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:36:24,242 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:36:24,274 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:36:24,322 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:36:24,354 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:36:24,384 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:36:24,414 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:36:24,444 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:36:24,473 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:36:24,506 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:36:24,537 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:36:24,569 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:36:24,598 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:36:24,629 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:36:24,735 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:36:24,781 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:36:24,813 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:36:24,843 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:36:24,874 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8 содержимым: <class 'str'>
2025-04-16 14:36:25,012 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:36:25,043 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:36:25,073 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:36:25,104 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:37:00,038 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:37:01,120 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:37:01,120 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:37:01,120 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:37:01,121 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:37:01,121 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:37:01,122 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:37:01,122 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:37:03,981 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:37:04,013 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:37:04,045 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:37:04,077 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:37:04,123 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:37:04,153 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:37:04,183 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:37:04,214 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:37:04,246 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:37:04,278 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:37:04,310 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:37:04,341 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:37:04,371 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:37:04,402 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:37:04,433 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:37:04,741 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:37:04,789 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:37:04,821 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:37:04,853 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:37:04,885 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8 содержимым: <class 'list'>
2025-04-16 14:37:05,027 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:37:05,059 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:37:05,091 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:37:05,123 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:38:07,141 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 14:38:08,440 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 14:38:08,441 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 14:38:08,441 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 14:38:08,442 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 14:38:08,442 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 14:38:08,442 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 14:38:08,443 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 14:38:10,979 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:38:11,009 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:38:11,039 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:38:11,071 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:38:11,117 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:38:11,147 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:38:11,178 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:38:11,194 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:38:11,226 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:38:11,258 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:38:11,289 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:38:11,320 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:38:11,351 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:38:11,381 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:38:11,382 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:38:11,697 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:38:11,745 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:38:11,777 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:38:11,809 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:38:11,841 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8 содержимым: <class 'list'>
2025-04-16 14:38:11,985 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:38:12,017 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:38:12,049 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:38:12,081 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:38:41,788 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:38:41,818 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:38:41,849 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:38:41,881 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:38:41,929 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:38:41,961 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 14:38:41,991 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 14:38:42,021 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 14:38:42,051 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:38:42,081 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:38:42,113 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 14:38:42,145 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 14:38:42,177 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 14:38:42,209 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 14:38:42,241 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 14:38:42,273 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:38:42,401 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:38:42,463 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 14:38:42,495 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 14:38:42,527 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 14:38:42,559 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8 содержимым: <class 'dict'>
2025-04-16 14:38:42,701 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:38:42,733 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:38:42,763 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:38:42,795 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:39:21,825 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:39:21,855 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-16 14:39:21,886 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-16 14:39:21,916 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-16 14:39:21,946 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:39:21,976 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:39:22,006 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:39:22,037 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-16 14:39:22,067 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-16 14:39:22,097 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 14:39:22,129 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-16 14:39:22,554 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-16 14:39:22,584 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:22,760 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:22,824 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:39:22,998 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:39:23,059 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:23,170 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:23,218 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:39:23,361 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:39:23,409 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:39:23,531 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:39:23,577 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:23,699 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:23,745 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:39:23,866 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:39:23,912 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:39:24,019 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:39:24,066 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:39:24,175 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:39:24,221 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:39:24,396 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:39:24,441 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:39:24,598 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:39:24,645 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:39:24,756 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:39:24,804 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:39:24,948 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:39:24,996 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:25,168 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:25,216 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 14:39:25,343 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 14:39:25,390 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:39:25,516 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:39:25,561 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:25,671 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:25,716 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:39:25,812 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:39:25,860 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:39:26,002 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:39:26,066 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:39:26,210 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:39:26,258 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-16 14:39:26,384 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-16 14:39:26,432 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-16 14:39:26,576 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-16 14:39:26,623 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:26,746 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:26,791 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-16 14:39:26,901 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-16 14:39:26,961 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:27,085 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:27,133 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-16 14:39:27,259 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-16 14:39:27,323 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 14:39:27,481 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 14:39:27,529 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-16 14:39:27,657 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-16 14:39:27,721 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-16 14:39:27,769 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-16 14:39:27,801 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-16 14:39:27,831 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8 содержимым: <class 'list'>
2025-04-16 14:41:40,756 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:41:40,786 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:41:40,817 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:41:40,847 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:41:40,893 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:41:40,925 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 14:41:40,957 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 14:41:40,989 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 14:41:41,021 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:41:41,053 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:41:41,085 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:41:41,117 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 14:41:41,149 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 14:41:41,181 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 14:41:41,213 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 14:41:41,562 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 14:41:41,610 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 14:41:41,642 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 14:41:41,674 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 14:41:41,706 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8 содержимым: <class 'list'>
2025-04-16 14:41:41,850 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:41:41,882 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:41:41,913 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:41:41,944 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:42:27,202 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:42:27,233 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:42:27,265 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:42:27,296 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:42:27,326 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:42:27,356 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:42:27,386 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:42:27,418 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:42:27,449 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:42:27,481 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:42:27,605 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:42:27,637 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:42:27,668 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:42:27,698 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/html; charset=utf-8 содержимым: <class 'str'>
2025-04-16 14:42:28,426 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:42:28,458 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:42:28,490 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:42:28,522 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:42:28,770 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:42:28,802 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:42:28,834 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:42:28,866 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:42:58,696 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 14:42:58,728 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-16 14:42:58,760 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-16 14:42:58,792 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-16 14:42:58,824 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 14:42:58,856 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 14:42:58,888 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 14:42:58,920 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-16 14:42:58,951 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-16 14:42:58,981 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-16 14:42:59,109 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-16 14:42:59,141 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-16 14:42:59,173 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-16 14:42:59,205 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/html; charset=utf-8 содержимым: <class 'str'>
2025-04-16 14:42:59,931 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:42:59,961 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:42:59,993 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:43:00,023 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 14:43:00,269 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 14:43:00,301 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 14:43:00,333 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 14:43:00,365 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:09:24,472 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:09:24,504 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:09:24,536 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:09:24,568 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:09:24,614 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:09:24,644 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-16 15:09:24,676 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-16 15:09:24,708 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-16 15:09:24,740 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:09:24,772 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:09:24,803 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-16 15:09:24,833 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 15:09:24,864 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 15:09:24,894 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 15:09:24,925 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 15:09:24,956 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 15:09:25,064 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 15:09:25,112 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 15:09:25,144 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 15:09:25,176 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 15:09:25,208 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8 содержимым: <class 'dict'>
2025-04-16 15:09:25,349 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:09:25,381 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:09:25,411 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:09:25,441 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:09:31,217 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:09:31,249 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 15:09:31,281 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 15:09:31,313 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 15:09:31,345 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:09:31,377 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:09:31,409 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 15:09:31,457 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 15:09:31,489 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 15:09:31,521 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 15:09:31,552 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 15:09:31,583 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 15:09:31,737 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 15:09:31,767 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Currency 'usd' not found
2025-04-16 15:09:31,815 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency 'usd' not found
2025-04-16 15:09:31,847 - router       -_safe_call          - ERROR    - API ошибка: Currency 'usd' not found
2025-04-16 15:09:31,879 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 15:09:31,911 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'usd' not found"} 404
2025-04-16 15:09:31,942 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8 содержимым: <class 'dict'>
2025-04-16 15:12:01,473 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 15:12:02,532 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-16 15:12:02,585 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 15:12:02,585 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 15:12:02,585 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 15:12:02,586 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 15:12:02,586 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 15:12:02,587 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 15:12:02,587 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 15:12:05,084 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:12:05,116 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:12:05,148 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:12:05,180 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:12:05,228 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:12:05,260 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 15:12:05,290 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 15:12:05,321 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 15:12:05,352 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:12:05,384 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:12:05,416 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 15:12:05,448 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 15:12:05,480 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 15:12:05,512 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 15:12:05,544 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-16 15:12:05,576 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-16 15:12:05,656 - model        -get_currency_by_code- WARNING  - Валюта с кодом usd не найдена
2025-04-16 15:12:05,687 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду usd: Currency 'usd' not found
2025-04-16 15:12:05,735 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency 'usd' not found
2025-04-16 15:12:05,767 - router       -_safe_call          - ERROR    - API ошибка: Currency 'usd' not found
2025-04-16 15:12:05,799 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 15:12:05,829 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'usd' not found"} 404
2025-04-16 15:12:05,859 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:12:05,997 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:12:06,027 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:12:06,059 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:12:06,091 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:27:56,000 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 15:27:57,254 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-16 15:27:57,321 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 15:27:57,321 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 15:27:57,321 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 15:27:57,322 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 15:27:57,322 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 15:27:57,323 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 15:27:57,323 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 15:27:59,857 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:27:59,889 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:27:59,921 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:27:59,953 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:28:00,001 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:28:00,033 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-16 15:28:00,065 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-16 15:28:00,096 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-16 15:28:00,127 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:28:00,159 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:28:00,191 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-16 15:28:00,223 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 15:28:00,253 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 15:28:00,283 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 15:28:00,313 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-16 15:28:00,345 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-16 15:28:00,455 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-16 15:28:00,518 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-16 15:28:00,550 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 15:28:00,582 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} 200
2025-04-16 15:28:00,612 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:28:00,754 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:28:00,786 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:28:00,816 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:28:00,848 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:28:16,289 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:28:16,321 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:28:16,353 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:28:16,385 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:28:16,433 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:28:16,465 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=67
2025-04-16 15:28:16,497 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=67', fragment='')
2025-04-16 15:28:16,529 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '67'}
2025-04-16 15:28:16,561 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:28:16,593 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:28:16,625 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '67'}, response=None, status_code=None)
2025-04-16 15:28:16,657 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 15:28:16,689 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 15:28:16,721 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 15:28:16,753 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 67
2025-04-16 15:28:16,785 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 67
2025-04-16 15:28:16,895 - model        -get_currency_by_code- WARNING  - Валюта с кодом 67 не найдена
2025-04-16 15:28:16,926 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 67: Currency '67' not found
2025-04-16 15:28:16,974 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '67' not found
2025-04-16 15:28:17,006 - router       -_safe_call          - ERROR    - API ошибка: Currency '67' not found
2025-04-16 15:28:17,038 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 15:28:17,069 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '67' not found"} 404
2025-04-16 15:28:17,100 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:28:17,244 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:28:17,276 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:28:17,308 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:28:17,340 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:30:02,089 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:30:02,122 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:30:02,153 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:30:02,185 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:30:02,232 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:30:02,262 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/EUR
2025-04-16 15:30:02,293 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/EUR', params='', query='', fragment='')
2025-04-16 15:30:02,325 - router       -handle_request      - DEBUG    - Путь запроса: /currency/EUR, параметры: {}
2025-04-16 15:30:02,357 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:30:02,389 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:30:02,421 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/EUR', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 15:30:02,453 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/EUR
2025-04-16 15:30:02,485 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/EUR
2025-04-16 15:30:02,517 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = EUR
2025-04-16 15:30:02,549 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/EUR
2025-04-16 15:30:02,580 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/EUR
2025-04-16 15:30:02,611 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-16 15:30:02,643 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: EUR
2025-04-16 15:30:02,675 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-16 15:30:02,819 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-16 15:30:02,865 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}
2025-04-16 15:30:02,896 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-16 15:30:02,927 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'} 200
2025-04-16 15:30:02,959 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:30:03,101 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:30:03,131 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:30:03,163 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:30:03,195 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:30:10,737 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:30:10,769 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/
2025-04-16 15:30:10,801 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/', params='', query='', fragment='')
2025-04-16 15:30:10,833 - router       -handle_request      - DEBUG    - Путь запроса: /currency/, параметры: {}
2025-04-16 15:30:10,865 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:30:10,897 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:30:10,927 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 15:30:10,959 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/
2025-04-16 15:30:10,991 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/
2025-04-16 15:30:11,023 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = 
2025-04-16 15:30:11,055 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/
2025-04-16 15:30:11,087 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/
2025-04-16 15:30:11,119 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-16 15:30:11,150 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: 
2025-04-16 15:30:11,180 - controller   -get_currency_by_code_dynamic- WARNING  - Код валюты отсутствует в запросе
2025-04-16 15:30:11,211 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-16 15:30:11,243 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency code is required'} None
2025-04-16 15:30:11,275 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:37:12,557 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 15:37:13,891 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-16 15:37:13,954 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 15:37:13,954 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 15:37:13,955 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 15:37:13,955 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 15:37:13,955 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 15:37:13,956 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 15:37:13,956 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 15:37:19,243 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:37:19,275 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:37:19,307 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:37:19,336 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:37:19,385 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:37:19,416 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/
2025-04-16 15:37:19,448 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/', params='', query='', fragment='')
2025-04-16 15:37:19,480 - router       -handle_request      - DEBUG    - Путь запроса: /currency/, параметры: {}
2025-04-16 15:37:19,512 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:37:19,544 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:37:19,576 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 15:37:19,608 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/
2025-04-16 15:37:19,640 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/
2025-04-16 15:37:19,672 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = 
2025-04-16 15:37:19,703 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/
2025-04-16 15:37:19,734 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/
2025-04-16 15:37:19,766 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-16 15:37:19,798 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: 
2025-04-16 15:37:19,830 - controller   -get_currency_by_code_dynamic- WARNING  - Код валюты отсутствует в запросе
2025-04-16 15:37:19,862 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 50, in get_currency_by_code_dynamic
    raise MissingCurrencyCodeError()
          ^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'MissingCurrencyCodeError' is not defined
2025-04-16 15:37:20,112 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-16 15:37:20,144 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-16 15:37:20,176 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:37:20,318 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:37:20,350 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:37:20,382 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:37:20,412 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:40:55,692 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 15:40:56,789 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-16 15:40:56,862 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 15:40:56,862 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 15:40:56,862 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 15:40:56,863 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 15:40:56,863 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 15:40:56,864 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 15:40:56,864 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 15:41:02,785 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:41:02,817 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:41:02,849 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:41:02,880 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:41:02,912 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:41:02,941 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/
2025-04-16 15:41:02,973 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/', params='', query='', fragment='')
2025-04-16 15:41:03,005 - router       -handle_request      - DEBUG    - Путь запроса: /currency/, параметры: {}
2025-04-16 15:41:03,037 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:41:03,067 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:41:03,099 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 15:41:03,131 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/
2025-04-16 15:41:03,163 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/
2025-04-16 15:41:03,195 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = 
2025-04-16 15:41:03,227 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/
2025-04-16 15:41:03,259 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/
2025-04-16 15:41:03,275 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-16 15:41:03,307 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: 
2025-04-16 15:41:03,339 - controller   -get_currency_by_code_dynamic- WARNING  - Код валюты отсутствует в запросе
2025-04-16 15:41:03,371 - router       -_safe_call          - ERROR    - API ошибка: Currency code is required
2025-04-16 15:41:03,403 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-16 15:41:03,434 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency code is required'} 400
2025-04-16 15:41:03,465 - app_server   -send_response_content- DEBUG    - Отправка ответа [400] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:41:03,608 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:41:03,640 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:41:03,670 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:41:03,702 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:41:31,236 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 15:41:32,367 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-16 15:41:32,427 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 15:41:32,428 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 15:41:32,428 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 15:41:32,429 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 15:41:32,429 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 15:41:32,429 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 15:41:32,429 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 15:41:34,984 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:41:35,015 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:41:35,046 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:41:35,077 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:41:35,125 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:41:35,157 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/
2025-04-16 15:41:35,189 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/', params='', query='', fragment='')
2025-04-16 15:41:35,221 - router       -handle_request      - DEBUG    - Путь запроса: /currency/, параметры: {}
2025-04-16 15:41:35,253 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:41:35,285 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:41:35,317 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 15:41:35,349 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/
2025-04-16 15:41:35,379 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/
2025-04-16 15:41:35,411 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = 
2025-04-16 15:41:35,443 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/
2025-04-16 15:41:35,474 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/
2025-04-16 15:41:35,507 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-16 15:41:35,538 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: 
2025-04-16 15:41:35,587 - controller   -get_currency_by_code_dynamic- WARNING  - Код валюты отсутствует в запросе
2025-04-16 15:41:35,619 - router       -_safe_call          - ERROR    - API ошибка: Currency code is required
2025-04-16 15:41:35,650 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-16 15:41:35,680 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Currency code is required'} 400
2025-04-16 15:41:35,713 - app_server   -send_response_content- DEBUG    - Отправка ответа [400] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 15:41:35,856 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:41:35,888 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:41:35,920 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:41:35,951 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:43:59,623 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:43:59,655 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:43:59,686 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:43:59,718 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:43:59,766 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:43:59,795 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-16 15:43:59,826 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-16 15:43:59,856 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-16 15:43:59,887 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:43:59,917 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:43:59,948 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-16 15:43:59,980 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-16 15:43:59,981 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-16 15:44:00,010 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-16 15:44:00,042 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-16 15:44:00,202 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-16 15:44:00,250 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-16 15:44:00,282 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-16 15:44:00,314 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-16 15:44:00,346 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-16 15:44:00,488 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 15:44:00,520 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 15:44:00,552 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 15:44:00,584 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 15:44:17,651 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 15:44:17,681 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=67
2025-04-16 15:44:17,713 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=67', fragment='')
2025-04-16 15:44:17,745 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '67'}
2025-04-16 15:44:17,777 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 15:44:17,809 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 15:44:17,841 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '67'}, response=None, status_code=None)
2025-04-16 15:44:17,873 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 15:44:17,903 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 15:44:17,933 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 15:44:17,965 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 67
2025-04-16 15:44:17,997 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 67
2025-04-16 15:44:18,124 - model        -get_currency_by_code- WARNING  - Валюта с кодом 67 не найдена
2025-04-16 15:44:18,156 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 67: Currency '67' not found
2025-04-16 15:44:18,203 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '67' not found
2025-04-16 15:44:18,234 - router       -_safe_call          - ERROR    - API ошибка: Currency '67' not found
2025-04-16 15:44:18,266 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 15:44:18,298 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '67' not found"} 404
2025-04-16 15:44:18,330 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 16:04:03,100 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 16:04:03,130 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 16:04:03,161 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 16:04:03,192 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 16:04:03,238 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 16:04:03,269 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=67
2025-04-16 16:04:03,300 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=67', fragment='')
2025-04-16 16:04:03,331 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '67'}
2025-04-16 16:04:03,361 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 16:04:03,393 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 16:04:03,424 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '67'}, response=None, status_code=None)
2025-04-16 16:04:03,455 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 16:04:03,486 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 16:04:03,517 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 16:04:03,549 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 67
2025-04-16 16:04:03,581 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 67
2025-04-16 16:04:03,675 - model        -get_currency_by_code- WARNING  - Валюта с кодом 67 не найдена
2025-04-16 16:04:03,707 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 67: Currency '67' not found
2025-04-16 16:04:03,755 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '67' not found
2025-04-16 16:04:03,787 - router       -_safe_call          - ERROR    - API ошибка: Currency '67' not found
2025-04-16 16:04:03,819 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 16:04:03,849 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '67' not found"} 404
2025-04-16 16:04:03,881 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 16:04:04,020 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 16:04:04,052 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 16:04:04,082 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 16:04:04,112 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 16:06:01,034 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-16 16:06:02,366 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-16 16:06:02,427 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-16 16:06:02,427 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-16 16:06:02,427 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-16 16:06:02,428 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-16 16:06:02,428 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-16 16:06:02,429 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-16 16:06:02,429 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-16 16:06:07,612 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 16:06:07,644 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 16:06:07,676 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 16:06:07,708 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-16 16:06:07,756 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-16 16:06:07,788 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=67
2025-04-16 16:06:07,820 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=67', fragment='')
2025-04-16 16:06:07,852 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '67'}
2025-04-16 16:06:07,884 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-16 16:06:07,916 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-16 16:06:07,947 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '67'}, response=None, status_code=None)
2025-04-16 16:06:07,978 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-16 16:06:08,009 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-16 16:06:08,041 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-16 16:06:08,072 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 67
2025-04-16 16:06:08,103 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 67
2025-04-16 16:06:08,197 - model        -get_currency_by_code- WARNING  - Валюта с кодом 67 не найдена
2025-04-16 16:06:08,229 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 67: Currency '67' not found
2025-04-16 16:06:08,277 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '67' not found
2025-04-16 16:06:08,309 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 32, in get_currency_by_code
    currency = self.model.get_currency_by_code(code)
  File "C:\Users\dimki\.ipython\profile_default\test\model.py", line 66, in get_currency_by_code
    raise CurrencyNotFoundError(code)
errors.CurrencyNotFoundError: Currency '67' not found

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 39, in get_currency_by_code
    raise e(code = code)
          ~^^^^^^^^^^^^^
TypeError: 'CurrencyNotFoundError' object is not callable
2025-04-16 16:06:08,721 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-16 16:06:08,753 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-16 16:06:08,785 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-16 16:06:08,925 - router       -__init__            - INFO     - Инициализация Router
2025-04-16 16:06:08,956 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-16 16:06:08,986 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-16 16:06:09,017 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:55:40,887 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 08:55:41,143 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 08:55:41,143 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 08:55:41,143 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 08:55:41,145 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 08:55:41,145 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 08:55:41,146 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 08:55:41,146 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 08:55:44,538 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:55:44,569 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:55:44,600 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:55:44,631 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:55:44,679 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 08:55:44,708 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=67
2025-04-17 08:55:44,738 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=67', fragment='')
2025-04-17 08:55:44,769 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '67'}
2025-04-17 08:55:44,800 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 08:55:44,831 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 08:55:44,862 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '67'}, response=None, status_code=None)
2025-04-17 08:55:44,893 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 08:55:44,924 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 08:55:44,955 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 08:55:44,986 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 6
2025-04-17 08:55:45,017 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 6
2025-04-17 08:55:45,126 - model        -get_currency_by_code- WARNING  - Валюта с кодом 6 не найдена
2025-04-17 08:55:45,156 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 6: Currency '6' not found
2025-04-17 08:55:45,203 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '6' not found
2025-04-17 08:55:45,234 - router       -_safe_call          - ERROR    - API ошибка: Currency '6' not found
2025-04-17 08:55:45,265 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 08:55:45,296 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '6' not found"} 404
2025-04-17 08:55:45,327 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 08:55:45,467 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:55:45,498 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:55:45,529 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:55:45,560 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:55:48,376 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:55:48,407 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:55:48,438 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:55:48,469 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:55:48,499 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 08:55:48,531 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-17 08:55:48,563 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-17 08:55:48,594 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-17 08:55:48,625 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 08:55:48,656 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 08:55:48,686 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 08:55:48,718 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-17 08:55:48,748 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-17 08:55:48,780 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-17 08:55:48,920 - controller   -handle_html_page    - DEBUG    - HTML-страница успешно загружена
2025-04-17 08:55:48,951 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-17 08:55:48,981 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-17 08:55:49,012 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/html; charset=utf-8, тип содержимого: <class 'str'>
2025-04-17 08:55:49,152 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:55:49,183 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:55:49,214 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:55:49,245 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:55:58,984 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 08:55:58,998 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-17 08:55:59,014 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 08:55:59,029 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 08:55:59,044 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 08:55:59,060 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 08:55:59,077 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 08:55:59,107 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-17 08:55:59,138 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-17 08:55:59,170 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-17 08:55:59,186 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-17 08:55:59,466 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-17 08:55:59,527 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-17 08:55:59,557 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-17 08:55:59,589 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-17 08:55:59,620 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 08:56:05,517 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:56:05,547 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:56:05,579 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:56:05,610 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:56:05,656 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 08:56:05,687 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=67
2025-04-17 08:56:05,718 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=67', fragment='')
2025-04-17 08:56:05,749 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '67'}
2025-04-17 08:56:05,780 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 08:56:05,811 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 08:56:05,842 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '67'}, response=None, status_code=None)
2025-04-17 08:56:05,873 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 08:56:05,904 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 08:56:05,935 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 08:56:05,966 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 6
2025-04-17 08:56:05,996 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 6
2025-04-17 08:56:06,073 - model        -get_currency_by_code- WARNING  - Валюта с кодом 6 не найдена
2025-04-17 08:56:06,105 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 6: Currency '6' not found
2025-04-17 08:56:06,151 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '6' not found
2025-04-17 08:56:06,181 - router       -_safe_call          - ERROR    - API ошибка: Currency '6' not found
2025-04-17 08:56:06,212 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 08:56:06,243 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '6' not found"} 404
2025-04-17 08:56:06,274 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 08:56:06,367 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:56:06,383 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:56:06,415 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:56:06,445 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:56:24,712 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 08:56:24,741 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-17 08:56:24,773 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-17 08:56:24,804 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-17 08:56:24,835 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 08:56:24,866 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 08:56:24,897 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 08:56:24,928 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-17 08:56:24,958 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-17 08:56:24,990 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-17 08:56:25,021 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-17 08:56:25,280 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-17 08:56:25,300 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:25,439 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:25,486 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 08:56:25,611 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 08:56:25,658 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:25,812 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:25,875 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 08:56:25,999 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 08:56:26,045 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 08:56:26,186 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 08:56:26,232 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:26,371 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:26,417 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 08:56:26,509 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 08:56:26,556 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 08:56:26,664 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 08:56:26,710 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 08:56:26,819 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 08:56:26,866 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 08:56:26,989 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 08:56:27,036 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 08:56:27,207 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 08:56:27,252 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 08:56:27,361 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 08:56:27,407 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 08:56:27,531 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 08:56:27,577 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:27,686 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:27,748 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 08:56:27,858 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 08:56:27,904 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 08:56:28,044 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 08:56:28,090 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:28,200 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:28,246 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 08:56:28,370 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 08:56:28,417 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 08:56:28,541 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 08:56:28,603 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 08:56:28,742 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 08:56:28,789 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 08:56:28,913 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 08:56:28,945 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 08:56:29,100 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 08:56:29,146 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:29,270 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:29,317 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-17 08:56:29,425 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-17 08:56:29,472 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:29,596 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:29,642 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 08:56:29,751 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 08:56:29,797 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 08:56:29,937 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 08:56:29,983 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-17 08:56:30,124 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-17 08:56:30,201 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-17 08:56:30,232 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-17 08:56:30,263 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-17 08:56:30,294 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 08:56:54,079 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:56:54,110 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:56:54,141 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:56:54,172 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:56:54,219 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 08:56:54,250 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency/RUB
2025-04-17 08:56:54,281 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency/RUB', params='', query='', fragment='')
2025-04-17 08:56:54,312 - router       -handle_request      - DEBUG    - Путь запроса: /currency/RUB, параметры: {}
2025-04-17 08:56:54,343 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 08:56:54,374 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 08:56:54,404 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency/RUB', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 08:56:54,436 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency/RUB
2025-04-17 08:56:54,467 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /currency/:code с /currency/RUB
2025-04-17 08:56:54,498 - router       -match_dynamic_route - DEBUG    - Динамический параметр: code = RUB
2025-04-17 08:56:54,528 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /currency/:code с /currency/RUB
2025-04-17 08:56:54,560 - router       -resolve             - INFO     - Найден динамический маршрут: GET /currency/RUB
2025-04-17 08:56:54,590 - controller   -get_currency_by_code_dynamic- INFO     - Получение валюты по коду (динамический метод)
2025-04-17 08:56:54,622 - controller   -get_currency_by_code_dynamic- DEBUG    - Код валюты из запроса: RUB
2025-04-17 08:56:54,653 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 08:56:54,761 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 08:56:54,823 - controller   -get_currency_by_code_dynamic- INFO     - Валюта найдена: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}
2025-04-17 08:56:54,854 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code_dynamic завершил выполнение без ошибок
2025-04-17 08:56:54,885 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'} 200
2025-04-17 08:56:54,916 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 08:56:55,056 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 08:56:55,087 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 08:56:55,118 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 08:56:55,149 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 08:57:00,862 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 08:57:00,893 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-17 08:57:00,924 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-17 08:57:00,955 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-17 08:57:00,985 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 08:57:01,017 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 08:57:01,048 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-17 08:57:01,079 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 08:57:01,110 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 08:57:01,141 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 08:57:01,172 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: U
2025-04-17 08:57:01,203 - model        -get_currency_by_code- INFO     - Получение валюты по коду: U
2025-04-17 08:57:01,327 - model        -get_currency_by_code- WARNING  - Валюта с кодом U не найдена
2025-04-17 08:57:01,357 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду U: Currency 'U' not found
2025-04-17 08:57:01,404 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency 'U' not found
2025-04-17 08:57:01,435 - router       -_safe_call          - ERROR    - API ошибка: Currency 'U' not found
2025-04-17 08:57:01,466 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 08:57:01,497 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'U' not found"} 404
2025-04-17 08:57:01,528 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 09:14:32,931 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 09:14:32,962 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 09:14:32,993 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 09:14:33,024 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 09:14:33,071 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 09:14:33,101 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=56
2025-04-17 09:14:33,132 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=56', fragment='')
2025-04-17 09:14:33,163 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '56'}
2025-04-17 09:14:33,194 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 09:14:33,225 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 09:14:33,256 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '56'}, response=None, status_code=None)
2025-04-17 09:14:33,287 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 09:14:33,317 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 09:14:33,348 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 09:14:33,379 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 5
2025-04-17 09:14:33,425 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 5
2025-04-17 09:14:33,534 - model        -get_currency_by_code- WARNING  - Валюта с кодом 5 не найдена
2025-04-17 09:14:33,565 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 5: Currency '5' not found
2025-04-17 09:14:33,612 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '5' not found
2025-04-17 09:14:33,643 - router       -_safe_call          - ERROR    - API ошибка: Currency '5' not found
2025-04-17 09:14:33,674 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 09:14:33,705 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '5' not found"} 404
2025-04-17 09:14:33,736 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 09:14:33,875 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 09:14:33,906 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 09:14:33,937 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 09:14:33,968 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 09:18:56,382 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 09:18:58,019 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 09:18:58,226 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 09:18:58,227 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 09:18:58,227 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 09:18:58,227 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 09:18:58,228 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 09:18:58,228 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 09:18:58,228 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 09:19:03,095 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 09:19:03,126 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 09:19:03,157 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 09:19:03,188 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 09:19:03,235 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 09:19:03,267 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=56
2025-04-17 09:19:03,298 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=56', fragment='')
2025-04-17 09:19:03,329 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '56'}
2025-04-17 09:19:03,360 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 09:19:03,391 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 09:19:03,422 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '56'}, response=None, status_code=None)
2025-04-17 09:19:03,453 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 09:19:03,484 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 09:19:03,515 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 09:19:03,545 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 5
2025-04-17 09:19:03,576 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 5
2025-04-17 09:19:03,699 - model        -get_currency_by_code- WARNING  - Валюта с кодом 5 не найдена
2025-04-17 09:19:03,730 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 5: Currency '5' not found
2025-04-17 09:19:03,776 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '5' not found
2025-04-17 09:19:03,807 - router       -_safe_call          - ERROR    - API ошибка: Currency '5' not found
2025-04-17 09:19:03,838 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '5' not found"} 404
2025-04-17 09:19:03,869 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 09:19:04,009 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 09:19:04,040 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 09:19:04,071 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 09:19:04,102 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 09:21:54,216 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 09:21:55,439 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 09:21:55,499 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 09:21:55,499 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 09:21:55,499 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 09:21:55,500 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 09:21:55,500 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 09:21:55,500 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 09:21:55,500 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 09:21:59,143 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 09:21:59,188 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 09:21:59,204 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 09:21:59,235 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 09:21:59,282 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 09:21:59,312 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=56
2025-04-17 09:21:59,344 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=56', fragment='')
2025-04-17 09:21:59,375 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '56'}
2025-04-17 09:21:59,390 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 09:21:59,421 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 09:21:59,453 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '56'}, response=None, status_code=None)
2025-04-17 09:21:59,484 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 09:21:59,515 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 09:21:59,546 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 09:21:59,577 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 5
2025-04-17 09:21:59,608 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 5
2025-04-17 09:21:59,716 - model        -get_currency_by_code- WARNING  - Валюта с кодом 5 не найдена
2025-04-17 09:21:59,747 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 5: Currency '5' not found
2025-04-17 09:21:59,794 - controller   -get_currency_by_code- WARNING  - CurrencyNotFoundError: Currency '5' not found
2025-04-17 09:21:59,825 - router       -_safe_call          - ERROR    - API ошибка: Currency '5' not found
2025-04-17 09:21:59,856 - router       -handle_request      - DEBUG    - Ответ DTO: None None
2025-04-17 09:21:59,887 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/plain; charset=utf-8, тип содержимого: <class 'NoneType'>
2025-04-17 09:22:00,026 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 09:22:00,057 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 09:22:00,088 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 09:22:00,119 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:27:46,398 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 10:27:47,639 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 10:27:47,708 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 10:27:47,708 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 10:27:47,708 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 10:27:47,709 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 10:27:47,709 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 10:27:47,710 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 10:27:47,710 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 10:27:52,233 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:27:52,264 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:27:52,295 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:27:52,326 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:27:52,373 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 10:27:52,403 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=56
2025-04-17 10:27:52,435 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=56', fragment='')
2025-04-17 10:27:52,465 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '56'}
2025-04-17 10:27:52,495 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:27:52,527 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 10:27:52,557 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '56'}, response=None, status_code=None)
2025-04-17 10:27:52,588 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 10:27:52,618 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 10:27:52,648 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 10:27:52,680 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 5
2025-04-17 10:27:52,710 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 5
2025-04-17 10:27:52,803 - model        -get_currency_by_code- WARNING  - Валюта с кодом 5 не найдена
2025-04-17 10:27:52,833 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 5: Currency '5' not found
2025-04-17 10:27:52,880 - router       -_safe_call          - ERROR    - API ошибка: Currency '5' not found
2025-04-17 10:27:52,911 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '5' not found"} 404
2025-04-17 10:27:52,942 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 10:27:53,080 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:27:53,110 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:27:53,141 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:27:53,171 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:28:33,927 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:28:33,957 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:28:33,989 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:28:34,019 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:28:34,065 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-17 10:28:34,095 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-17 10:28:34,125 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 10:28:34,156 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 10:28:34,187 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:28:34,218 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=ALL&name=Dollar
2025-04-17 10:28:34,249 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'ALL', 'name': 'Dollar'}, query_params={}, response=None, status_code=None)
2025-04-17 10:28:34,280 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-17 10:28:34,310 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-17 10:28:34,341 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-17 10:28:34,465 - router       -_safe_call          - ERROR    - API ошибка: Currency 'ALL' already exists
2025-04-17 10:28:34,496 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'ALL' already exists"} 409
2025-04-17 10:28:34,527 - app_server   -do_POST             - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 71, in do_POST
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-17 10:28:34,650 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 10:28:34,789 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:28:34,820 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:28:34,850 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:28:34,880 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:38:23,829 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 10:38:25,002 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 10:38:25,062 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 10:38:25,062 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 10:38:25,062 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 10:38:25,063 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 10:38:25,063 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 10:38:25,064 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 10:38:25,064 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 10:38:29,784 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:38:29,815 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:38:29,845 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:38:29,875 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:38:29,922 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-17 10:38:29,953 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-17 10:38:29,984 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 10:38:30,015 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 10:38:30,046 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:38:30,077 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=ALL&name=Dollar
2025-04-17 10:38:30,108 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'ALL', 'name': 'Dollar'}, query_params={}, response=None, status_code=None)
2025-04-17 10:38:30,139 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-17 10:38:30,170 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-17 10:38:30,201 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-17 10:38:30,309 - router       -_safe_call          - ERROR    - API ошибка: Currency 'ALL' already exists
2025-04-17 10:38:30,341 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'ALL' already exists"} 409
2025-04-17 10:38:30,371 - app_server   -send_response_content- DEBUG    - Отправка ответа [409] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 10:38:30,511 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:38:30,542 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:38:30,573 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:38:30,604 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:38:44,896 - app_server   -do_POST             - INFO     - Обработка POST-запроса
2025-04-17 10:38:44,926 - router       -handle_request      - INFO     - Обработка запроса:  POST /currencies
2025-04-17 10:38:44,958 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 10:38:44,988 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 10:38:45,018 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:38:45,048 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): code=ALL&name=Dollar
2025-04-17 10:38:45,079 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='POST', url='/currencies', headers={}, body={'code': 'ALL', 'name': 'Dollar'}, query_params={}, response=None, status_code=None)
2025-04-17 10:38:45,110 - router       -resolve             - DEBUG    - Маршрутизация запроса: POST /currencies
2025-04-17 10:38:45,142 - router       -resolve             - INFO     - Найден статический маршрут: POST /currencies
2025-04-17 10:38:45,171 - controller   -add_currency        - INFO     - Добавление новой валюты
2025-04-17 10:38:45,263 - router       -_safe_call          - ERROR    - API ошибка: Currency 'ALL' already exists
2025-04-17 10:38:45,296 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'ALL' already exists"} 409
2025-04-17 10:38:45,326 - app_server   -send_response_content- DEBUG    - Отправка ответа [409] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 10:47:17,873 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:47:17,905 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:47:17,936 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:47:17,967 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:47:18,013 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 10:47:18,044 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-17 10:47:18,074 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 10:47:18,105 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 10:47:18,136 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:47:18,167 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 10:47:18,198 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 10:47:18,229 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-17 10:47:18,260 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-17 10:47:18,291 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-17 10:47:18,307 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-17 10:47:18,506 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-17 10:47:18,553 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-17 10:47:18,583 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-17 10:47:18,613 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-17 10:47:18,645 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 10:47:18,784 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:47:18,815 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:47:18,846 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:47:18,876 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:47:25,907 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 10:47:25,937 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-17 10:47:25,969 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-17 10:47:25,999 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-17 10:47:26,029 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:47:26,061 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 10:47:26,091 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 10:47:26,121 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-17 10:47:26,153 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-17 10:47:26,183 - controller   -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-17 10:47:26,215 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-17 10:47:26,680 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-17 10:47:26,710 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:26,833 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:26,880 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 10:47:27,019 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 10:47:27,065 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:27,158 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:27,205 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 10:47:27,328 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 10:47:27,373 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 10:47:27,480 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 10:47:27,527 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:27,637 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:27,683 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 10:47:27,791 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 10:47:27,837 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 10:47:27,961 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 10:47:28,023 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 10:47:28,145 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 10:47:28,191 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 10:47:28,331 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 10:47:28,377 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 10:47:28,517 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 10:47:28,579 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 10:47:28,700 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 10:47:28,747 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 10:47:28,855 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 10:47:28,900 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:29,038 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:29,083 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 10:47:29,192 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 10:47:29,239 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 10:47:29,375 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 10:47:29,421 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:29,561 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:29,623 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 10:47:29,745 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 10:47:29,791 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 10:47:29,913 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 10:47:29,960 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 10:47:30,081 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 10:47:30,127 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 10:47:30,235 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 10:47:30,282 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 10:47:30,388 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 10:47:30,434 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:30,543 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:30,590 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-17 10:47:30,728 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-17 10:47:30,774 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:30,912 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:30,958 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 10:47:31,097 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 10:47:31,144 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:47:31,249 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:47:31,296 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-17 10:47:31,449 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-17 10:47:31,510 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-17 10:47:31,540 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-17 10:47:31,572 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-17 10:47:31,602 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 10:49:27,230 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:49:27,261 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:49:27,291 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:49:27,321 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:49:27,368 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 10:49:27,398 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRate?from=USD&to=ALL
2025-04-17 10:49:27,430 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate', params='', query='from=USD&to=ALL', fragment='')
2025-04-17 10:49:27,460 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'ALL'}
2025-04-17 10:49:27,492 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:49:27,522 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 10:49:27,553 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={}, body={}, query_params={'from': 'USD', 'to': 'ALL'}, response=None, status_code=None)
2025-04-17 10:49:27,583 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-17 10:49:27,615 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRate
2025-04-17 10:49:27,645 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 10:49:27,677 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-17 10:49:27,859 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 13
2025-04-17 10:49:27,906 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 10:49:28,045 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 10:49:28,091 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 10:49:28,201 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 10:49:28,247 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rate завершил выполнение без ошибок
2025-04-17 10:49:28,278 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 13, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0} None
2025-04-17 10:49:28,309 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 10:49:28,448 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 10:49:28,478 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 10:49:28,510 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 10:49:28,540 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 10:50:16,231 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 10:50:16,261 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-17 10:50:16,291 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 10:50:16,322 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 10:50:16,352 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 10:50:16,382 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 10:50:16,412 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 10:50:16,443 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-17 10:50:16,474 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-17 10:50:16,505 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-17 10:50:16,536 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-17 10:50:16,738 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-17 10:50:16,784 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-17 10:50:16,815 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-17 10:50:16,846 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-17 10:50:16,877 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 11:03:31,116 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:03:31,147 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:03:31,177 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:03:31,209 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:03:31,255 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:03:31,285 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-17 11:03:31,316 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 11:03:31,347 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 11:03:31,378 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:03:31,408 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:03:31,439 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:03:31,470 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-17 11:03:31,501 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-17 11:03:31,532 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-17 11:03:31,562 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-17 11:03:31,717 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-17 11:03:31,763 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-17 11:03:31,793 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-17 11:03:31,823 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-17 11:03:31,855 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 11:03:31,993 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:03:32,023 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:03:32,054 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:03:32,085 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:03:35,208 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:03:35,238 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=56
2025-04-17 11:03:35,268 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=56', fragment='')
2025-04-17 11:03:35,300 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': '56'}
2025-04-17 11:03:35,330 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:03:35,360 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:03:35,391 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': '56'}, response=None, status_code=None)
2025-04-17 11:03:35,422 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:03:35,453 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:03:35,483 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:03:35,515 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: 5
2025-04-17 11:03:35,545 - model        -get_currency_by_code- INFO     - Получение валюты по коду: 5
2025-04-17 11:03:35,654 - model        -get_currency_by_code- WARNING  - Валюта с кодом 5 не найдена
2025-04-17 11:03:35,684 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду 5: Currency '5' not found
2025-04-17 11:03:35,729 - router       -_safe_call          - ERROR    - API ошибка: Currency '5' not found
2025-04-17 11:03:35,761 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency '5' not found"} 404
2025-04-17 11:03:35,791 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:04:10,900 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:04:10,930 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:04:10,961 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:04:10,991 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:04:11,038 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:04:11,067 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-17 11:04:11,098 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-17 11:04:11,128 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-17 11:04:11,157 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:04:11,188 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:04:11,219 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-17 11:04:11,250 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:04:11,280 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:04:11,312 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:04:11,342 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: U
2025-04-17 11:04:11,372 - model        -get_currency_by_code- INFO     - Получение валюты по коду: U
2025-04-17 11:04:11,450 - model        -get_currency_by_code- WARNING  - Валюта с кодом U не найдена
2025-04-17 11:04:11,480 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду U: Currency 'U' not found
2025-04-17 11:04:11,541 - router       -_safe_call          - ERROR    - API ошибка: Currency 'U' not found
2025-04-17 11:04:11,572 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'U' not found"} 404
2025-04-17 11:04:11,603 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:04:11,741 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:04:11,772 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:04:11,802 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:04:11,832 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:04:54,479 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:04:55,661 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:04:55,726 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:04:55,726 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:04:55,726 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:04:55,727 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:04:55,727 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:04:55,728 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:04:55,728 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:04:58,036 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:04:58,068 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:04:58,098 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:04:58,128 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:04:58,176 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:04:58,206 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-17 11:04:58,237 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-17 11:04:58,268 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-17 11:04:58,299 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:04:58,330 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:04:58,361 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-17 11:04:58,392 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:04:58,423 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:04:58,454 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:04:58,486 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-17 11:04:58,517 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:04:58,672 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:04:58,718 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-17 11:04:58,750 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 11:04:58,779 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-17 11:04:58,811 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:04:58,889 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:04:58,920 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:04:58,951 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:04:58,982 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:05:04,700 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:05:04,729 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-17 11:05:04,761 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-17 11:05:04,791 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-17 11:05:04,823 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:05:04,853 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:05:04,885 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-17 11:05:04,915 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:05:04,946 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:05:04,976 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:05:05,006 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-17 11:05:05,037 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:05:05,177 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:05:05,224 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-17 11:05:05,254 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 11:05:05,285 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-17 11:05:05,317 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:05:13,330 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:05:13,360 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:05:13,392 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:05:13,422 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:05:13,484 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:05:13,514 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=us
2025-04-17 11:05:13,544 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=us', fragment='')
2025-04-17 11:05:13,576 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'us'}
2025-04-17 11:05:13,606 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:05:13,637 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:05:13,683 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'us'}, response=None, status_code=None)
2025-04-17 11:05:13,714 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:05:13,745 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:05:13,776 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:05:13,808 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: US
2025-04-17 11:05:13,839 - model        -get_currency_by_code- INFO     - Получение валюты по коду: US
2025-04-17 11:05:13,945 - model        -get_currency_by_code- WARNING  - Валюта с кодом US не найдена
2025-04-17 11:05:13,977 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду US: Currency 'US' not found
2025-04-17 11:05:14,022 - router       -_safe_call          - ERROR    - API ошибка: Currency 'US' not found
2025-04-17 11:05:14,052 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'US' not found"} 404
2025-04-17 11:05:14,084 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:05:14,224 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:05:14,254 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:05:14,286 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:05:14,316 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:06:29,935 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:06:31,105 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:06:31,169 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:06:31,169 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:06:31,170 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:06:31,170 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:06:31,170 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:06:31,171 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:06:31,171 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:06:34,372 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:06:34,403 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:06:34,433 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:06:34,464 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:06:34,510 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:06:34,541 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=us
2025-04-17 11:06:34,571 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=us', fragment='')
2025-04-17 11:06:34,601 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'us'}
2025-04-17 11:06:34,631 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:06:34,663 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:06:34,693 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'us'}, response=None, status_code=None)
2025-04-17 11:06:34,725 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:06:34,755 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:06:34,787 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:06:34,817 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: us
2025-04-17 11:06:34,847 - model        -get_currency_by_code- INFO     - Получение валюты по коду: US
2025-04-17 11:06:34,924 - model        -get_currency_by_code- WARNING  - Валюта с кодом US не найдена
2025-04-17 11:06:34,955 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду US: Currency 'US' not found
2025-04-17 11:06:35,001 - router       -_safe_call          - ERROR    - API ошибка: Currency 'US' not found
2025-04-17 11:06:35,033 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'US' not found"} 404
2025-04-17 11:06:35,063 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:06:35,171 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:06:35,201 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:06:35,232 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:06:35,263 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:07:07,612 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:07:08,584 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:07:08,634 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:07:08,634 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:07:08,634 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:07:08,635 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:07:08,635 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:07:08,636 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:07:08,636 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:07:10,857 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:07:10,889 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:07:10,919 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:07:10,949 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:07:10,996 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:07:11,026 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=us
2025-04-17 11:07:11,057 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=us', fragment='')
2025-04-17 11:07:11,088 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'us'}
2025-04-17 11:07:11,119 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:07:11,150 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:07:11,180 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'us'}, response=None, status_code=None)
2025-04-17 11:07:11,211 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:07:11,242 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:07:11,272 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:07:11,303 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: us
2025-04-17 11:07:11,334 - model        -get_currency_by_code- INFO     - Получение валюты по коду: us
2025-04-17 11:07:11,411 - model        -get_currency_by_code- WARNING  - Валюта с кодом us не найдена
2025-04-17 11:07:11,443 - model        -get_currency_by_code- ERROR    - Ошибка при получении валюты по коду us: Currency 'us' not found
2025-04-17 11:07:11,489 - router       -_safe_call          - ERROR    - API ошибка: Currency 'us' not found
2025-04-17 11:07:11,520 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': "Currency 'us' not found"} 404
2025-04-17 11:07:11,550 - app_server   -send_response_content- DEBUG    - Отправка ответа [404] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:07:11,688 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:07:11,718 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:07:11,750 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:07:11,780 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:07:18,375 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:07:18,405 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=usd
2025-04-17 11:07:18,435 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=usd', fragment='')
2025-04-17 11:07:18,466 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'usd'}
2025-04-17 11:07:18,496 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:07:18,527 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:07:18,558 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'usd'}, response=None, status_code=None)
2025-04-17 11:07:18,589 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:07:18,620 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:07:18,650 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:07:18,682 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: usd
2025-04-17 11:07:18,713 - model        -get_currency_by_code- INFO     - Получение валюты по коду: usd
2025-04-17 11:07:18,834 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:07:18,880 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-17 11:07:18,910 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 11:07:18,942 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-17 11:07:18,973 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:09:11,920 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:09:11,950 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:09:11,982 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:09:12,012 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:09:12,059 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:09:12,089 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-17 11:09:12,120 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-17 11:09:12,151 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-17 11:09:12,181 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:09:12,211 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:09:12,242 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:09:12,272 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-17 11:09:12,303 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-17 11:09:12,334 - controller   -get_exchange_rates  - INFO     - Получение всех курсов обмена валют
2025-04-17 11:09:12,365 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-17 11:09:12,764 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-17 11:09:12,795 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:12,903 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:12,950 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:09:13,059 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:09:13,105 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:13,241 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:13,288 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:09:13,412 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:09:13,459 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:09:13,581 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:09:13,627 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:13,767 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:13,813 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:09:13,953 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:09:13,999 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:09:14,123 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:09:14,169 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:09:14,277 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:09:14,323 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:09:14,462 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:09:14,508 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:09:14,630 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:09:14,677 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:09:14,863 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:09:14,910 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:09:15,018 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:09:15,064 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:15,187 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:15,234 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:09:15,371 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:09:15,433 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:09:15,542 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:09:15,589 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:15,711 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:15,773 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:09:15,881 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:09:15,927 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:09:16,066 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:09:16,113 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:09:16,217 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:09:16,264 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:09:16,386 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:09:16,432 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:09:16,556 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:09:16,602 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:16,740 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:16,786 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-17 11:09:16,956 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-17 11:09:17,002 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:17,155 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:17,201 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:09:17,325 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:09:17,371 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:09:17,510 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:09:17,557 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-17 11:09:17,649 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-17 11:09:17,711 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-17 11:09:17,741 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-17 11:09:17,772 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-17 11:09:17,802 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 11:09:17,924 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:09:17,956 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:09:17,988 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:09:18,003 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:09:41,866 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-17 11:09:41,896 - router       -handle_request      - INFO     - Обработка запроса:  PATCH /exchangeRate/USDRUB
2025-04-17 11:09:41,926 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate/USDRUB', params='', query='', fragment='')
2025-04-17 11:09:41,957 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-17 11:09:41,987 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:09:42,017 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-17 11:09:42,048 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={}, body={'rate': '1.3'}, query_params={}, response=None, status_code=None)
2025-04-17 11:09:42,078 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-17 11:09:42,110 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:09:42,140 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-17 11:09:42,170 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:09:42,202 - router       -resolve             - INFO     - Найден динамический маршрут: PATCH /exchangeRate/USDRUB
2025-04-17 11:09:42,232 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-17 11:09:42,264 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-17 11:09:42,386 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-17 11:09:42,524 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-17 11:09:42,554 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:09:42,693 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-17 11:09:42,755 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:09:42,787 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 164, in update_exchange_rate_by_pair
    self.get_exchange_rate(dto)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 117, in get_exchange_rate
    raise MissingRequiredFieldsError()
          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 3, in __init__
  File "C:\Users\dimki\.ipython\profile_default\test\errors.py", line 38, in __post_init__
    self.message = self.template.format(**self.__dict__)
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'fields'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 168, in update_exchange_rate_by_pair
    raise APIError("Failed to update exchange rate")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-17 11:09:43,144 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-17 11:09:43,175 - app_server   -do_PATCH            - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 84, in do_PATCH
    self.send_json_response(status_code, dto.response)
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'RequestHandler' object has no attribute 'send_json_response'. Did you mean: 'send_response'?
2025-04-17 11:09:43,315 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:12:58,602 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:12:59,771 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:12:59,833 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:12:59,833 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:12:59,833 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:12:59,834 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:12:59,834 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:12:59,835 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:12:59,835 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:13:03,008 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:13:03,039 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:13:03,071 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:13:03,101 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:13:03,147 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-17 11:13:03,179 - router       -handle_request      - INFO     - Обработка запроса:  PATCH /exchangeRate/USDRUB
2025-04-17 11:13:03,209 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate/USDRUB', params='', query='', fragment='')
2025-04-17 11:13:03,241 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-17 11:13:03,271 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:13:03,301 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-17 11:13:03,333 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={}, body={'rate': '1.3'}, query_params={}, response=None, status_code=None)
2025-04-17 11:13:03,363 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-17 11:13:03,394 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:13:03,426 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-17 11:13:03,456 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:13:03,488 - router       -resolve             - INFO     - Найден динамический маршрут: PATCH /exchangeRate/USDRUB
2025-04-17 11:13:03,518 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-17 11:13:03,550 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-17 11:13:03,642 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-17 11:13:03,751 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-17 11:13:03,782 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:13:03,874 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-17 11:13:03,936 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:13:03,968 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 164, in update_exchange_rate_by_pair
    self.get_exchange_rate(dto)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 117, in get_exchange_rate
    raise MissingRequiredFieldsError()
          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 3, in __init__
  File "C:\Users\dimki\.ipython\profile_default\test\errors.py", line 38, in __post_init__
    self.message = self.template.format(**self.__dict__)
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'fields'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 168, in update_exchange_rate_by_pair
    raise APIError("Failed to update exchange rate")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-17 11:13:04,337 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-17 11:13:04,368 - app_server   -do_PATCH            - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 84, in do_PATCH
    self.send_response_content(status_code, dto.response)
                               ^^^^^^^^^^^
NameError: name 'status_code' is not defined
2025-04-17 11:13:04,491 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:13:04,629 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:13:04,660 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:13:04,691 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:13:04,721 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:14:08,822 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:14:09,710 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:15:43,197 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:15:43,256 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:15:43,256 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:15:43,256 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:15:43,257 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:15:43,257 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:15:43,258 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:15:43,258 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:15:45,836 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:15:45,867 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:15:45,897 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:15:45,927 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:15:45,975 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:15:46,004 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-17 11:15:46,036 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-17 11:15:46,066 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-17 11:15:46,096 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:15:46,128 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:15:46,158 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:15:46,190 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-17 11:15:46,220 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-17 11:15:46,252 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-17 11:15:46,406 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-17 11:15:46,438 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-17 11:15:46,468 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 62, in do_GET
    self.send_response_content(status_code, dto.response)
                               ^^^^^^^^^^^
NameError: name 'status_code' is not defined
2025-04-17 11:15:46,592 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:15:46,732 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:15:46,763 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:15:46,794 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:15:46,825 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:15:52,010 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:15:52,040 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:15:52,071 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:15:52,103 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:15:52,148 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:15:52,178 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-17 11:15:52,208 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-17 11:15:52,238 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-17 11:15:52,269 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:15:52,300 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:15:52,331 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:15:52,363 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-17 11:15:52,394 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-17 11:15:52,424 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-17 11:15:52,561 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-17 11:15:52,592 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-17 11:15:52,622 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 62, in do_GET
    self.send_response_content(status_code, dto.response)
                               ^^^^^^^^^^^
NameError: name 'status_code' is not defined
2025-04-17 11:15:52,668 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:15:52,806 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:15:52,836 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:15:52,867 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:15:52,897 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:16:34,579 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:16:35,580 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:16:35,640 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:16:35,640 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:16:35,640 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:16:35,641 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:16:35,641 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:16:35,641 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:16:35,641 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:16:38,253 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:16:38,284 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:16:38,315 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:16:38,345 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:16:38,392 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:16:38,422 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-17 11:16:38,452 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-17 11:16:38,484 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-17 11:16:38,514 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:16:38,546 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:16:38,577 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:16:38,607 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-17 11:16:38,639 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-17 11:16:38,669 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-17 11:16:38,791 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-17 11:16:38,822 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-17 11:16:38,852 - app_server   -send_response_content- WARNING  - data не указано, используется пустой ответ
2025-04-17 11:16:38,883 - app_server   -send_response_content- DEBUG    - Отправка ответа [<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html>] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:16:38,929 - app_server   -do_GET              - ERROR    - Неизвестная ошибка
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 62, in do_GET
    self.send_response_content(dto.response)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\app_server.py", line 38, in send_response_content
    self.send_response(status_code)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\dimki\AppData\Local\Programs\Python\Python313\Lib\http\server.py", line 502, in send_response
    self.send_response_only(code, message)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\dimki\AppData\Local\Programs\Python\Python313\Lib\http\server.py", line 516, in send_response_only
    self._headers_buffer.append(("%s %d %s\r\n" %
                                 ~~~~~~~~~~~~~~~^
            (self.protocol_version, code, message)).encode(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
TypeError: %d format: a real number is required, not str
2025-04-17 11:16:39,327 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:16:39,451 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:16:39,483 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:16:39,513 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:16:39,545 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:27:29,427 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:27:30,518 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:27:30,569 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:27:30,569 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:27:30,570 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:27:30,570 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:27:30,570 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:27:30,571 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:27:30,571 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:27:33,367 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:27:33,397 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:27:33,427 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:27:33,457 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:27:33,504 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:27:33,534 - router       -handle_request      - INFO     - Обработка запроса:  GET /
2025-04-17 11:27:33,566 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/', params='', query='', fragment='')
2025-04-17 11:27:33,596 - router       -handle_request      - DEBUG    - Путь запроса: /, параметры: {}
2025-04-17 11:27:33,627 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:27:33,657 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:27:33,688 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:27:33,718 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /
2025-04-17 11:27:33,750 - router       -resolve             - INFO     - Найден статический маршрут: GET /
2025-04-17 11:27:33,780 - controller   -handle_html_page    - INFO     - Обработка HTML-страницы
2025-04-17 11:27:33,902 - router       -_safe_call          - DEBUG    - Обработчик handle_html_page завершил выполнение без ошибок
2025-04-17 11:27:33,934 - router       -handle_request      - DEBUG    - Ответ DTO: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Management</title>
</head>
<body>
    <h1>Currency Management</h1>

    <h2>Add Currency</h2>
    <form action="/currencies" method="post">
        <label for="code">Currency Code:</label>
        <input type="text" id="code" name="code" required><br>
        <label for="name">Currency Name:</label>
        <input type="text" id="name" name="name" required><br>
        <button type="submit">Add Currency</button>
    </form>

    <h2>View Currencies</h2>
    <form action="/currencies" method="get">
        <button type="submit">Load Currencies</button>
    </form>

    <h2>View Currency Details</h2>
    <form action="/currency" method="get">
        <label for="currency-code">Currency Code:</label>
        <input type="text" id="currency-code" name="code" required><br>
        <button type="submit">Get Details</button>
    </form>

    <h2>Add Exchange Rate</h2>
    <form action="/exchangeRates" method="post">
        <label for="from">From Currency:</label>
        <input type="text" id="from" name="from" required><br>
        <label for="to">To Currency:</label>
        <input type="text" id="to" name="to" required><br>
        <label for="rate">Rate:</label>
        <input type="number" id="rate" name="rate" step="0.01" required><br>
        <button type="submit">Add Rate</button>
    </form>

    <h2>Get Exchange Rate</h2>
    <form action="/exchangeRate" method="get">
        <label for="from-get">From Currency:</label>
        <input type="text" id="from-get" name="from" required><br>
        <label for="to-get">To Currency:</label>
        <input type="text" id="to-get" name="to" required><br>
        <button type="submit">Get Rate</button>
    </form>

    <h2>Обновление курса валют</h2>

    <form id="updateForm">
      <label>
        Валютная пара (6 символов, например USDRUB):
        <input type="text" name="pair" required pattern="[A-Za-z]{6}" />
      </label><br><br>
  
      <label>
        Новый курс:
        <input type="number" name="rate" step="0.01" required />
      </label><br><br>
  
      <button type="submit">Обновить</button>
    </form>
  
    <pre id="result"></pre>
  
    <script>
      const form = document.getElementById("updateForm");
      const result = document.getElementById("result");
  
      form.addEventListener("submit", async (event) => {
        event.preventDefault();
  
        const pair = form.pair.value.toUpperCase();
        const rate = form.rate.value;
  
        const body = new URLSearchParams({ rate });
  
        const response = await fetch(`http://localhost:8000/exchangeRate/${pair}`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: body.toString(),
        });
  
        const data = await response.json();
        result.textContent = JSON.stringify(data, null, 2);
      });
    </script>

    <h2>View Exchange Rates</h2>
    <form action="/exchangeRates" method="get">
        <button type="submit">Load Exchange Rates</button>
    </form>

    <h2>Convert Currency</h2>
    <form action="/convert" method="get">
        <label for="from-currency">From Currency:</label>
        <input type="text" id="from-currency" name="from" required><br>
        <label for="to-currency">To Currency:</label>
        <input type="text" id="to-currency" name="to" required><br>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required><br>
        <button type="submit">Convert</button>
    </form>
</body>
</html> None
2025-04-17 11:27:33,964 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: text/html; charset=utf-8, тип содержимого: <class 'str'>
2025-04-17 11:27:34,088 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:27:34,118 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:27:34,148 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:27:34,180 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:27:40,376 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:27:40,407 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:27:40,438 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:27:40,469 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:27:40,516 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:27:40,546 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-17 11:27:40,578 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-17 11:27:40,608 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-17 11:27:40,640 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:27:40,670 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:27:40,702 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:27:40,732 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-17 11:27:40,764 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-17 11:27:40,810 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-17 11:27:40,841 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-17 11:27:41,116 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-17 11:27:41,162 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-17 11:27:41,194 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-17 11:27:41,224 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-17 11:27:41,256 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 11:27:41,395 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:27:41,426 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:27:41,456 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:27:41,487 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:27:54,136 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:27:54,167 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-17 11:27:54,198 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-17 11:27:54,228 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-17 11:27:54,260 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:27:54,290 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:27:54,322 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:27:54,352 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-17 11:27:54,383 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-17 11:27:54,413 - controller   -get_exchange_rates  - INFO     - Получение всех курсов обмена валют
2025-04-17 11:27:54,443 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-17 11:27:54,644 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-17 11:27:54,675 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:54,813 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:54,859 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:27:54,982 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:27:55,028 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:55,150 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:55,196 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:27:55,304 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:27:55,350 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:27:55,458 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:27:55,505 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:55,615 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:55,661 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:27:55,769 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:27:55,816 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:27:55,925 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:27:55,973 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:27:56,097 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:27:56,142 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:27:56,297 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:27:56,343 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:27:56,464 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:27:56,510 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:27:56,619 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:27:56,665 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:27:56,835 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:27:56,880 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:57,003 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:57,065 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:27:57,173 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:27:57,219 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:27:57,358 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:27:57,405 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:57,526 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:57,588 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:27:57,726 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:27:57,772 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:27:57,896 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:27:57,941 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:27:58,079 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:27:58,125 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:27:58,233 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:27:58,279 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:27:58,387 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:27:58,433 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:58,526 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:58,572 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-17 11:27:58,711 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-17 11:27:58,772 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:58,880 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:58,926 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:27:59,063 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:27:59,109 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:27:59,264 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:27:59,310 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-17 11:27:59,417 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-17 11:27:59,478 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-17 11:27:59,508 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-17 11:27:59,538 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-17 11:27:59,569 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 11:28:10,044 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:28:10,075 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:28:10,106 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:28:10,137 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:28:10,183 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-17 11:28:10,215 - router       -handle_request      - INFO     - Обработка запроса:  PATCH /exchangeRate/USDRUB
2025-04-17 11:28:10,245 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate/USDRUB', params='', query='', fragment='')
2025-04-17 11:28:10,277 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-17 11:28:10,307 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:28:10,339 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-17 11:28:10,369 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={}, body={'rate': '1.3'}, query_params={}, response=None, status_code=None)
2025-04-17 11:28:10,401 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-17 11:28:10,431 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:28:10,463 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-17 11:28:10,493 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:28:10,525 - router       -resolve             - INFO     - Найден динамический маршрут: PATCH /exchangeRate/USDRUB
2025-04-17 11:28:10,555 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-17 11:28:10,587 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-17 11:28:10,695 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-17 11:28:10,819 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-17 11:28:10,850 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:28:10,958 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-17 11:28:11,020 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:28:11,050 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 164, in update_exchange_rate_by_pair
    self.get_exchange_rate(dto)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 117, in get_exchange_rate
    raise MissingRequiredFieldsError()
          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 3, in __init__
  File "C:\Users\dimki\.ipython\profile_default\test\errors.py", line 38, in __post_init__
    self.message = self.template.format(**self.__dict__)
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'fields'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 168, in update_exchange_rate_by_pair
    raise APIError("Failed to update exchange rate")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-17 11:28:11,420 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-17 11:28:11,450 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:28:11,590 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:28:11,621 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:28:11,652 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:28:11,683 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:35:08,782 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:35:08,812 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:35:08,843 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:35:08,873 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:35:08,921 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-17 11:35:08,952 - router       -handle_request      - INFO     - Обработка запроса:  PATCH /exchangeRate/USDRUB
2025-04-17 11:35:08,983 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate/USDRUB', params='', query='', fragment='')
2025-04-17 11:35:09,014 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-17 11:35:09,045 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:35:09,076 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-17 11:35:09,107 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={}, body={'rate': '1.3'}, query_params={}, response=None, status_code=None)
2025-04-17 11:35:09,138 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-17 11:35:09,169 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:35:09,200 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-17 11:35:09,231 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:35:09,262 - router       -resolve             - INFO     - Найден динамический маршрут: PATCH /exchangeRate/USDRUB
2025-04-17 11:35:09,293 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-17 11:35:09,323 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-17 11:35:09,447 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-17 11:35:09,584 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-17 11:35:09,616 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:35:09,738 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-17 11:35:09,802 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:35:09,832 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 164, in update_exchange_rate_by_pair
    self.get_exchange_rate(dto)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 117, in get_exchange_rate
    raise MissingRequiredFieldsError()
          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 3, in __init__
  File "C:\Users\dimki\.ipython\profile_default\test\errors.py", line 38, in __post_init__
    self.message = self.template.format(**self.__dict__)
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'fields'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 168, in update_exchange_rate_by_pair
    raise APIError("Failed to update exchange rate")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-17 11:35:09,923 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-17 11:35:09,955 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:35:10,093 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:35:10,124 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:35:10,154 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:35:10,185 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:38:03,606 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:38:03,637 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:38:03,668 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:38:03,699 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:38:03,745 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:38:03,775 - router       -handle_request      - INFO     - Обработка запроса:  GET /currency?code=USD
2025-04-17 11:38:03,806 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currency', params='', query='code=USD', fragment='')
2025-04-17 11:38:03,838 - router       -handle_request      - DEBUG    - Путь запроса: /currency, параметры: {'code': 'USD'}
2025-04-17 11:38:03,868 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:38:03,900 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:38:03,930 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currency', headers={}, body={}, query_params={'code': 'USD'}, response=None, status_code=None)
2025-04-17 11:38:03,962 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currency
2025-04-17 11:38:03,992 - router       -resolve             - INFO     - Найден статический маршрут: GET /currency
2025-04-17 11:38:04,023 - controller   -get_currency_by_code- INFO     - Получение валюты по коду
2025-04-17 11:38:04,055 - controller   -get_currency_by_code- DEBUG    - Код валюты из запроса: USD
2025-04-17 11:38:04,086 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:04,241 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:04,287 - controller   -get_currency_by_code- INFO     - Валюта найдена: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}
2025-04-17 11:38:04,319 - router       -_safe_call          - DEBUG    - Обработчик get_currency_by_code завершил выполнение без ошибок
2025-04-17 11:38:04,350 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'} None
2025-04-17 11:38:04,381 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:38:04,519 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:38:04,551 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:38:04,581 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:38:04,613 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:38:11,109 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:38:11,139 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRate?from=USD&to=ALL
2025-04-17 11:38:11,169 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate', params='', query='from=USD&to=ALL', fragment='')
2025-04-17 11:38:11,200 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'ALL'}
2025-04-17 11:38:11,231 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:38:11,261 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:38:11,293 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={}, body={}, query_params={'from': 'USD', 'to': 'ALL'}, response=None, status_code=None)
2025-04-17 11:38:11,324 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-17 11:38:11,356 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRate
2025-04-17 11:38:11,386 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:38:11,416 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> ALL
2025-04-17 11:38:11,510 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 13
2025-04-17 11:38:11,556 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:11,680 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:11,726 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:38:11,834 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:38:11,880 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rate завершил выполнение без ошибок
2025-04-17 11:38:11,912 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 13, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0} None
2025-04-17 11:38:11,943 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:38:16,004 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:38:16,034 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:38:16,064 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:38:16,095 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:38:16,142 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-17 11:38:16,171 - router       -handle_request      - INFO     - Обработка запроса:  PATCH /exchangeRate/USDRUB
2025-04-17 11:38:16,202 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate/USDRUB', params='', query='', fragment='')
2025-04-17 11:38:16,233 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-17 11:38:16,264 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:38:16,295 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-17 11:38:16,326 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={}, body={'rate': '1.3'}, query_params={}, response=None, status_code=None)
2025-04-17 11:38:16,357 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-17 11:38:16,388 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:38:16,418 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-17 11:38:16,449 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:38:16,480 - router       -resolve             - INFO     - Найден динамический маршрут: PATCH /exchangeRate/USDRUB
2025-04-17 11:38:16,511 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-17 11:38:16,542 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-17 11:38:16,681 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-17 11:38:16,774 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-17 11:38:16,806 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:38:16,961 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-17 11:38:17,023 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:38:17,053 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 164, in update_exchange_rate_by_pair
    self.get_exchange_rate(dto)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 117, in get_exchange_rate
    raise MissingRequiredFieldsError()
          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 3, in __init__
  File "C:\Users\dimki\.ipython\profile_default\test\errors.py", line 38, in __post_init__
    self.message = self.template.format(**self.__dict__)
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'fields'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 168, in update_exchange_rate_by_pair
    raise APIError("Failed to update exchange rate")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-17 11:38:17,147 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-17 11:38:17,177 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:38:17,317 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:38:17,348 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:38:17,379 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:38:17,410 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:38:19,768 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:38:19,798 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRates?
2025-04-17 11:38:19,829 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRates', params='', query='', fragment='')
2025-04-17 11:38:19,859 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRates, параметры: {}
2025-04-17 11:38:19,891 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:38:19,921 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:38:19,952 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRates', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-17 11:38:19,982 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRates
2025-04-17 11:38:20,012 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRates
2025-04-17 11:38:20,042 - controller   -get_exchange_rates  - INFO     - Получение всех курсов обмена валют
2025-04-17 11:38:20,072 - model        -get_exchange_rates  - INFO     - Получение курсов обмена валют
2025-04-17 11:38:20,594 - model        -get_exchange_rates  - DEBUG    - Результаты запроса курсов обмена: [(1, 'USD', 'RUB', 1.3), (2, 'USD', 'EUR', 1.0), (3, 'EUR', 'USD', 1.09), (4, 'EUR', 'RUB', 101.0), (5, 'ALL', 'RUB', 44.0), (6, 'RUB', 'ALL', 0.33), (7, 'RUB', 'USD', 2.0), (8, 'EUR', 'ETB', 12.0), (9, 'USD', 'ETB', 12.0), (10, 'ALL', 'ETB', 12.0), (11, 'RUB', 'ETB', 12.0), (12, 'USD', 'IDR', 22.0), (13, 'USD', 'ALL', 3.0), (14, 'USD', 'ZAR', 1.0)]
2025-04-17 11:38:20,626 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:20,750 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:20,812 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:38:20,904 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:38:20,951 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:21,106 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:21,153 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:38:21,292 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:38:21,339 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:38:21,461 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:38:21,507 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:21,615 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:21,677 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:38:21,832 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:38:21,863 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:38:22,017 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:38:22,064 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:38:22,173 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:38:22,220 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:38:22,359 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:38:22,406 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:38:22,530 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:38:22,576 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:38:22,700 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:38:22,746 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:38:22,870 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:38:22,916 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:23,025 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:23,070 - model        -get_currency_by_code- INFO     - Получение валюты по коду: EUR
2025-04-17 11:38:23,164 - model        -get_currency_by_code- DEBUG    - Результат запроса: (2, 'EUR', 'Евро', '€')
2025-04-17 11:38:23,210 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:38:23,334 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:38:23,380 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:23,488 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:23,536 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:38:23,674 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:38:23,720 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:38:23,843 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:38:23,890 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:38:24,058 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:38:24,105 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:38:24,212 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:38:24,259 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ETB
2025-04-17 11:38:24,414 - model        -get_currency_by_code- DEBUG    - Результат запроса: (5, 'ETB', 'Эфиопский быр', 'Br')
2025-04-17 11:38:24,460 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:24,569 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:24,631 - model        -get_currency_by_code- INFO     - Получение валюты по коду: IDR
2025-04-17 11:38:24,738 - model        -get_currency_by_code- DEBUG    - Результат запроса: (6, 'IDR', 'Индонезийская рупия', 'Rp')
2025-04-17 11:38:24,784 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:24,922 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:24,970 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ALL
2025-04-17 11:38:25,093 - model        -get_currency_by_code- DEBUG    - Результат запроса: (3, 'ALL', 'Албанский лек', 'L')
2025-04-17 11:38:25,140 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:38:25,248 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:38:25,294 - model        -get_currency_by_code- INFO     - Получение валюты по коду: ZAR
2025-04-17 11:38:25,433 - model        -get_currency_by_code- DEBUG    - Результат запроса: (7, 'ZAR', 'Южноафриканский рэнд', 'R')
2025-04-17 11:38:25,494 - controller   -get_exchange_rates  - DEBUG    - Курсы обмена: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}]
2025-04-17 11:38:25,525 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rates завершил выполнение без ошибок
2025-04-17 11:38:25,556 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3}, {'id': 2, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'rate': 1.0}, {'id': 3, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 1.09}, {'id': 4, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 101.0}, {'id': 5, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 44.0}, {'id': 6, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 0.33}, {'id': 7, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'rate': 2.0}, {'id': 8, 'from': {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 9, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 10, 'from': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 11, 'from': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'to': {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, 'rate': 12.0}, {'id': 12, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, 'rate': 22.0}, {'id': 13, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, 'rate': 3.0}, {'id': 14, 'from': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'to': {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}, 'rate': 1.0}] None
2025-04-17 11:38:25,602 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-17 11:38:54,424 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:38:54,455 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:38:54,487 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:38:54,517 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:38:54,564 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-17 11:38:54,594 - router       -handle_request      - INFO     - Обработка запроса:  PATCH /exchangeRate/USDRUB
2025-04-17 11:38:54,625 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate/USDRUB', params='', query='', fragment='')
2025-04-17 11:38:54,656 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-17 11:38:54,686 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:38:54,717 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-17 11:38:54,748 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={}, body={'rate': '1.3'}, query_params={}, response=None, status_code=None)
2025-04-17 11:38:54,779 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-17 11:38:54,810 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:38:54,841 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-17 11:38:54,871 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:38:54,902 - router       -resolve             - INFO     - Найден динамический маршрут: PATCH /exchangeRate/USDRUB
2025-04-17 11:38:54,949 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-17 11:38:54,979 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-17 11:38:55,088 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-17 11:38:55,243 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-17 11:38:55,273 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:38:55,412 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-17 11:38:55,458 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:38:55,473 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 164, in update_exchange_rate_by_pair
    self.get_exchange_rate(dto)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 117, in get_exchange_rate
    raise MissingRequiredFieldsError()
          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 3, in __init__
  File "C:\Users\dimki\.ipython\profile_default\test\errors.py", line 38, in __post_init__
    self.message = self.template.format(**self.__dict__)
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'fields'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 168, in update_exchange_rate_by_pair
    raise APIError("Failed to update exchange rate")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-17 11:38:55,503 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-17 11:38:55,533 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:38:55,672 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:38:55,703 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:38:55,734 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:38:55,765 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:41:28,007 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:41:28,023 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:41:28,023 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:41:28,039 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:41:28,084 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-17 11:41:28,114 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRate?from=USD&to=RUB
2025-04-17 11:41:28,145 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate', params='', query='from=USD&to=RUB', fragment='')
2025-04-17 11:41:28,176 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'RUB'}
2025-04-17 11:41:28,207 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:41:28,238 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-17 11:41:28,269 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={}, body={}, query_params={'from': 'USD', 'to': 'RUB'}, response=None, status_code=None)
2025-04-17 11:41:28,300 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-17 11:41:28,331 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRate
2025-04-17 11:41:28,362 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:41:28,393 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:41:28,501 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: 1
2025-04-17 11:41:28,546 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-17 11:41:28,701 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-17 11:41:28,762 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-17 11:41:28,870 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-17 11:41:28,916 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rate завершил выполнение без ошибок
2025-04-17 11:41:28,947 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3} None
2025-04-17 11:41:28,978 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:41:29,116 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:41:29,146 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:41:29,177 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:41:29,208 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:47:17,944 - __main__     -<module>            - INFO     - Завершение работы сервера
2025-04-17 11:47:19,456 - errors       -CurrencyNotFoundError- ERROR    - CurrencyNotFoundError
2025-04-17 11:47:19,505 - __main__     -<module>            - DEBUG    - Тестовое сообщение уровня DEBUG
2025-04-17 11:47:19,505 - __main__     -<module>            - INFO     - Инициализация базы данных
2025-04-17 11:47:19,505 - model        -init_db             - INFO     - Инициализация базы данных
2025-04-17 11:47:19,506 - model        -init_db             - INFO     - База данных успешно инициализирована
2025-04-17 11:47:19,506 - __main__     -<module>            - INFO     - Запуск сервера в отдельном потоке
2025-04-17 11:47:19,506 - app_server   -start_server        - INFO     - Запуск HTTP-сервера на http://localhost:8000
2025-04-17 11:47:19,506 - __main__     -<module>            - INFO     - Сервер запущен. Ожидание запросов.
2025-04-17 11:47:22,601 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:47:22,632 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:47:22,663 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:47:22,693 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-17 11:47:22,740 - app_server   -do_PATCH            - INFO     - Обработка PATCH-запроса
2025-04-17 11:47:22,770 - router       -handle_request      - INFO     - Обработка запроса:  PATCH /exchangeRate/USDRUB
2025-04-17 11:47:22,802 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate/USDRUB', params='', query='', fragment='')
2025-04-17 11:47:22,832 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate/USDRUB, параметры: {}
2025-04-17 11:47:22,862 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-17 11:47:22,894 - router       -_parse_body         - DEBUG    - Тело запроса (сырое): rate=1.3
2025-04-17 11:47:22,924 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='PATCH', url='/exchangeRate/USDRUB', headers={}, body={'rate': '1.3'}, query_params={}, response=None, status_code=None)
2025-04-17 11:47:22,940 - router       -resolve             - DEBUG    - Маршрутизация запроса: PATCH /exchangeRate/USDRUB
2025-04-17 11:47:22,971 - router       -match_dynamic_route - DEBUG    - Сопоставление динамического маршрута: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:47:23,001 - router       -match_dynamic_route - DEBUG    - Динамический параметр: pair = USDRUB
2025-04-17 11:47:23,031 - router       -match_dynamic_route - INFO     - Динамический маршрут успешно сопоставлен: /exchangeRate/:pair с /exchangeRate/USDRUB
2025-04-17 11:47:23,062 - router       -resolve             - INFO     - Найден динамический маршрут: PATCH /exchangeRate/USDRUB
2025-04-17 11:47:23,093 - controller   -update_exchange_rate_by_pair- INFO     - Обновление курса обмена по валютной паре
2025-04-17 11:47:23,124 - model        -patch_exchange_rate - INFO     - Обновление курса обмена: USD -> RUB = 1.3
2025-04-17 11:47:23,247 - model        -patch_exchange_rate - DEBUG    - result: (1,)
2025-04-17 11:47:23,369 - model        -patch_exchange_rate - INFO     - Курс обмена USD -> RUB успешно обновлен
2025-04-17 11:47:23,399 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-17 11:47:23,521 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: (1, 1.3)
2025-04-17 11:47:23,583 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-17 11:47:23,614 - router       -_safe_call          - ERROR    - Необработанная ошибка в контроллере
Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 164, in update_exchange_rate_by_pair
    self.get_exchange_rate(dto)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 117, in get_exchange_rate
    raise MissingRequiredFieldsError()
          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 3, in __init__
  File "C:\Users\dimki\.ipython\profile_default\test\errors.py", line 38, in __post_init__
    self.message = self.template.format(**self.__dict__)
                   ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'fields'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dimki\.ipython\profile_default\test\router.py", line 60, in _safe_call
    handler(dto)
    ~~~~~~~^^^^^
  File "C:\Users\dimki\.ipython\profile_default\test\controller.py", line 168, in update_exchange_rate_by_pair
    raise APIError("Failed to update exchange rate")
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: APIError.__init__() takes 1 positional argument but 2 were given
2025-04-17 11:47:23,968 - router       -handle_request      - DEBUG    - Ответ DTO: {'error': 'Internal server error'} 500
2025-04-17 11:47:23,999 - app_server   -send_response_content- DEBUG    - Отправка ответа [500] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-17 11:47:24,136 - router       -__init__            - INFO     - Инициализация Router
2025-04-17 11:47:24,168 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-17 11:47:24,197 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-17 11:47:24,228 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-18 09:32:54,804 - router       -__init__            - INFO     - Инициализация Router
2025-04-18 09:32:54,835 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-18 09:32:54,866 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-18 09:32:54,896 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-18 09:32:54,941 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-18 09:32:54,971 - router       -handle_request      - INFO     - Обработка запроса:  GET /currencies?
2025-04-18 09:32:55,001 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/currencies', params='', query='', fragment='')
2025-04-18 09:32:55,032 - router       -handle_request      - DEBUG    - Путь запроса: /currencies, параметры: {}
2025-04-18 09:32:55,063 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-18 09:32:55,093 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-18 09:32:55,124 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/currencies', headers={}, body={}, query_params={}, response=None, status_code=None)
2025-04-18 09:32:55,155 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /currencies
2025-04-18 09:32:55,185 - router       -resolve             - INFO     - Найден статический маршрут: GET /currencies
2025-04-18 09:32:55,215 - controller   -get_currencies      - INFO     - Получение списка валют
2025-04-18 09:32:55,245 - model        -get_currencies      - INFO     - Получение списка всех валют
2025-04-18 09:32:55,524 - model        -get_currencies      - DEBUG    - Список валют: [(1, 'USD', 'Доллар США', '$'), (2, 'EUR', 'Евро', '€'), (3, 'ALL', 'Албанский лек', 'L'), (4, 'RUB', 'Российский рубль', '₽'), (5, 'ETB', 'Эфиопский быр', 'Br'), (6, 'IDR', 'Индонезийская рупия', 'Rp'), (7, 'ZAR', 'Южноафриканский рэнд', 'R')]
2025-04-18 09:32:55,571 - controller   -get_currencies      - DEBUG    - Список валют: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}]
2025-04-18 09:32:55,601 - router       -_safe_call          - DEBUG    - Обработчик get_currencies завершил выполнение без ошибок
2025-04-18 09:32:55,633 - router       -handle_request      - DEBUG    - Ответ DTO: [{'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, {'id': 2, 'code': 'EUR', 'name': 'Евро', 'sign': '€'}, {'id': 3, 'code': 'ALL', 'name': 'Албанский лек', 'sign': 'L'}, {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, {'id': 5, 'code': 'ETB', 'name': 'Эфиопский быр', 'sign': 'Br'}, {'id': 6, 'code': 'IDR', 'name': 'Индонезийская рупия', 'sign': 'Rp'}, {'id': 7, 'code': 'ZAR', 'name': 'Южноафриканский рэнд', 'sign': 'R'}] None
2025-04-18 09:32:55,663 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'list'>
2025-04-18 09:32:55,803 - router       -__init__            - INFO     - Инициализация Router
2025-04-18 09:32:55,834 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-18 09:32:55,865 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-18 09:32:55,896 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-18 09:34:28,415 - router       -__init__            - INFO     - Инициализация Router
2025-04-18 09:34:28,445 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-18 09:34:28,475 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-18 09:34:28,507 - app_server   -__init__            - INFO     - Инициализация RequestHandler
2025-04-18 09:34:28,553 - app_server   -do_GET              - INFO     - Обработка GET-запроса
2025-04-18 09:34:28,583 - router       -handle_request      - INFO     - Обработка запроса:  GET /exchangeRate?from=USD&to=RUB
2025-04-18 09:34:28,613 - router       -handle_request      - DEBUG    - Парсинг пути запроса: ParseResult(scheme='', netloc='', path='/exchangeRate', params='', query='from=USD&to=RUB', fragment='')
2025-04-18 09:34:28,644 - router       -handle_request      - DEBUG    - Путь запроса: /exchangeRate, параметры: {'from': 'USD', 'to': 'RUB'}
2025-04-18 09:34:28,674 - router       -_parse_body         - INFO     - Парсинг тела запроса
2025-04-18 09:34:28,705 - router       -_parse_body         - DEBUG    - Тело запроса пустое
2025-04-18 09:34:28,736 - router       -handle_request      - DEBUG    - DTO создан: requestDTO(method='GET', url='/exchangeRate', headers={}, body={}, query_params={'from': 'USD', 'to': 'RUB'}, response=None, status_code=None)
2025-04-18 09:34:28,767 - router       -resolve             - DEBUG    - Маршрутизация запроса: GET /exchangeRate
2025-04-18 09:34:28,798 - router       -resolve             - INFO     - Найден статический маршрут: GET /exchangeRate
2025-04-18 09:34:28,828 - controller   -get_exchange_rate   - INFO     - Просмотр курса обмена
2025-04-18 09:34:28,859 - model        -get_exchange_rate   - INFO     - Получение курса обмена: USD -> RUB
2025-04-18 09:34:28,965 - model        -get_exchange_rate   - DEBUG    - Курс обмена найден: (1, 1.3)
2025-04-18 09:34:29,012 - model        -get_currency_by_code- INFO     - Получение валюты по коду: USD
2025-04-18 09:34:29,183 - model        -get_currency_by_code- DEBUG    - Результат запроса: (1, 'USD', 'Доллар США', '$')
2025-04-18 09:34:29,229 - model        -get_currency_by_code- INFO     - Получение валюты по коду: RUB
2025-04-18 09:34:29,353 - model        -get_currency_by_code- DEBUG    - Результат запроса: (4, 'RUB', 'Российский рубль', '₽')
2025-04-18 09:34:29,398 - router       -_safe_call          - DEBUG    - Обработчик get_exchange_rate завершил выполнение без ошибок
2025-04-18 09:34:29,429 - router       -handle_request      - DEBUG    - Ответ DTO: {'id': 1, 'baseCurrency': {'id': 1, 'code': 'USD', 'name': 'Доллар США', 'sign': '$'}, 'targetCurrency': {'id': 4, 'code': 'RUB', 'name': 'Российский рубль', 'sign': '₽'}, 'rate': 1.3} None
2025-04-18 09:34:29,459 - app_server   -send_response_content- DEBUG    - Отправка ответа [200] с типом: application/json; charset=utf-8, тип содержимого: <class 'dict'>
2025-04-18 09:34:29,599 - router       -__init__            - INFO     - Инициализация Router
2025-04-18 09:34:29,646 - router       -_register_routes    - DEBUG    - Статические маршруты: dict_keys([('GET', '/currencies'), ('GET', '/currency'), ('GET', '/exchangeRates'), ('POST', '/currencies'), ('POST', '/exchangeRates'), ('GET', '/exchangeRate'), ('GET', '/convert'), ('GET', '/'), ('PATCH', '/exchangeRate')])
2025-04-18 09:34:29,676 - router       -_register_routes    - DEBUG    - Динамические маршруты: ['/currency/:code', '/exchangeRates/:pair', '/exchangeRate/:pair']
2025-04-18 09:34:29,708 - app_server   -__init__            - INFO     - Инициализация RequestHandler
